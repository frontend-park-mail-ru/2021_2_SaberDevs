/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./public/common/categoriesList.js":
/*!*****************************************!*\
  !*** ./public/common/categoriesList.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst categoriesList = ['Маркетинг', 'Личный опыт', 'Вопросы', 'SaberDevs', 'Сервисы', 'Будущее', 'Финансы', 'Дизайн', 'Соцсети', 'Техника', 'Карьера', 'Медиа', 'Истории', 'Торговля', 'SEO', 'Офлайн', 'Видео', 'Офис', 'Офтоп', 'Транспорт', 'Право', 'Трибуна', 'Еда', 'Конкурсы', 'Приёмная', 'Миграция'];\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (categoriesList);\n\n//# sourceURL=webpack://saber_project/./public/common/categoriesList.js?");

/***/ }),

/***/ "./public/common/regexp.js":
/*!*********************************!*\
  !*** ./public/common/regexp.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"login\": () => (/* binding */ login),\n/* harmony export */   \"password\": () => (/* binding */ password),\n/* harmony export */   \"firstName\": () => (/* binding */ firstName),\n/* harmony export */   \"lastName\": () => (/* binding */ lastName),\n/* harmony export */   \"cirillic\": () => (/* binding */ cirillic),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Только буквенные латинские символы и _ числом от 4 до 20\nconst login = /^[a-zA-Z][a-zA-Z0-9_]{4,20}$/; // Любые символы числом от 8 до 256\n\nconst password = /^\\S{8,40}$/; // '^[A-Za-z0-9.,\\\\/#!$%\\\\^&\\\\*;:{}=\\\\-_`~()]{8,40}$';\n// '^(?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z])(?=(.*[a-zA-Z]){4}).{8,256}$';\n// Имена не короче 2-х букв.\n\nconst firstName = /^[a-zA-Zа-яА-Я]{2,}$/; // Тестировалось на:\n\n/*\r\nДжон\r\nГектор\r\nМатиас\r\nМартин\r\nАй\r\nЧао\r\nЭлжбета\r\nSalah\r\n*/\n// Поддерживает двойные фамилии, апострофы, дефисы.\n\nconst lastName = /^[a-zA-Zа-яА-Я]{1,}'?-?[a-zA-Zа-яА-Я]{1,}(\\s[a-zA-Zа-яА-Я]{1,})?$/; // Тестировалось на:\n\n/*\r\nСмит\r\nД'Ларги\r\nДоу-Смит\r\nд'Аррас\r\nЛютер Кинг\r\nDeniels\r\nCho-Go\r\nad-Din\r\nDi Angelo\r\nLa Malfa\r\n*/\n// Аналог [а-яёА-ЯЁ]\n\nconst cirillic = /[\\u0401\\u0451\\u0410-\\u044f]/;\nconst regexp = {\n  login,\n  password,\n  firstName,\n  lastName,\n  cirillic\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (regexp);\n\n//# sourceURL=webpack://saber_project/./public/common/regexp.js?");

/***/ }),

/***/ "./public/common/transformApi.js":
/*!***************************************!*\
  !*** ./public/common/transformApi.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"appendApiImg\": () => (/* binding */ appendApiImg),\n/* harmony export */   \"translateServerComment\": () => (/* binding */ translateServerComment)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n\n\n/**\r\n * @param {object} obj\r\n */\n\nfunction appendApiImg(obj) {\n  if ('avatarUrl' in obj && !obj.avatarUrl.startsWith(_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].APIurl)) {\n    obj.avatarUrl = _modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].APIurl + '/img/' + obj.avatarUrl;\n  }\n\n  if ('previewUrl' in obj && !obj.previewUrl.startsWith(_modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].APIurl)) {\n    obj.previewUrl = _modules_ajax_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].APIurl + '/img/' + obj.previewUrl;\n  }\n}\n;\n/**\r\n * @param {string} datetime\r\n * @return {number}\r\n */\n\nfunction translateServerDateToMS(datetime) {\n  // привожу 2021/11/23 13:13 к ISO 8601\n  // https://ru.wikipedia.org/wiki/ISO_8601\n  return Date.parse(datetime.replaceAll('/', '-').replace(' ', 'T') + ':00');\n}\n/**\r\n * преобразует комментарии из формата сервера в формат,\r\n * приемлимый для readerReducer\r\n * @param {ServerComment} commentServer\r\n * @param {User?} author\r\n * @return {Comment}\r\n */\n\n\nfunction translateServerComment(commentServer, author = null) {\n  const commentClient = { ...commentServer,\n    datetimeMS: translateServerDateToMS(commentServer.dateTime),\n    datetime: (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.getRusDateTime)(translateServerDateToMS(commentServer.dateTime))\n  };\n  delete commentClient.dateTime;\n  appendApiImg(commentClient.author);\n\n  if (author) {\n    commentClient.author = author;\n  }\n\n  return commentClient;\n}\n\n//# sourceURL=webpack://saber_project/./public/common/transformApi.js?");

/***/ }),

/***/ "./public/common/utils.js":
/*!********************************!*\
  !*** ./public/common/utils.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getRusDateTime\": () => (/* binding */ getRusDateTime),\n/* harmony export */   \"recoverBlobWithUrl\": () => (/* binding */ recoverBlobWithUrl),\n/* harmony export */   \"getFileBrowserStorageUrl\": () => (/* binding */ getFileBrowserStorageUrl),\n/* harmony export */   \"redirect\": () => (/* binding */ redirect),\n/* harmony export */   \"htmlToString\": () => (/* binding */ htmlToString),\n/* harmony export */   \"genRanHex\": () => (/* binding */ genRanHex),\n/* harmony export */   \"genRanHexColor\": () => (/* binding */ genRanHexColor),\n/* harmony export */   \"createInput\": () => (/* binding */ createInput),\n/* harmony export */   \"createInputRow\": () => (/* binding */ createInputRow),\n/* harmony export */   \"createLabel\": () => (/* binding */ createLabel),\n/* harmony export */   \"getPageHeight\": () => (/* binding */ getPageHeight),\n/* harmony export */   \"getUserWindowWidth\": () => (/* binding */ getUserWindowWidth),\n/* harmony export */   \"getUserWindowHeight\": () => (/* binding */ getUserWindowHeight),\n/* harmony export */   \"getCurrentPageYPos\": () => (/* binding */ getCurrentPageYPos),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// ///////////////////////////////// //\n//\n//                utils\n//\n// ///////////////////////////////// //\n\n/**\r\n * @param {number} time\r\n * @return {string}\r\n */\nfunction getRusDateTime(time) {\n  const options = {\n    year: 'numeric',\n    month: 'numeric',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: 'numeric',\n    timezone: 'Russia/Moscow'\n  };\n  return new Date(time).toLocaleString('ru', options);\n}\n/**\r\n * @param {BlobURL} url\r\n * @return {Promise<Blob>}\r\n */\n\nfunction recoverBlobWithUrl(url) {\n  return new Promise((resolve, reject) => {\n    if (typeof url !== 'string') {\n      reject(new Error('Передай мне строку, а не url: ' + url));\n    }\n\n    if (url === '') {\n      reject(new Error('Картинку не отправляем'));\n    } else {\n      resolve();\n    }\n  }).then(() => fetch(url)).then(res => res.blob());\n}\n/**\r\n * @param {string} file\r\n * @return {Promise}\r\n */\n\nfunction getFileBrowserStorageUrl(file) {\n  return new Promise(r => {\n    const reader = new FileReader();\n\n    reader.onload = e => r(e.target.result);\n\n    reader.readAsDataURL(file);\n  });\n}\n/**\r\n * Вызов Router.open(to) через имитацию клика\r\n * Обязательно наличие элемента #root в DOM\r\n * @param {string} to\r\n */\n\nfunction redirect(to) {\n  const clickSimulator = document.createElement('a');\n  const root = document.querySelector('#root');\n  clickSimulator.id = 'clickSimulator';\n  clickSimulator.href = to;\n  root.appendChild(clickSimulator);\n  clickSimulator.click();\n  root.removeChild(clickSimulator);\n}\n/**\r\n * Возврат содежимого в виде строки\r\n * @param {HTMLElement} el\r\n * @return {string}\r\n */\n\nfunction htmlToString(el) {\n  const wrapper = document.createElement('div');\n  wrapper.appendChild(el);\n  return wrapper.innerHTML;\n}\n/**\r\n * генерирует рандомный цвет\r\n * @param {number} size\r\n * @return {string}\r\n */\n\nfunction genRanHex(size = 6) {\n  return [...Array(size)].map(() => Math.floor(Math.random() * 16).toString(16)).join('');\n}\n/**\r\n * генерирует рандомный цвет\r\n * @param {number} size\r\n * @return {string}\r\n */\n\nfunction genRanHexColor() {\n  // https://stackoverflow.com/questions/12043187/how-to-check-if-hex-color-is-too-black\n  // функция из PHP\n  // цвет считается ярким, если яркость больше 155, тусклым, если < 40\n  while (true) {\n    const red = Math.floor(Math.random() * 255);\n    const green = Math.floor(Math.random() * 255);\n    const blue = Math.floor(Math.random() * 255);\n    const brightness = (red * 299 + green * 587 + blue * 114) / 1000; // Самый светлый черный в проекте #313030.\n    // пусть цвета тусклее #404040 (40h = 64) не пропускаются\n\n    if (brightness < 155 && brightness > 40 && red > 64 && green > 40 && blue > 64) {\n      return '#' + red.toString(16) + green.toString(16) + blue.toString(16);\n    }\n  }\n}\n/**\r\n * Создает импут-поле в одну строку\r\n * @param {string} type\r\n * @param {string} placeholder\r\n * @param {string} name\r\n * @param {string} title\r\n * @param {boolean} [required = false]\r\n * @param {string} pattern\r\n * @return {HTMLInputElement}\r\n */\n\nfunction createInput(type, placeholder, name, title = null, required = false, pattern = null) {\n  const input = document.createElement('input');\n  input.type = type;\n  input.name = name;\n  input.id = 'input-' + name;\n  input.placeholder = placeholder;\n  input.required = required;\n  if (title != null) input.title = title;\n  if (pattern != null) input.pattern = pattern;\n  return input;\n}\n/**\r\n * Создает красивую строку с импутом для формы\r\n * @param {HTMLInputElement} input\r\n * @return {HTMLDivElement}\r\n */\n\nfunction createInputRow(input) {\n  const div = document.createElement('div');\n  div.className = 'form-row';\n  const tooltip = document.createElement('div');\n  tooltip.className = 'tooltip';\n  tooltip.title = input.title;\n  const tooltipSign = document.createElement('div');\n  tooltipSign.className = 'tooltip-sign';\n  tooltipSign.textContent = '?';\n\n  if (input.title === 'null') {\n    tooltip.style.visibility = 'hidden';\n  }\n\n  div.appendChild(input);\n  tooltip.appendChild(tooltipSign);\n  div.appendChild(tooltip);\n  return div;\n}\n/**\r\n * Создает html-label в одну строку\r\n * @param {string} htmlFor\r\n * @param {string} text\r\n * @return {HTMLLabelElement}\r\n */\n\nfunction createLabel(htmlFor, text) {\n  const label = document.createElement('label');\n  label.textContent = text;\n  label.htmlFor = htmlFor;\n  return label;\n}\n/**\r\n * Возвращает доступную для отображения высоту окна с учетом скрола\r\n * @return {number}\r\n */\n\nfunction getPageHeight() {\n  return Math.max(document.body.scrollHeight, document.documentElement.scrollHeight, document.body.offsetHeight, document.documentElement.offsetHeight, document.body.clientHeight, document.documentElement.clientHeight);\n}\n/**\r\n * Возвращает ширину окна браузера пользователя\r\n * @return {number}\r\n */\n\nfunction getUserWindowWidth() {\n  return document.documentElement.clientWidth;\n}\n/**\r\n * Возвращает высоту окна браузера пользователя\r\n * @return {number}\r\n */\n\nfunction getUserWindowHeight() {\n  return document.documentElement.clientHeight;\n}\n/**\r\n * Возвращает текущую позицию скрола\r\n * @return {number}\r\n */\n\nfunction getCurrentPageYPos() {\n  return window.pageYOffset;\n}\nconst Utils = {\n  createInput,\n  createLabel,\n  createInputRow,\n  getPageHeight,\n  getUserWindowWidth,\n  getUserWindowHeight,\n  getCurrentPageYPos,\n  redirect,\n  htmlToString,\n  genRanHexColor,\n  getFileBrowserStorageUrl,\n  recoverBlobWithUrl,\n  getRusDateTime\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Utils);\n\n//# sourceURL=webpack://saber_project/./public/common/utils.js?");

/***/ }),

/***/ "./public/components/_basic/baseComponent.js":
/*!***************************************************!*\
  !*** ./public/components/_basic/baseComponent.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseComponent)\n/* harmony export */ });\n/* harmony import */ var _baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../globals.js */ \"./public/globals.js\");\n\n\n/**\r\n * [Интерфейс] ViewModel для View\r\n * @class BaseComponent\r\n */\n\nclass BaseComponent {\n  /**\r\n   * Конструктор с логом\r\n   */\n  constructor() {\n    this.root = document.createElement('div');\n    this.view = new _baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    this.unsubscribes = [];\n\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_1__.viewsDebug) {\n      console.log(`[VIEW ${this.constructor.name}]\\tinit`);\n    }\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_1__.viewsDebug) {\n      console.log(`[VIEW ${this.constructor.name}]\\trender`);\n    }\n\n    return document.createElement('div');\n  }\n  /**\r\n   * Очистка памяти и отписка от связанных событий\r\n   */\n\n\n  destroy() {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_1__.viewsDebug) {\n      console.log(`[VIEW  ${this.constructor.name}]\\tdestroy`);\n    }\n\n    this.view = null;\n    this.unsubscribes.forEach(unsubscribe => {\n      if (typeof unsubscribe === 'function') {\n        unsubscribe();\n      }\n    });\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/_basic/baseComponent.js?");

/***/ }),

/***/ "./public/components/_basic/baseComponentView.js":
/*!*******************************************************!*\
  !*** ./public/components/_basic/baseComponentView.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BaseComponentView)\n/* harmony export */ });\n/**\r\n * @class BaseComponentView\r\n */\nclass BaseComponentView {\n  /**\r\n    * @return {HTMLElement}\r\n    */\n  render() {\n    return document.createElement('div');\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/_basic/baseComponentView.js?");

/***/ }),

/***/ "./public/components/categoryChoiceBar/categoryChoiceBar.js":
/*!******************************************************************!*\
  !*** ./public/components/categoryChoiceBar/categoryChoiceBar.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CategoryChoiceBar)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _categoryChoiceBarView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./categoryChoiceBarView.js */ \"./public/components/categoryChoiceBar/categoryChoiceBarView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _common_categoriesList_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/categoriesList.js */ \"./public/common/categoriesList.js\");\n\n\n\n\n/**\r\n * ViewModel-компонент соответсвующего View\r\n * @class CatergoryChooseBar\r\n */\n\nclass CategoryChoiceBar extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Универсальный компонент заголовка для страницы с категориями\r\n   * @param {Action<string>} getCurrentSelection\r\n   * @param {Action<string>} setSelection\r\n   * @param {Action} clearSelection\r\n   * @param {Type} SELECT_CATEGORY_TYPE\r\n   */\n  constructor(getCurrentSelection, setSelection, clearSelection, SELECT_CATEGORY_TYPE) {\n    super();\n    this.view = new _categoryChoiceBarView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.setSelection = setSelection;\n    this.clearSelection = clearSelection;\n    this.getCurrentSelection = getCurrentSelection; // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    this.unsubscribes.push( // Выделить выбранную категорию\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(SELECT_CATEGORY_TYPE, category => {\n      this.markSelectedCategory(category);\n    }));\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    this.root = this.view.render(_common_categoriesList_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]);\n    const categoriesBox = this.root.querySelector('div.tags');\n    this.root.querySelectorAll('div.tags__tag-content').forEach(category => {\n      category.addEventListener('click', ({\n        target\n      }) => {\n        const choosenCategory = this.getCurrentSelection();\n\n        if (target.innerHTML === choosenCategory) {\n          _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(this.clearSelection());\n        } else {\n          _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(this.setSelection(target.textContent));\n        }\n      });\n\n      if (category.textContent.trim() === this.getCurrentSelection()) {\n        category.classList.add('categories__choosen');\n      }\n    }); // Выводятся нужные теги при вводе в поисковую строку (поиск)\n\n    const showMatch = (elem, pos, len) => elem.slice(0, pos) + '<span class=\"categories__mark\">' + elem.slice(pos, pos + len) + '</span>' + elem.slice(pos + len);\n\n    this.root.querySelector('input.categories__search-input').oninput = e => {\n      const value = e.target.value.trim().toLocaleLowerCase();\n\n      if (value != '') {\n        categoriesBox.childNodes.forEach(content => {\n          const elem = content.lastChild;\n          const pos = elem.textContent.toLocaleLowerCase().indexOf(value);\n\n          if (pos == -1) {\n            elem.parentElement.style.display = 'none';\n            elem.innerHTML = elem.textContent;\n          } else {\n            elem.parentElement.style.display = '';\n            elem.innerHTML = showMatch(elem.textContent, pos, value.length);\n          }\n        });\n      } else {\n        categoriesBox.childNodes.forEach(content => {\n          const elem = content.lastChild;\n          elem.parentElement.style.display = '';\n          elem.innerHTML = elem.textContent;\n        });\n      }\n    };\n\n    return this.root;\n  }\n  /**\r\n   * пройтись по всем сущностям и выделить выбранный\r\n   * @param {string} currentCategory\r\n   */\n\n\n  markSelectedCategory(currentCategory) {\n    const categoriesBox = this.root.querySelector('div.tags');\n\n    if (!categoriesBox) {\n      console.warn('{CategoryChoiceBar} component hasn\\'t been rendered yet');\n      return;\n    }\n\n    categoriesBox.childNodes.forEach(categoryDiv => {\n      categoryDiv.classList.remove('categories__choosen');\n\n      if (categoryDiv.innerText === currentCategory) {\n        categoryDiv.classList.add('categories__choosen');\n      }\n    });\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/categoryChoiceBar/categoryChoiceBar.js?");

/***/ }),

/***/ "./public/components/categoryChoiceBar/categoryChoiceBar.pug.js":
/*!**********************************************************************!*\
  !*** ./public/components/categoryChoiceBar/categoryChoiceBar.pug.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ categoryChoiceBarComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_has_own_property = Object.prototype.hasOwnProperty;\nvar pug_match_html = /[\"&<>]/;\n\nfunction pug_style(r) {\n  if (!r) return \"\";\n\n  if (\"object\" == typeof r) {\n    var t = \"\";\n\n    for (var e in r) pug_has_own_property.call(r, e) && (t = t + e + \":\" + r[e] + \";\");\n\n    return t;\n  }\n\n  return r + \"\";\n}\n\nfunction x() {}\n\n;\nfunction categoryChoiceBarComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (Array, categories) {\n    pug_mixins[\"tagMixin\"] = pug_interp = function (content, color, cross = false) {\n      var block = this && this.block,\n          attributes = this && this.attributes || {};\n      pug_html = pug_html + \"\\u003Cdiv\" + (\" class=\\\"tags__tag-content\\\"\" + pug_attr(\"style\", pug_style(`background-color: ${color}`), true, false)) + \"\\u003E \";\n\n      if (cross) {\n        pug_html = pug_html + \"\\u003Cdiv class=\\\"tags__tag tags_with-cross\\\"\\u003E\" + (null == (pug_interp = content) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv\" + (\" class=\\\"tags__tag__del-btn cross-icon cross-icon_white\\\"\" + pug_attr(\"style\", pug_style(`background-color: ${color}`), true, false)) + \"\\u003E\\u003C\\u002Fdiv\\u003E\";\n      } else {\n        pug_html = pug_html + \"\\u003Cdiv class=\\\"tags__tag\\\"\\u003E\" + (null == (pug_interp = content) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\";\n      }\n\n      pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\";\n    };\n\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"plate\\\"\\u003E\\u003Cdiv class=\\\"categories__search-block\\\"\\u003E\\u003Cdiv class=\\\"categories__search\\\"\\u003E\\u003Cinput class=\\\"categories__search-input\\\" type=\\\"text\\\" id=\\\"categories-search\\\" placeholder=\\\"фильтр\\\"\\u002F\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"tags\\\"\\u003E\";\n\n    if (Array.isArray(categories)) {\n      // iterate categories\n      ;\n      (function () {\n        var $$obj = categories;\n\n        if ('number' == typeof $$obj.length) {\n          for (var pug_index0 = 0, $$l = $$obj.length; pug_index0 < $$l; pug_index0++) {\n            var category = $$obj[pug_index0];\n            pug_mixins[\"tagMixin\"](category.content, category.color);\n          }\n        } else {\n          var $$l = 0;\n\n          for (var pug_index0 in $$obj) {\n            $$l++;\n            var category = $$obj[pug_index0];\n            pug_mixins[\"tagMixin\"](category.content, category.color);\n          }\n        }\n      }).call(this);\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"Array\" in locals_for_with ? locals_for_with.Array : typeof Array !== 'undefined' ? Array : undefined, \"categories\" in locals_for_with ? locals_for_with.categories : typeof categories !== 'undefined' ? categories : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/categoryChoiceBar/categoryChoiceBar.pug.js?");

/***/ }),

/***/ "./public/components/categoryChoiceBar/categoryChoiceBarView.js":
/*!**********************************************************************!*\
  !*** ./public/components/categoryChoiceBar/categoryChoiceBarView.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CategoryChoiceBarView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _categoryChoiceBar_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./categoryChoiceBar.pug.js */ \"./public/components/categoryChoiceBar/categoryChoiceBar.pug.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/utils.js */ \"./public/common/utils.js\");\n\n\n\n/**\r\n * @class CatergoryChooseBarView\r\n */\n\nclass CategoryChoiceBarView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {Array<string>} categories\r\n   * @return {HTMLElement}\r\n   */\n  render(categories) {\n    const barDiv = document.createElement('div');\n    barDiv.innerHTML = (0,_categoryChoiceBar_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      categories: categories.map(c => ({\n        content: c,\n        color: (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_2__.genRanHexColor)()\n      }))\n    });\n    return barDiv.firstChild;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/categoryChoiceBar/categoryChoiceBarView.js?");

/***/ }),

/***/ "./public/components/editor/articleEditor.pug.js":
/*!*******************************************************!*\
  !*** ./public/components/editor/articleEditor.pug.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ articleEditorComponent)\n/* harmony export */ });\nfunction x() {}\n\n;\nfunction articleEditorComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (tags) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"article-create\\\"\\u003E\\u003Cdiv class=\\\"article-create__title\\\"\\u003EСоздание статьи\\u003C\\u002Fdiv\\u003E\\u003Cform class=\\\"article-create__form\\\"\\u003E\\u003Cdiv class=\\\"article-create__category_selector\\\"\\u003E\\u003Cdiv class=\\\"article-create__row\\\"\\u003E\\u003Cdiv class=\\\"article-create__label\\\"\\u003EВыберите категорию\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__right\\\"\\u003E\\u003Cbutton class=\\\"btn_color-elementary article-create__del-btn\\\"\\u003EУдалить\\u003C\\u002Fbutton\\u003E\\u003Cbutton class=\\\"btn_color-elementary article-create__clear-btn\\\"\\u003EОчистить\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__rows\\\"\\u003E\\u003Cdiv class=\\\"article-create__row\\\"\\u003E\\u003Cdiv class=\\\"article-create__label\\\"\\u003EЗаголовок\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__field\\\"\\u003E\\u003Cinput class=\\\"article-create__input\\\" type=\\\"text\\\" name=\\\"title\\\"\\u002F\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__row\\\"\\u003E\\u003Cdiv class=\\\"article-create__label\\\"\\u003EТекст статьи\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__field\\\"\\u003E\\u003Ctextarea class=\\\"article-create__input article-create__text\\\" name=\\\"text\\\"\\u003E\\u003C\\u002Ftextarea\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__row\\\"\\u003E\\u003Cdiv class=\\\"article-create__label\\\"\\u003EТеги\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__tags-actions\\\"\\u003E\\u003Cinput class=\\\"article-create__input-tag\\\" type=\\\"text\\\" name=\\\"tag\\\" maxlength=\\\"20\\\"\\u002F\\u003E\\u003Cbutton class=\\\"article-create__add-tag\\\"\\u003E+\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__tags\\\"\\u003E\" + (null == (pug_interp = tags) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__right\\\"\\u003E\\u003Cinput class=\\\"btn_color-elementary\\\" type=\\\"file\\\" name=\\\"photo\\\" value=\\\"Заставка\\\"\\u002F\\u003E\\u003Cinput class=\\\"btn_color-elementary\\\" type=\\\"button\\\" name=\\\"clear-photo\\\" value=\\\"Удалить картинку\\\"\\u002F\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__preview\\\"\\u003E\\u003Cdiv class=\\\"article-create__preview__title\\\"\\u003EПредпросмотр:\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__preview__content\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__tags-actions\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-create__right\\\"\\u003E\\u003Cinput class=\\\"btn_color-elementary\\\" type=\\\"submit\\\" name=\\\"btn-submit\\\" value=\\\"Создать\\\"\\u002F\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fform\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"tags\" in locals_for_with ? locals_for_with.tags : typeof tags !== 'undefined' ? tags : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/editor/articleEditor.pug.js?");

/***/ }),

/***/ "./public/components/editor/editor.js":
/*!********************************************!*\
  !*** ./public/components/editor/editor.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Editor)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _editorView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editorView.js */ \"./public/components/editor/editorView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../flux/actions/editorActions.js */ \"./public/flux/actions/editorActions.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../modal/modalTemplates.js */ \"./public/components/modal/modalTemplates.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../globals.js */ \"./public/globals.js\");\n\n\n\n\n\n\n\n\n\n\n/**\r\n   * Проверяет состояние editor\r\n   * @return {boolean}\r\n   */\n\nfunction isUpdateFromState() {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor;\n  return typeof state.currentId === 'string' && state.currentId !== '0' || typeof state.currentId === 'number' && state.currentId !== 0;\n}\n/**\r\n * Компонент редактора статей\r\n * @class Editor\r\n */\n\n\nclass Editor extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Окошко сообщений о состоянии сервиса\r\n   */\n  constructor() {\n    super();\n    this.view = new _editorView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](() => {\n      const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor;\n      return state[state.currentId]?.category || '';\n    }, _flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].saveCategory, _flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].clearCategory, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.editorTypes.SAVE_CATEGORY); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    this.unsubscribes.push(_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.editorTypes.CLEAR_ARTICLE, () => {\n      this.clear();\n    }), _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.editorTypes.PUBLISH_ARTICLE, () => {\n      this.clear();\n    }), _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.editorTypes.CREATE_ARTICLE, () => {\n      this.changeToCreate();\n      this.setContent(_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor[0]);\n    }), _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.editorTypes.EDIT_EXISTING_ARTICLE, ({\n      id\n    }) => {\n      this.changeToUpdate();\n      this.setContent(_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor[id]);\n    }), _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.editorTypes.SAVE_CATEGORY, category => {\n      this.view.changePreviewCategory(category);\n    }));\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    this.root = this.view.render(_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().authorization); // Проверяем, было ли вызвано событие EDIT_EXISTING_ARTICLE\n    // до рендера. Если было, то в сторе есть изменения.\n    // Проверяем, что стор неинициализирован. такое бывает, если перешли\n    // в редактор по урлу. Должен быть редирект на логин\n\n    if (!_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor[_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor.currentId]) {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createArticle());\n    }\n\n    const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor;\n    this.setContent(state[state.currentId]);\n\n    if (typeof state.currentId === 'string' && state.currentId !== '0' || typeof state.currentId === 'number' && state.currentId !== 0) {\n      this.changeToUpdate();\n    } else {\n      this.changeToCreate();\n    }\n\n    state[state.currentId].tags.forEach(tag => {\n      this.view.appendTag(tag, () => _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].removeTag(tag)));\n    }); // //////////////////////////////////\n    //\n    //          Обработчики\n    //\n    // //////////////////////////////////\n    // кнопка добавления тега\n\n    const tagInput = this.root.querySelector('input.article-create__input-tag');\n    this.root.querySelector('.article-create__add-tag').addEventListener('click', e => {\n      e.preventDefault();\n      const tag = tagInput.value.trim().replace(/\\s+/g, '_'); // Проверка, а есть ли уже такой тег?\n\n      const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor;\n\n      if (tag === '' || state[state.currentId].tags.includes(tag)) {\n        return;\n      }\n\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].appendTag(tag));\n      this.view.appendTag(tag, () => _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].removeTag(tag)));\n      tagInput.value = '';\n    });\n    const textareaInput = this.root.querySelector('textarea');\n    const titleInput = this.root.querySelector('input[name=\"title\"]'); // Сохранение введенного пользователем текста onChange\n    // Этот евент не рейзится, если textValue меняется программой\n\n    const textInputChangeListener = e => {\n      const title = titleInput.value;\n      const text = textareaInput.value;\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].saveArticle(_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor.currentId, {\n        title,\n        text\n      }));\n    };\n\n    textareaInput.addEventListener('change', textInputChangeListener);\n    titleInput.addEventListener('input', textInputChangeListener); // Дублирование измененного текста на превью\n\n    textareaInput.addEventListener('input', e => {\n      this.view.changePreviewText(textareaInput.value);\n    });\n    titleInput.addEventListener('input', e => {\n      const title = titleInput.value;\n      this.view.changePreviewTitle(title);\n    }); // сброс полей статьи\n\n    this.root.querySelector('.article-create__clear-btn').addEventListener('click', e => {\n      e.preventDefault();\n      _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].confirm('Вы собираетесь очистить всё', 'Продолжив, Вы безвозвратно сотрете то, что написали', () => {\n        this.clear();\n      });\n    }); // удаление статьи\n\n    this.root.querySelector('.article-create__del-btn').addEventListener('click', e => {\n      e.preventDefault();\n      _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].confirm('Точно хотите удалить?', 'Продолжив, вы удалите статью', () => {\n        _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].post({\n          url: `/articles/delete?id=${_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor.currentId}`,\n          body: {}\n        }).then(({\n          status,\n          response\n        }) => {\n          if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n            _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].deleteArticle(_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor.currentId));\n            _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].informativeMsg('Успех!', 'Статья была удалена');\n            redirect('/profile');\n            return;\n          }\n\n          if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.invalidSession) {\n            _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_4__.authorizationActions.logout());\n            _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].signup(false);\n            return;\n          } // В случае ошибки\n\n\n          _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].netOrServerError(status, response.msg);\n        });\n      });\n    }); // сабмит формы\n\n    this.root.querySelector('form').addEventListener('submit', e => {\n      e.preventDefault();\n      const text = this.root.querySelector('textarea')?.value.trim();\n      const title = this.root.querySelector('input[name=\"title\"]')?.value.trim();\n\n      if (!text || !title || text === '' || title === '') {\n        console.warn('{Editor} пустые статьи - это плохо:', {\n          text\n        }, {\n          title\n        });\n        _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].informativeMsg('Ошибка', 'Заголовок и текст статьи не должны быть пустыми');\n        return;\n      }\n\n      const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor;\n      const isUpdate = isUpdateFromState();\n      const category = state[state.currentId].category;\n\n      if (state[state.currentId].category === '') {\n        _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].informativeMsg('Ошибка', 'Не забудьте указать одну из категорий, наиболее ' + 'точно описывающую Вашу статью');\n        return;\n      }\n\n      const body = {\n        title,\n        text,\n        category,\n        // img: 'добавляем ниже',\n        tags: state[state.currentId].tags\n      };\n\n      if (isUpdate) {\n        Object.assign(body, {\n          id: state.currentId\n        });\n      }\n\n      let responseStatus = 0;\n      (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_8__.recoverBlobWithUrl)(state[state.currentId].img).then(blob => _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].postFile({\n        url: '/img/upload',\n        body: blob\n      })).then(({\n        status,\n        response\n      }) => new Promise((resolve, reject) => {\n        if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n          resolve(response.data.imgId);\n        } else {\n          responseStatus = status;\n          reject(new Error(response.msg));\n        }\n      })) // Если падает Blob то надо восстановить цепочку,\n      // а если Ajax, то перейти в конец\n      .catch(err => new Promise((resolve, reject) => {\n        // упал Blob, а не сеть -> продолжить без картинки\n        if (responseStatus === 0) {\n          resolve('');\n        } else {\n          reject(err);\n        }\n      })).then(img => _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].post({\n        url: `/articles/${isUpdate ? 'update' : 'create'}`,\n        body: { ...body,\n          img\n        }\n      })).then(({\n        status,\n        response\n      }) => new Promise((resolve, reject) => {\n        if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n          resolve(response.data);\n        } else {\n          responseStatus = status;\n          reject(new Error(response.msg));\n        }\n      })).then(articleId => {\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].publishArticle(articleId));\n        _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].informativeMsg('Успех!', `Статья успешно ${isUpdate ? 'изменена' : 'создана'}`);\n        redirect(`/article/${isUpdate ? state.currentId : articleId}`);\n      }).catch(({\n        message\n      }) => {\n        if (responseStatus === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.invalidSession) {\n          _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_4__.authorizationActions.logout());\n          _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].signup(false);\n          return;\n        }\n\n        if (_globals_js__WEBPACK_IMPORTED_MODULE_9__.ajaxDebug) {\n          console.warn(message);\n        }\n\n        _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].netOrServerError(responseStatus, message);\n      });\n    }); // Загрузка превьюхи\n\n    this.root.querySelector('input[name=\"photo\"]').addEventListener('change', e => {\n      const file = e.currentTarget.files[0];\n\n      if (!file.type.startsWith('image/')) {\n        _modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].warn('Ошибка', 'Выберите изображение');\n        return;\n      }\n\n      (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_8__.getFileBrowserStorageUrl)(file).then(imgUrl => {\n        this.view.changePreviewImage(imgUrl);\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].saveImg(imgUrl));\n      });\n    }); // удаление фото с превью\n\n    this.root.querySelector('input[name=\"clear-photo\"]').addEventListener('click', e => {\n      e.preventDefault();\n      this.view.clearPreviewImage();\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].clearImg());\n    });\n    return this.root;\n  }\n  /**\r\n    * Перерисовать главную страницу\r\n    * @param {Object?} existingArticle\r\n    * @property {string} title\r\n    * @property {string} text\r\n    * @property {Array<string>?} tags\r\n    * @property {number?} time\r\n    * @property {string?} author\r\n    * @property {number?} likes\r\n    * @property {number?} comments\r\n    */\n\n\n  setContent({\n    title,\n    text,\n    img,\n    category\n  }) {\n    if (title || text) {\n      console.log('{EDITOR} set content');\n    }\n\n    this.view.setContent(title, text);\n    this.view.changePreviewCategory(category);\n\n    if (!img) {\n      return;\n    }\n\n    if (img !== '') {\n      this.view.changePreviewImage(img);\n    } else {\n      this.view.clearPreviewImage();\n    }\n  }\n  /**\r\n   * сбросить value форм\r\n   */\n\n\n  clear() {\n    console.log('{EDITOR} clear');\n    this.setContent({\n      title: '',\n      text: '',\n      img: '',\n      category: ''\n    });\n  }\n  /**\r\n   * Поменять надписи на \"Создание\"\r\n   */\n\n\n  changeToCreate() {\n    const submitBtn = this.root.querySelector('input[name=\"btn-submit\"]');\n\n    if (!submitBtn) {\n      console.warn(`{Editor} can\\'t use changeToCreate:\n          component hasn\\'t been rendered yet`);\n      return;\n    }\n\n    submitBtn.value = 'Создать';\n    this.root.querySelector('.article-create__title').textContent = 'Создание статьи';\n    this.root.querySelector('.article-create__del-btn').style.display = 'none';\n    this.view.category.style.display = 'flex';\n  }\n  /**\r\n   * Поменять надписи на \"Изменение\"\r\n   */\n\n\n  changeToUpdate() {\n    const submitBtn = this.root.querySelector('input[name=\"btn-submit\"]');\n\n    if (!submitBtn) {\n      console.warn(`{Editor} can\\'t use changeToCreate:\n          component hasn\\'t been rendered yet`);\n      return;\n    }\n\n    submitBtn.value = 'Изменить';\n    this.root.querySelector('.article-create__title').textContent = 'Изменение статьи';\n    this.root.querySelector('.article-create__del-btn').style.display = 'flex'; // запрещаем менять категории при редактировании\n\n    this.view.category.style.display = 'none';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/editor/editor.js?");

/***/ }),

/***/ "./public/components/editor/editorView.js":
/*!************************************************!*\
  !*** ./public/components/editor/editorView.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditorView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _editor_articleEditor_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../editor/articleEditor.pug.js */ \"./public/components/editor/articleEditor.pug.js\");\n/* harmony import */ var _tag_pug_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tag.pug.js */ \"./public/components/editor/tag.pug.js\");\n/* harmony import */ var _feed_card_pug_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../feed/card.pug.js */ \"./public/components/feed/card.pug.js\");\n/* harmony import */ var _categoryChoiceBar_categoryChoiceBar_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../categoryChoiceBar/categoryChoiceBar.js */ \"./public/components/categoryChoiceBar/categoryChoiceBar.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/utils.js */ \"./public/common/utils.js\");\n\n\n\n\n\n\nconst PREVIEW_TEXT_LIMIT = 350;\n/**\r\n * @param {Date} d\r\n * @return {string} hh:mm dd.mm.yyyy\r\n */\n\nfunction convertDate(d = new Date()) {\n  const pad = s => s < 10 ? '0' + s : s;\n\n  return [pad(d.getHours()), pad(d.getMinutes())].join(':') + ' ' + [pad(d.getDate()), pad(d.getMonth() + 1), d.getFullYear()].join('/');\n}\n/**\r\n * @param {string} url\r\n * @return {string}\r\n */\n\n\nfunction fillCardImgStyle(url) {\n  return `background: -webkit-gradient(linear, left top, left bottom,` + `from(rgba(0, 0, 0, 0.7)), to(rgba(0, 0, 0, 0.7))), url(${url});` + `background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),` + `url(${url});\n  background-size: cover;\n  background-repeat: no-repeat;`;\n}\n/**\r\n * @class EditorView\r\n */\n\n\nclass EditorView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Компонент редактора\r\n   * @param {Action<string>} getCurrentSelection\r\n   * @param {Action<string>} setSelection\r\n   * @param {Action} clearSelection\r\n   * @param {Type} SELECT_TYPE\r\n   */\n  constructor(getCurrentSelection, setSelection, clearSelection, SELECT_TYPE) {\n    super();\n    this.innerComponents = {\n      categoryChoiceBar: new _categoryChoiceBar_categoryChoiceBar_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](getCurrentSelection, setSelection, clearSelection, SELECT_TYPE)\n    };\n    this.root = null;\n    this.tagBox = null;\n    this.previewBox = null;\n    this.textAreaInput = null;\n    this.titleInput = null;\n    this.category = null;\n  }\n  /**\r\n   * @param {object} author\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render(author) {\n    const editor = document.createElement('div');\n    editor.innerHTML = (0,_editor_articleEditor_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    this.category = editor.firstChild.querySelector('.article-create__category_selector');\n    this.category.querySelector('.article-create__row').appendChild(this.innerComponents.categoryChoiceBar.render()); // немного другие стили\n\n    editor.firstChild.querySelector('.plate').className = 'article-create__category_selector';\n    this.previewBox = editor.firstChild.querySelector('.article-create__preview__content');\n    this.previewBox.innerHTML = (0,_feed_card_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      id: '-preview',\n      datetime: convertDate(),\n      category: 'категория не выбрана',\n      author,\n      comments: '',\n      likes: ''\n    }).replace('card', 'article-create__preview__card').replace(/style=\".*\\n.*\\n.*\\n.*;\"/, '');\n    this.tagBox = this.previewBox.querySelector('.tags');\n    this.textAreaInput = editor.firstChild.querySelector('textarea');\n    this.titleInput = editor.firstChild.querySelector('input[name=\"title\"]');\n    this.root = editor.firstChild;\n    return editor.firstChild;\n  }\n  /**\r\n   * Добавляет тег вниз страницы\r\n   * @param {string} tag\r\n   * @param {function} deleteAction\r\n   */\n\n\n  appendTag(tag, deleteAction) {\n    if (this.tagBox === null) {\n      console.warn('{Editor} component hasn\\'t been rendered yet');\n      return;\n    }\n\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = (0,_tag_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      content: tag,\n      color: (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_5__.genRanHexColor)(),\n      cross: true\n    });\n    const tagDiv = wrapper.firstChild;\n    tagDiv.querySelector('.tags__tag__del-btn').addEventListener('click', e => {\n      deleteAction();\n      tagDiv.remove();\n    });\n    this.tagBox.appendChild(tagDiv);\n  }\n  /**\r\n   * Стираем все выбранные теги со страницы\r\n   */\n\n\n  clearTags() {\n    if (this.tagBox === null) {\n      console.warn('{Editor} component hasn\\'t been rendered yet');\n      return;\n    }\n\n    this.tagBox.innerHTML = '';\n  }\n  /**\r\n   * @param {string} url\r\n   */\n\n\n  changePreviewImage(url) {\n    if (this.previewBox === null) {\n      console.warn('{Editor} component hasn\\'t been rendered yet');\n      return;\n    }\n\n    this.previewBox.querySelector('.article-create__preview__card').style.cssText = fillCardImgStyle(url);\n  }\n  /**\r\n   * сброс фотографии\r\n   */\n\n\n  clearPreviewImage() {\n    this.previewBox.querySelector('.article-create__preview__card').style.cssText = '';\n  }\n  /**\r\n   * @param {string} text\r\n   */\n\n\n  changePreviewText(text) {\n    if (this.previewBox === null) {\n      console.warn('{Editor} component hasn\\'t been rendered yet');\n      return;\n    }\n\n    text = text.slice(0, PREVIEW_TEXT_LIMIT);\n    this.previewBox.querySelector('.card__description').textContent = text;\n  }\n  /**\r\n   * @param {string} text\r\n   */\n\n\n  changePreviewTitle(text) {\n    if (this.previewBox === null) {\n      console.warn('{Editor} component hasn\\'t been rendered yet');\n      return;\n    }\n\n    this.previewBox.querySelector('.preview__title').textContent = text;\n  }\n  /**\r\n   * @param {string} text\r\n   */\n\n\n  changePreviewCategory(text) {\n    if (this.previewBox === null || this.root === null) {\n      console.warn('{Editor} component hasn\\'t been rendered yet');\n      return;\n    }\n\n    if (text === '') {\n      this.previewBox.querySelector('.card__category').textContent = 'категория не выбрана';\n      this.root.querySelector('.article-create__label').innerHTML = 'Выберите категорию | <strong>категория не выбрана</strong>';\n    } else {\n      this.previewBox.querySelector('.card__category').textContent = text;\n      this.root.querySelector('.article-create__label').innerHTML = `Выберите категорию | <strong>${text}</strong>`;\n    }\n  }\n  /**\r\n   * @param {string} title\r\n   * @param {string} text\r\n   */\n\n\n  setContent(title, text) {\n    if (this.textarea === null || this.titleInput === null) {\n      console.warn('{Editor} can\\'t use setContent: component hasn\\'t been rendered yet');\n      return;\n    }\n\n    this.textAreaInput.value = text;\n    this.titleInput.value = title;\n    this.changePreviewText(text);\n    this.changePreviewTitle(title);\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/editor/editorView.js?");

/***/ }),

/***/ "./public/components/editor/tag.pug.js":
/*!*********************************************!*\
  !*** ./public/components/editor/tag.pug.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ tagComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_has_own_property = Object.prototype.hasOwnProperty;\nvar pug_match_html = /[\"&<>]/;\n\nfunction pug_style(r) {\n  if (!r) return \"\";\n\n  if (\"object\" == typeof r) {\n    var t = \"\";\n\n    for (var e in r) pug_has_own_property.call(r, e) && (t = t + e + \":\" + r[e] + \";\");\n\n    return t;\n  }\n\n  return r + \"\";\n}\n\nfunction x() {}\n\n;\nfunction tagComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (color, content, cross) {\n    pug_html = pug_html + \"\\u003Cdiv\" + (\" class=\\\"tags__tag-content\\\"\" + pug_attr(\"style\", pug_style(`background-color: ${color}`), true, false)) + \"\\u003E \";\n\n    if (cross) {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"tags__tag tags_with-cross\\\"\\u003E\" + (null == (pug_interp = content) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv\" + (\" class=\\\"tags__tag__del-btn cross-icon cross-icon_white\\\"\" + pug_attr(\"style\", pug_style(`background-color: ${color}`), true, false)) + \"\\u003E\\u003C\\u002Fdiv\\u003E\";\n    } else {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"tags__tag\\\"\\u003E\" + (null == (pug_interp = content) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"color\" in locals_for_with ? locals_for_with.color : typeof color !== 'undefined' ? color : undefined, \"content\" in locals_for_with ? locals_for_with.content : typeof content !== 'undefined' ? content : undefined, \"cross\" in locals_for_with ? locals_for_with.cross : typeof cross !== 'undefined' ? cross : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/editor/tag.pug.js?");

/***/ }),

/***/ "./public/components/feed/card.pug.js":
/*!********************************************!*\
  !*** ./public/components/feed/card.pug.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ cardComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_has_own_property = Object.prototype.hasOwnProperty;\nvar pug_match_html = /[\"&<>]/;\n\nfunction pug_style(r) {\n  if (!r) return \"\";\n\n  if (\"object\" == typeof r) {\n    var t = \"\";\n\n    for (var e in r) pug_has_own_property.call(r, e) && (t = t + e + \":\" + r[e] + \";\");\n\n    return t;\n  }\n\n  return r + \"\";\n}\n\nfunction x() {}\n\n;\nfunction cardComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (Array, author, category, comments, datetime, id, likes, previewUrl, tags, text, title) {\n    pug_mixins[\"tagMixin\"] = pug_interp = function (content, color, cross = false) {\n      var block = this && this.block,\n          attributes = this && this.attributes || {};\n      pug_html = pug_html + \"\\u003Cdiv\" + (\" class=\\\"tags__tag-content\\\"\" + pug_attr(\"style\", pug_style(`background-color: ${color}`), true, false)) + \"\\u003E \";\n\n      if (cross) {\n        pug_html = pug_html + \"\\u003Cdiv class=\\\"tags__tag tags_with-cross\\\"\\u003E\" + (null == (pug_interp = content) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv\" + (\" class=\\\"tags__tag__del-btn cross-icon cross-icon_white\\\"\" + pug_attr(\"style\", pug_style(`background-color: ${color}`), true, false)) + \"\\u003E\\u003C\\u002Fdiv\\u003E\";\n      } else {\n        pug_html = pug_html + \"\\u003Cdiv class=\\\"tags__tag\\\"\\u003E\" + (null == (pug_interp = content) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\";\n      }\n\n      pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\";\n    };\n\n    pug_html = pug_html + \"\\u003Cdiv\" + (\" class=\\\"card\\\"\" + pug_attr(\"id\", `card${id}`, true, false) + pug_attr(\"style\", pug_style(`background: -webkit-gradient(linear, left top, left bottom, from(rgba(0, 0, 0, 0.7)), to(rgba(0, 0, 0, 0.7))), url(${previewUrl});\nbackground: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(${previewUrl});\nbackground-size: cover;\nbackground-repeat: no-repeat;`), true, false)) + \"\\u003E\\u003Cdiv class=\\\"card__top\\\"\\u003E\\u003Cdiv class=\\\"card__top-left\\\"\\u003E\\u003Cdiv class=\\\"card__time-category\\\"\\u003E\\u003Cdiv class=\\\"card__time\\\"\\u003E\" + pug_escape(null == (pug_interp = datetime) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"card__category\\\"\\u003E\" + pug_escape(null == (pug_interp = category) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"tags\\\"\\u003E\";\n\n    if (Array.isArray(tags)) {\n      // iterate tags\n      ;\n      (function () {\n        var $$obj = tags;\n\n        if ('number' == typeof $$obj.length) {\n          for (var pug_index0 = 0, $$l = $$obj.length; pug_index0 < $$l; pug_index0++) {\n            var tag = $$obj[pug_index0];\n            pug_mixins[\"tagMixin\"](tag.content, tag.color);\n          }\n        } else {\n          var $$l = 0;\n\n          for (var pug_index0 in $$obj) {\n            $$l++;\n            var tag = $$obj[pug_index0];\n            pug_mixins[\"tagMixin\"](tag.content, tag.color);\n          }\n        }\n      }).call(this);\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"card__author\\\"\\u003E\\u003Cimg\" + (\" class=\\\"card__author-photo\\\"\" + pug_attr(\"src\", `${author.avatarUrl || 'static/img/users/user_icon_loading.svg'}`, true, false)) + \"\\u002F\\u003E\\u003Cdiv class=\\\"author-name\\\"\\u003E\";\n\n    if (typeof author === 'object') {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"author-name__login\\\"\\u003E\" + pug_escape(null == (pug_interp = author.login) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"author-name__username\\\"\\u003E\" + pug_escape(null == (pug_interp = author.firstName) ? \"\" : pug_interp) + \" \" + pug_escape(null == (pug_interp = author.lastName) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"card__content\\\"\\u003E\\u003Ca class=\\\"preview__title\\\"\\u003E\" + pug_escape(null == (pug_interp = title) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003Cdiv class=\\\"card__description\\\"\\u003E\" + pug_escape(null == (pug_interp = text) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"card__bottom\\\"\\u003E\\u003Cdiv class=\\\"action-btns\\\"\\u003E\\u003Cdiv class=\\\"icon action-btns_m-right\\\"\\u003E\\u003Cdiv class=\\\"icon__text\\\"\\u003E\" + pug_escape(null == (pug_interp = likes) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cbutton class=\\\"action-btns__likes-icon icon__img\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"icon\\\"\\u003E\\u003Cdiv class=\\\"icon__text\\\"\\u003E\" + pug_escape(null == (pug_interp = comments) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cbutton class=\\\"action-btns__comments-icon icon__img\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"Array\" in locals_for_with ? locals_for_with.Array : typeof Array !== 'undefined' ? Array : undefined, \"author\" in locals_for_with ? locals_for_with.author : typeof author !== 'undefined' ? author : undefined, \"category\" in locals_for_with ? locals_for_with.category : typeof category !== 'undefined' ? category : undefined, \"comments\" in locals_for_with ? locals_for_with.comments : typeof comments !== 'undefined' ? comments : undefined, \"datetime\" in locals_for_with ? locals_for_with.datetime : typeof datetime !== 'undefined' ? datetime : undefined, \"id\" in locals_for_with ? locals_for_with.id : typeof id !== 'undefined' ? id : undefined, \"likes\" in locals_for_with ? locals_for_with.likes : typeof likes !== 'undefined' ? likes : undefined, \"previewUrl\" in locals_for_with ? locals_for_with.previewUrl : typeof previewUrl !== 'undefined' ? previewUrl : undefined, \"tags\" in locals_for_with ? locals_for_with.tags : typeof tags !== 'undefined' ? tags : undefined, \"text\" in locals_for_with ? locals_for_with.text : typeof text !== 'undefined' ? text : undefined, \"title\" in locals_for_with ? locals_for_with.title : typeof title !== 'undefined' ? title : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/feed/card.pug.js?");

/***/ }),

/***/ "./public/components/feed/composeCardStandart.js":
/*!*******************************************************!*\
  !*** ./public/components/feed/composeCardStandart.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ composeCards)\n/* harmony export */ });\n/* harmony import */ var _card_pug_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./card.pug.js */ \"./public/components/feed/card.pug.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n\n\n/**\r\n * Описание сущности карточки в новостной ленте\r\n * @typedef {Object} Card\r\n * @property {string} id           - ID записи\r\n * @property {string} previewUrl   - ссылка не главную картинку\r\n * @property {string} title        - заголовок\r\n * @property {string} text         - содержание записи\r\n * @property {string} authorUrl    - ссылка на страницу автора\r\n * @property {string} authorName   - имя автора\r\n * @property {string} authorAvatar - ссылка на аватар автора\r\n * @property {string} commentsUrl  - ссылка на комменарии к записи\r\n * @property {number} comments     - число комментариев к записи\r\n * @property {number} likes        - рейтинг записи\r\n * @property {Array.string} tags   - отмеченные автором темы сообщений\r\n * @return {HTMLElement}\r\n */\n\n/**\r\n * Добавить карточки в root-HTMLElement\r\n * Нужен как универсальное правило отрисовки карточек\r\n * в качестве реакции на данные с сервера\r\n * @param {HTMLElement} root - элемент, куда будут вставлены карточки\r\n * @param {Array<Card>} cards - Массив карточек\r\n */\n\nfunction composeCards(root, cards) {\n  cards.forEach(element => {\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_2__.appendApiImg)(element);\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_2__.appendApiImg)(element.author);\n    const cardWrapper = document.createElement('div');\n    const tags = element.tags.map(tag => ({\n      content: tag,\n      color: (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_1__.genRanHexColor)()\n    }));\n    cardWrapper.innerHTML = (0,_card_pug_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({ ...element,\n      tags\n    });\n    root.appendChild(cardWrapper.firstChild);\n  });\n}\n\n//# sourceURL=webpack://saber_project/./public/components/feed/composeCardStandart.js?");

/***/ }),

/***/ "./public/components/feed/composeUsers.js":
/*!************************************************!*\
  !*** ./public/components/feed/composeUsers.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ composeUsers)\n/* harmony export */ });\n/* harmony import */ var _profileCard_profileCard_pug_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../profileCard/profileCard.pug.js */ \"./public/components/profileCard/profileCard.pug.js\");\n/* harmony import */ var _composeCardStandart_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./composeCardStandart.js */ \"./public/components/feed/composeCardStandart.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n\n\n/**\r\n * Описание сущности карточки в новостной ленте\r\n * @typedef {Object} Card\r\n * @property {string} id           - ID записи\r\n * @property {string} previewUrl   - ссылка не главную картинку\r\n * @property {string} title        - заголовок\r\n * @property {string} text         - содержание записи\r\n * @property {string} authorUrl    - ссылка на страницу автора\r\n * @property {string} authorName   - имя автора\r\n * @property {string} authorAvatar - ссылка на аватар автора\r\n * @property {string} commentsUrl  - ссылка на комменарии к записи\r\n * @property {number} comments     - число комментариев к записи\r\n * @property {number} likes        - рейтинг записи\r\n * @property {Array.string} tags   - отмеченные автором темы сообщений\r\n * @return {HTMLElement}\r\n */\n\n/**\r\n * Добавить карточки в root-HTMLElement\r\n * Нужен как универсальное правило отрисовки карточек\r\n * в качестве реакции на данные с сервера\r\n * @param {HTMLElement} root - элемент, куда будут вставлены карточки\r\n * @param {Array<Card>} cards - Массив карточек\r\n */\n\nfunction composeUsers(root, cards) {\n  if (cards.length === 0) {\n    return;\n  } // данные - это юзер\n\n\n  if ('login' in cards[0]) {\n    cards.forEach(element => {\n      (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_2__.appendApiImg)(element);\n      const cardWrapper = document.createElement('div');\n      cardWrapper.innerHTML = (0,_profileCard_profileCard_pug_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({ ...element,\n        disableArticles: true\n      });\n      root.appendChild(cardWrapper.firstChild);\n    });\n  } else {\n    // иначе статья\n    (0,_composeCardStandart_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(root, cards);\n  }\n}\n\n//# sourceURL=webpack://saber_project/./public/components/feed/composeUsers.js?");

/***/ }),

/***/ "./public/components/feed/feed.js":
/*!****************************************!*\
  !*** ./public/components/feed/feed.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Feed)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _feedView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./feedView.js */ \"./public/components/feed/feedView.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../flux/actions/readerActions.js */ \"./public/flux/actions/readerActions.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../globals.js */ \"./public/globals.js\");\n\n\n\n\n\n\n\n/**\r\n * @typedef {Object} Card\r\n * @property {string} id           - ID записи\r\n * @property {string} previewUrl   - ссылка не главную картинку\r\n * @property {string} title        - заголовок\r\n * @property {string} text         - содержание записи\r\n * @property {string} authorUrl    - ссылка на страницу автора\r\n * @property {string} authorName   - имя автора\r\n * @property {string} authorAvatar - ссылка на аватар автора\r\n * @property {string} commentsUrl  - ссылка на комменарии к записи\r\n * @property {number} comments     - число комментариев к записи\r\n * @property {number} likes        - рейтинг записи\r\n * @property {Array.string} tags   - отмеченные автором темы сообщений\r\n * @return {HTMLElement}\r\n */\n\nconst resetDoNotUploadTime = 6000; // anti- brutforce\n\n/**\r\n * Создает обработчики клика на разные участки карточки\r\n * @param {HTMLElement} where место, где искать смонтированные шаблонизатором\r\n * карточки\r\n * @param {Array<Card>} cards массив с данными, по которым\r\n * карточки монтировались\r\n */\n\nfunction addClickListenersOnCards(where, cards) {\n  cards.forEach(card => {\n    const cardDiv = where.querySelector('#card' + card.id);\n\n    if (cardDiv === null) {\n      console.warn('{Feed} card with id', card.id, 'has mounted with error');\n      return;\n    }\n\n    cardDiv.addEventListener('click', e => {\n      e.preventDefault();\n      const currentTarget = e.currentTarget;\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setArticleLoading(card));\n      (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_2__.redirect)('/article/' + currentTarget.id.replace('card', ''));\n    });\n    cardDiv.querySelector('.author-name').addEventListener('click', e => {\n      e.preventDefault();\n      e.stopPropagation();\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_4__.profilePageActions.setUserInfo(card.author));\n      (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_2__.redirect)('/user/' + card.author.login);\n    });\n    cardDiv.querySelectorAll('.tags__tag').forEach(t => t.addEventListener('click', e => {\n      e.preventDefault();\n      e.stopPropagation();\n      console.warn('TODO: клик по тегу', e.currentTarget.textContent); // TODO: редирект на страницу с тегами\n      // TODO: то же с категориями\n    }));\n  });\n}\n/**\r\n * ViewModel-компонент соответсвующего View\r\n * @class Feed\r\n */\n\n\nclass Feed extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Универсальный компонент ленты\r\n   * @param {function} composeCards принимает root - HTMLElement, к которому\r\n   * аппендятся карточки и массив данных, по которому строятся шаблоны\r\n   * @param {string} storeName - имя редьюсера\r\n   * @param {Type} SAVE_NEW_CARDS_ACTION - событие, на которое\r\n   * в ленту добавляются карточки\r\n   * @param {Type} CLEAR_CARDS_ACTION - событие, на которое\r\n   * лента стирается\r\n   * @param {Type} FORBID_CARDS_UPLOADING_ACTION - событие, на которое\r\n   * лента скрывает анимацию подгрузки. Предполаается,\r\n   * что такое событие генерируется методом forbidCardsUploading\r\n   * @param {Type} ALLOW_CARDS_UPLOADING_ACTION - событие, на которое\r\n   * лента приготавливаается к загрузке новых записей. Предполаается,\r\n   * что такое событие генерируется методом allowCardsUploading\r\n   * @param {Action} forbidCardsUploading - действие, которое\r\n   * говорит, о том, что все данные загружены\r\n   * @param {Action} allowCardsUploading - действие, которое\r\n   * разрешает загрузку карточек снова через resetDoNotUploadTime\r\n   * @param {BaseComponent} previewComponent - компонент,\r\n   * который будет вложен в .feed__preview в ленте\r\n   */\n  constructor(composeCards, storeName, SAVE_NEW_CARDS_ACTION, CLEAR_CARDS_ACTION, FORBID_CARDS_UPLOADING_ACTION, ALLOW_CARDS_UPLOADING_ACTION, forbidCardsUploading, allowCardsUploading, previewComponent = new _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]()) {\n    console.log('{FEED} creation with params:');\n    console.log({\n      storeName\n    });\n    super();\n    this.innerComponent = previewComponent;\n    this.storeName = storeName;\n    const cards = _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState()[storeName].cards;\n    this.view = new _feedView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](composeCards, previewComponent.render().outerHTML, cards); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    this.unsubscribes.push(_flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].subscribe(SAVE_NEW_CARDS_ACTION, ({\n      idLastLoaded,\n      cards\n    }) => {\n      if (!Array.isArray(cards)) {\n        if (_globals_js__WEBPACK_IMPORTED_MODULE_6__.ajaxDebug) {\n          console.warn('API ERROR! Server must return array of Cards', 'but returned', typeof cards, ':', {\n            cards\n          });\n        }\n\n        return;\n      }\n\n      this.view.addCards(cards);\n      addClickListenersOnCards(this.view.root.querySelector(`.feed__cards`), cards);\n      const endFound = _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState()[storeName].isEndFound;\n\n      if (endFound) {\n        if (_globals_js__WEBPACK_IMPORTED_MODULE_6__.ajaxDebug) {\n          console.log(`{${storeName}FEED}\\\n              'end' found. isEndFound flag is true`);\n        }\n\n        this.view.hideLoadingAnimation(); // асинхронное событие (выполняется с помощью преобразователя)\n        // разрешает загрузку карточек спустя некоторое время\n\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dispatch(dispatch => {\n          setTimeout(() => {\n            if (_globals_js__WEBPACK_IMPORTED_MODULE_6__.ajaxDebug) {\n              console.log('{FEED} isEndFound flag is reset to false');\n            }\n\n            dispatch(allowCardsUploading());\n          }, resetDoNotUploadTime);\n        });\n      }\n    }), _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].subscribe(CLEAR_CARDS_ACTION, () => this.view.clear()), _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].subscribe(ALLOW_CARDS_UPLOADING_ACTION, () => this.view.showLoadingAnimation()), _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].subscribe(FORBID_CARDS_UPLOADING_ACTION, () => this.view.hideLoadingAnimation()));\n  }\n  /**\r\n  * @return {HTMLElement}\r\n  */\n\n\n  render() {\n    super.render();\n    const preview = this.innerComponent.render().outerHTML;\n    const cards = _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState()[this.storeName].cards;\n    this.root = this.view.render(preview, cards);\n    addClickListenersOnCards(this.view.root.querySelector(`.feed__cards`), cards);\n\n    if (_flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState()[this.storeName].isEndFound) {\n      this.view.hideLoadingAnimation();\n    }\n\n    return this.root;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/feed/feed.js?");

/***/ }),

/***/ "./public/components/feed/feed.pug.js":
/*!********************************************!*\
  !*** ./public/components/feed/feed.pug.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ feedComponent)\n/* harmony export */ });\nfunction x() {}\n\n;\nfunction feedComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (preview) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"feed\\\"\\u003E\\u003Cdiv class=\\\"feed__preview\\\"\\u003E\" + (null == (pug_interp = preview) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"feed__cards\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv id=\\\"feed__loading\\\"\\u003E&#11088;\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"preview\" in locals_for_with ? locals_for_with.preview : typeof preview !== 'undefined' ? preview : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/feed/feed.pug.js?");

/***/ }),

/***/ "./public/components/feed/feedView.js":
/*!********************************************!*\
  !*** ./public/components/feed/feedView.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ FeedView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _feed_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./feed.pug.js */ \"./public/components/feed/feed.pug.js\");\n\n\n/**\r\n * Описание сущности карточки в новостной ленте\r\n * @typedef {Object} Card\r\n * @property {string} id           - ID записи\r\n * @property {string} previewUrl   - ссылка не главную картинку\r\n * @property {string} title        - заголовок\r\n * @property {string} text         - содержание записи\r\n * @property {string} authorUrl    - ссылка на страницу автора\r\n * @property {string} authorName   - имя автора\r\n * @property {string} authorAvatar - ссылка на аватар автора\r\n * @property {string} commentsUrl  - ссылка на комменарии к записи\r\n * @property {number} comments     - число комментариев к записи\r\n * @property {number} likes        - рейтинг записи\r\n * @property {Array.string} tags   - отмеченные автором темы сообщений\r\n * @return {HTMLElement}\r\n */\n\n/**\r\n * @class FeedView\r\n */\n\nclass FeedView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Хранит состояние - текущие загруженные карточки\r\n   * @param {function} composeCards принимает root - HTMLElement, к которому\r\n   * аппендятся карточки и массив данных, по которому строятся шаблоны\r\n   * @param {string} preview\r\n   * @param {Array.Card} cards массив карточек (может быть пустым)\r\n   */\n  constructor(composeCards, preview, cards) {\n    super();\n    this.composeCards = composeCards;\n    this.root = this.render(preview, cards);\n  }\n  /**\r\n    * @param {string} preview\r\n    * @param {Array.Card} cards\r\n    * @return {HTMLElement}\r\n    */\n\n\n  render(preview, cards) {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = (0,_feed_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      preview\n    });\n    const feed = wrapper.firstChild;\n    this.composeCards(feed.querySelector(`.feed__cards`), cards);\n    this.root = feed;\n    return feed;\n  }\n  /**\r\n    * Восстанавливает видимость индикатора загрузки,\r\n    * добавляет карточки вниз ленты\r\n    * @param {Array.Card} cards\r\n    */\n\n\n  addCards(cards) {\n    const cardsDiv = this.root.querySelector(`.feed__cards`);\n\n    if (!cardsDiv) {\n      console.warn('cannot append cards till Feed is not rendered');\n      return;\n    }\n\n    this.composeCards(cardsDiv, cards);\n    this.showLoadingAnimation();\n  }\n  /**\r\n    * Стирает содержимое ленты\r\n    */\n\n\n  clear() {\n    const cardsDiv = this.root.querySelector(`.feed__cards`);\n    cardsDiv.innerHTML = '';\n  }\n  /**\r\n   * hide loading component\r\n   */\n\n\n  hideLoadingAnimation() {\n    this.root.querySelector('#feed__loading').style.display = 'none';\n  }\n  /**\r\n   * show loading component\r\n   */\n\n\n  showLoadingAnimation() {\n    this.root.querySelector('#feed__loading').style.display = 'block';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/feed/feedView.js?");

/***/ }),

/***/ "./public/components/header/header.js":
/*!********************************************!*\
  !*** ./public/components/header/header.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Header)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _headerView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./headerView.js */ \"./public/components/header/headerView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../flux/actions/searchActions.js */ \"./public/flux/actions/searchActions.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/utils.js */ \"./public/common/utils.js\");\n\n\n\n\n\n/**\r\n * ViewModel-компонент соответсвующего View\r\n * @class Header\r\n */\n\nclass Header extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Универсальный компонент заголовка\r\n   */\n  constructor() {\n    super();\n    this.view = new _headerView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.isBlur = false;\n    this.isOpen = false;\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    this.root = this.view.render();\n    const searchBtn = this.root.querySelector('.search__button');\n    const searchInput = this.root.querySelector('.search__input');\n    const searchRow = this.root.querySelector('.search__row');\n    const groupOptions = this.root.querySelector('.search__row_group_dropdown');\n    groupOptions.querySelector('.search__row_group_dropdown-content').childNodes.forEach(group => group.addEventListener('click', e => {\n      groupOptions.querySelector('.search__row_group_bar').value = e.target.textContent;\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setSearchGroup(e.target.dataset.search, e.target.textContent)); // восстанавливаем потерянный при клике фокус\n\n      searchInput.focus();\n    }));\n    groupOptions.addEventListener('mouseover', e => searchInput.removeEventListener('focusout', focusOutListener));\n    groupOptions.addEventListener('mouseout', e => searchInput.addEventListener('focusout', focusOutListener));\n    searchBtn.addEventListener('click', e => {\n      e.preventDefault();\n\n      if (!this.isBlur && !this.isOpen) {\n        this.openSearchField();\n      }\n    });\n    searchInput.addEventListener('keydown', ({\n      keyCode,\n      target\n    }) => {\n      if (keyCode === 13) {\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setSearchValue(searchInput.value));\n        searchInput.blur();\n        (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_4__.redirect)('/search'); // явно записываем группу поиска в строку,\n        // а то мало ли что там в редьюсере\n        // Обязательно селектор т.к. хедер перендерится при переходе\n\n        this.root.querySelector('.search__row_group_bar').value = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().search.description;\n      }\n    });\n\n    const focusOutListener = e => {\n      console.log('{Header} searchField lost focus');\n      this.closeSearchField();\n      this.isBlur = true;\n      const delay = parseFloat(searchRow.style.transitionDuration) * 1000;\n      setTimeout(() => this.isBlur = false, delay);\n    };\n\n    searchInput.addEventListener('focusout', focusOutListener);\n    return this.root;\n  }\n  /**\r\n   * closeSearchField\r\n   */\n\n\n  closeSearchField() {\n    const searchBtn = this.root.querySelector('.search__button');\n    const navItems = this.root.querySelector('.header__nav-items');\n    const searchRow = this.root.querySelector('.search__row');\n    console.log('{Header} searchField close');\n    navItems.style.pointerEvents = 'all';\n    searchBtn.classList.add('search-icon');\n    searchBtn.classList.remove('cross-icon');\n    searchRow.classList.add('search__row_close');\n    searchRow.classList.remove('search__row_open');\n    this.isOpen = false;\n  }\n\n  /**\r\n   * openSearchField\r\n   */\n  openSearchField() {\n    const searchBtn = this.root.querySelector('.search__button');\n    const navItems = this.root.querySelector('.header__nav-items');\n    const searchRow = this.root.querySelector('.search__row');\n    const searchInput = this.root.querySelector('.search__input');\n    console.log('{Header} searchField open');\n    navItems.style.pointerEvents = 'none';\n    searchBtn.classList.remove('search-icon');\n    searchBtn.classList.add('cross-icon');\n    searchRow.classList.remove('search__row_close');\n    searchRow.classList.add('search__row_open');\n    searchInput.focus();\n    searchInput.select();\n    this.isOpen = true;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/header/header.js?");

/***/ }),

/***/ "./public/components/header/header.pug.js":
/*!************************************************!*\
  !*** ./public/components/header/header.pug.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ headerComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction headerComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  pug_html = pug_html + \"\\u003Cdiv class=\\\"header\\\"\\u003E\\u003Ca class=\\\"header__title-block\\\" href=\\\"\\u002F\\\"\\u003E\\u003Cdiv class=\\\"header__title\\\" data-router=\\\"ignore\\\"\\u003ESaberNews\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fa\\u003E\\u003Cdiv class=\\\"header__content\\\"\\u003E\\u003Cdiv class=\\\"header__nav-items\\\"\\u003E\\u003Ca class=\\\"header__nav-item\\\" data-test=\\\"test1\\\"\\u003EПопулярное\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\" data-test=\\\"test2\\\"\\u003EНовое\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\"\\u003EПодписки\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\"\\u003EМероприятия\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\"\\u003EГруппы\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"search\\\"\\u003E\\u003Cdiv class=\\\"search__row search__row_close\\\" style=\\\"transition: all 0.5s;\\\"\\u003E\\u003Cinput class=\\\"search__input\\\" type=\\\"text\\\" placeholder=\\\"Найти\\\"\\u002F\\u003E\\u003Cdiv class=\\\"search__row_group_dropdown\\\"\\u003E\\u003Cinput\" + (\" class=\\\"search__row_group_bar\\\"\" + \" type=\\\"text\\\" placeholder=\\\"где?\\\"\" + pug_attr(\"readonly\", true, true, false)) + \"\\u002F\\u003E\\u003Cdiv class=\\\"search__row_group_dropdown-content\\\"\\u003E\\u003Cdiv class=\\\"search__row_group_dropdown-item\\\" data-search=\\\"articles\\\"\\u003EСтатьи\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"search__row_group_dropdown-item\\\" data-search=\\\"author\\\"\\u003EПользователи\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"search__row_group_dropdown-item\\\" data-search=\\\"tags\\\"\\u003EТеги\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"search__row_btn\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cbutton class=\\\"search__button search-icon\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003Cbutton class=\\\"action-btns__menu-icon icon__img\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/header/header.pug.js?");

/***/ }),

/***/ "./public/components/header/headerView.js":
/*!************************************************!*\
  !*** ./public/components/header/headerView.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ HeaderView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _header_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./header.pug.js */ \"./public/components/header/header.pug.js\");\n\n\n/**\r\n * @class Header\r\n */\n\nclass HeaderView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n    * @return {HTMLElement}\r\n    */\n  render() {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = (0,_header_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n    return wrapper.firstChild;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/header/headerView.js?");

/***/ }),

/***/ "./public/components/imgPreloader.js":
/*!*******************************************!*\
  !*** ./public/components/imgPreloader.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst queue = [];\n/**\r\n * @class\r\n */\n\nconst ImgPreloader = {\n  /**\r\n   * @param {Array<string>} imgs url картинок\r\n   */\n  upload(imgs) {\n    queue.push(...imgs);\n\n    for (let i = 0; i < imgs.length; i++) {\n      const img = new Image();\n\n      img.onload = () => {\n        const index = queue.indexOf(img);\n\n        if (index !== -1) {\n          queue.splice(index, 1);\n        }\n      };\n\n      queue.push(img);\n      img.src = imgs[i];\n    }\n  }\n\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ImgPreloader);\n\n//# sourceURL=webpack://saber_project/./public/components/imgPreloader.js?");

/***/ }),

/***/ "./public/components/linksController.js":
/*!**********************************************!*\
  !*** ./public/components/linksController.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LinksController)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n// ///////////////////////////////// //\n//\n//     Определяет взаимодействие\n//     со ссылками, но не с\n//     переходами по страницам\n//\n// ///////////////////////////////// //\nconst configuration = {}; //   template: {\n//     action: () => {\n//     },\n//     props: null,\n//   }\n// ///////////////////////////////// //\n//\n//     Общий глобальный обработчик\n//     действует только на ссылки\n//\n// ///////////////////////////////// //\n\n\n/**\r\n * Общий глобальный обработчик. Действует только на ссылки.\r\n * Здесь можно задать любое поведение при клике на HTMLAnchorElement\r\n * @param {event} event\r\n */\n\nfunction linksControllerClickHandler(event) {\n  const {\n    target\n  } = event;\n\n  if (target.dataset.router === 'outer') {\n    return;\n  } // ставим preventDefault, чтобы предотварить переход по ссылкам,\n  // в которых есть вложенные элементы, ведь их href равен href'у ссылки\n  // на всех вложенных элементах такой ссылки должен быть указан\n  // data=router='ignore'\n  // Нет гарантии, что сработает раньше: linkController или Router\n\n\n  if (target.dataset.router === 'ignore') {\n    event.preventDefault();\n\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_0__.linkControllerDebug) {\n      console.log('[linkController]', {\n        target\n      }, 'ignored');\n    }\n  } // проверям, что клик был по ссылке (anchor)\n\n\n  if (target instanceof HTMLAnchorElement) {\n    event.preventDefault();\n\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_0__.linkControllerDebug) {\n      console.log({\n        targeter: target.dataset.section\n      });\n    }\n\n    const props = configuration[target.dataset.section]?.props;\n    const action = configuration[target.dataset.section]?.action;\n\n    if (typeof action === 'function') {\n      action.call(null, props);\n    }\n  }\n}\n/**\r\n * Отвечает за поведение при клике на ссылку,\r\n * которое не ведет к переходу на другую страницу.\r\n * HTMLAnchot должен содержать атрибут data-section,\r\n * который указывается при регистрации\r\n * @class LinksController\r\n */\n\n\nclass LinksController {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    this.root = root;\n    this.enabled = false;\n  }\n  /**\r\n   * Регистрация элемента в контроллере.\r\n   * section - значение data-section соответствующего атрибута.\r\n   * action - действие, выполняемое при клике.\r\n   * props - параметры, передаваемые в action.\r\n   * @param {string} section\r\n   * @param {function} action\r\n   * @param {any} props\r\n   * @return {LinksController}\r\n   */\n\n\n  register(section, action = () => {}, props = null) {\n    configuration[section] = {\n      action,\n      props\n    };\n    return this;\n  }\n  /**\r\n   * Активирует обработчик кликов на элементе root\r\n   */\n\n\n  enable() {\n    if (!this.enabled) {\n      this.enabled = true;\n      this.root.addEventListener('click', linksControllerClickHandler);\n    }\n  }\n  /**\r\n   * Дизактивирует обработчик кликов на элементе root\r\n   */\n\n\n  disable() {\n    if (this.enabled) {\n      this.enabled = false;\n      this.root.removeEventListener('click', linksControllerClickHandler);\n    }\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/linksController.js?");

/***/ }),

/***/ "./public/components/loading/loading.pug.js":
/*!**************************************************!*\
  !*** ./public/components/loading/loading.pug.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ loadingComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction loadingComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (progressValue) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"loading-page\\\"\\u003E\\u003Cdiv class=\\\"loading-page__title\\\"\\u003EЗагрузка\\u003C\\u002Fdiv\\u003E\\u003Cprogress\" + (\" class=\\\"progress__loading\\\"\" + pug_attr(\"value\", `${progressValue}`, true, false) + \" max=\\\"100\\\"\") + \"\\u003E\\u003C\\u002Fprogress\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"progressValue\" in locals_for_with ? locals_for_with.progressValue : typeof progressValue !== 'undefined' ? progressValue : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/loading/loading.pug.js?");

/***/ }),

/***/ "./public/components/modal/modal.js":
/*!******************************************!*\
  !*** ./public/components/modal/modal.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _modal_pug_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal.pug.js */ \"./public/components/modal/modal.pug.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../globals.js */ \"./public/globals.js\");\n\n\n\n\n\nconst animationTime = 200;\nconst informationWindowOpenTime = 2000;\nlet inClosing = false;\nlet isDestroyed = false;\nlet okBtnDispay = true;\nlet cancelBtnDispay = true;\nlet docTitle = '';\n\nlet clearOkListener = () => {};\n\nlet clearCancelListener = () => {};\n/**\r\n * @param {object} props\r\n * @property {string} title\r\n * @property {string} content\r\n * @property {string?} btnOkSign      - надпись на кнопке подтверждения\r\n * @property {string?} btnCancelSign  - надпись на кнопке отмены\r\n * @property {bolean} isEnteractive   - true - кнопки на футере отображаются\r\n * @property {bolean} isCancelable    - true - кнопка отмены\r\n *                                      на футере отображается\r\n * @property {callback} onConfirm     - обработчик кнопки ОК\r\n * @property {callback} onDecline     - обработчик кнопки CANCEL\r\n * @return {string}\r\n */\n\n\nfunction fillDefaultModal(props) {\n  if (_globals_js__WEBPACK_IMPORTED_MODULE_4__.modalsDebug) {\n    console.log('[Modal] modal filling: ' + JSON.stringify(props));\n  }\n\n  const modal = (0,_modal_pug_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    title: props.title || '',\n    content: props.content || '',\n    ok_sign: props.btnOkSign || 'Понятно',\n    cancel_sign: props.btnCancelSign || 'Отмена'\n  });\n  return modal;\n}\n/**\r\n * @param {object} props\r\n * @property {string} title\r\n * @property {string} content\r\n * @property {string?} btnOkSign      - надпись на кнопке подтверждения\r\n * @property {string?} btnCancelSign  - надпись на кнопке отмены\r\n * @property {bolean} isEnteractive   - true - кнопки на футере отображаются\r\n * @property {bolean} isCancelable    - true - кнопка отмены\r\n *                                      на футере отображается\r\n * @property {callback} onConfirm     - обработчик кнопки ОК\r\n * @property {callback} onDecline     - обработчик кнопки CANCEL\r\n * @return {HTMLDivElement}\r\n */\n\n\nfunction _createModal(props) {\n  const modalDiv = document.getElementById('modalroot');\n  modalDiv.innerHTML = fillDefaultModal(props);\n  const okBtn = modalDiv.querySelector('#modal__btn-ok');\n\n  const activeOkEventListener = e => {\n    e.preventDefault();\n\n    if (typeof props.onConfirm === 'function') {\n      props.onConfirm();\n    } else {\n      console.log('[Modal] confirm');\n    }\n  };\n\n  okBtn.addEventListener('click', activeOkEventListener);\n\n  clearOkListener = () => {\n    okBtn.removeEventListener('click', activeOkEventListener);\n  };\n\n  const cancelBtn = modalDiv.querySelector('#modal__btn-cancel');\n\n  const activeCancelEventListener = e => {\n    e.preventDefault();\n\n    if (typeof props.onDecline === 'function') {\n      props.onDecline();\n    } else {\n      console.log('[Modal] decline');\n    }\n  };\n\n  cancelBtn.addEventListener('click', activeCancelEventListener);\n\n  clearCancelListener = () => {\n    cancelBtn.removeEventListener('click', activeCancelEventListener);\n  };\n\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_2__.modalTypes.MODAL_CLOSE, () => {\n    document.title = _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].getState().page.docTitle;\n  });\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_2__.modalTypes.MODAL_OPEN, () => {\n    document.title = docTitle;\n  });\n  return modalDiv;\n}\n\nconst modalDiv = _createModal({\n  isEnteractive: true,\n  isCancelable: true\n});\n\nconst Modal = {\n  animationTime,\n\n  setDocTitle(title) {\n    docTitle = title;\n  },\n\n  close() {\n    if (isDestroyed) {\n      if (_globals_js__WEBPACK_IMPORTED_MODULE_4__.modalsDebug) {\n        console.warn('[Modal] close: modal has been destroyed');\n      }\n\n      return;\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.modalActions.modalClose());\n    inClosing = true;\n    const modalOverlay = modalDiv.querySelector('.modal__overlay');\n    modalOverlay.classList.add('modal_close');\n    modalOverlay.classList.remove('modal_open');\n    setTimeout(() => {\n      inClosing = false;\n    }, animationTime);\n  },\n\n  open(isEnteractive = true) {\n    if (isDestroyed) {\n      if (_globals_js__WEBPACK_IMPORTED_MODULE_4__.modalsDebug) {\n        console.warn('[[Modal] open: modal has been destroyed');\n      }\n\n      return;\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.modalActions.modalOpen()); // во время анимации закрытия не сетим анимацию закрытия\n\n    if (inClosing) {\n      console.warn('[Modal] open: modal is in closing process');\n      return;\n    }\n\n    const okBtn = modalDiv.querySelector('#modal__btn-ok');\n    const cancelBtn = modalDiv.querySelector('#modal__btn-cancel');\n    okBtn.className = 'modal__btn-ok';\n    okBtn.classList.add('modal__btn');\n    cancelBtn.className = 'modal__btn-cancel';\n    cancelBtn.classList.add('modal__btn');\n\n    if (!isEnteractive) {\n      okBtn.style.display = 'none';\n      cancelBtn.style.display = 'none';\n    }\n\n    const modalOverlay = modalDiv.querySelector('.modal__overlay');\n    modalOverlay.classList.remove('modal_close');\n    modalOverlay.classList.add('modal_open'); // временное выплывающее окно\n\n    if (!isEnteractive) {\n      setTimeout(() => {\n        this.close();\n        setTimeout(() => {\n          if (okBtnDispay) {\n            okBtn.style.display = 'block';\n          }\n\n          if (cancelBtnDispay) {\n            cancelBtn.style.display = 'block';\n          }\n        }, animationTime);\n      }, informationWindowOpenTime);\n    }\n  },\n\n  getContent() {\n    const contentDiv = modalDiv.querySelector('.modal__content');\n\n    if (!contentDiv) {\n      console.warn('[Modal] no .modal__content found');\n    }\n\n    return contentDiv;\n  },\n\n  setContent(content) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_4__.modalsDebug) {\n      console.log('[Modal]: setContent to ', content);\n    }\n\n    const contentDiv = modalDiv.querySelector('.modal__content');\n\n    if (typeof content === 'string') {\n      contentDiv.innerHTML = content;\n    }\n\n    if (content instanceof HTMLElement) {\n      contentDiv.innerHTML = '';\n      contentDiv.appendChild(content);\n    }\n  },\n\n  appendContent(content) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_4__.modalsDebug) {\n      console.log('[Modal]: appendContent:', content);\n    }\n\n    const contentDiv = modalDiv.querySelector('.modal__content');\n\n    if (typeof content === 'string') {\n      contentDiv.innerHTML += content;\n    }\n\n    if (content instanceof HTMLElement) {\n      contentDiv.appendChild(content);\n    }\n  },\n\n  setTitle(title) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_4__.modalsDebug) {\n      console.log('[Modal]: setTitle to ', title);\n    }\n\n    let titleDiv = modalDiv.querySelector('.modal__header');\n\n    if (typeof title === 'string') {\n      titleDiv.innerHTML = title;\n    }\n\n    if (title instanceof HTMLElement) {\n      const newTitleDiv = document.createElement('div');\n      titleDiv.className = 'modal__header';\n      newTitleDiv.appendChild(title);\n      titleDiv = newTitleDiv;\n    }\n  },\n\n  // при работе с этой функцией сбиваются анимации !\n\n  /**\r\n   * @param {object} props\r\n   * @property {string} title\r\n   * @property {string} content\r\n   * @property {string?} btnOkSign      - надпись на кнопке подтверждения\r\n   * @property {string?} btnCancelSign  - надпись на кнопке отмены\r\n   * @property {bolean} isEnteractive   - true - кнопки на футере отображаются\r\n   * @property {bolean} isCancelable    - true - кнопка отмены\r\n   *                                      на футере отображается\r\n   * @property {callback} onConfirm     - обработчик кнопки ОК\r\n   * @property {callback} onDecline     - обработчик кнопки CANCEL\r\n   */\n  configurate(props) {\n    modalDiv.innerHTML = fillDefaultModal(props);\n    const okBtn = modalDiv.querySelector('#modal__btn-ok');\n\n    const activeOkEventListener = e => {\n      e.preventDefault();\n\n      if (typeof props.onConfirm === 'function') {\n        props.onConfirm();\n      } else {\n        console.log('[Modal] confirm');\n      }\n    };\n\n    okBtn.addEventListener('click', activeOkEventListener);\n\n    clearOkListener = () => {\n      okBtn.removeEventListener('click', activeOkEventListener);\n    };\n\n    const cancelBtn = modalDiv.querySelector('#modal__btn-cancel');\n\n    const activeCancelEventListener = e => {\n      e.preventDefault();\n\n      if (typeof props.onDecline === 'function') {\n        props.onDecline();\n      } else {\n        console.log('[Modal] decline');\n      }\n    };\n\n    cancelBtn.addEventListener('click', activeCancelEventListener);\n\n    clearCancelListener = () => {\n      console.log('[Modal] clear Cancel Listener', {\n        activeCancelEventListener\n      });\n      cancelBtn.removeEventListener('click', activeCancelEventListener);\n    };\n\n    if (!props.isEnteractive) {\n      okBtn.style.display = 'none';\n      cancelBtn.style.display = 'none';\n    }\n\n    if (!props.isCancelable) {\n      cancelBtn.style.display = 'none';\n    }\n  },\n\n  enableOkBtn() {\n    const okBtn = modalDiv.querySelector('#modal__btn-ok');\n    okBtn.style.display = 'block';\n    okBtnDispay = true;\n  },\n\n  disableOkBtn() {\n    const okBtn = modalDiv.querySelector('#modal__btn-ok');\n    okBtn.style.display = 'none';\n    okBtnDispay = false;\n  },\n\n  enableCancelBtn() {\n    const cancelBtn = modalDiv.querySelector('#modal__btn-cancel');\n    cancelBtn.style.display = 'block';\n    cancelBtnDispay = true;\n  },\n\n  disableCancelBtn() {\n    const cancelBtn = modalDiv.querySelector('#modal__btn-cancel');\n    cancelBtn.style.display = 'none';\n    cancelBtnDispay = false;\n  },\n\n  changeBtnOkSign(text) {\n    const okBtn = modalDiv.querySelector('#modal__btn-ok');\n    okBtn.innerText = text;\n  },\n\n  changeBtnCancelSign(text) {\n    const cancelBtn = modalDiv.querySelector('#modal__btn-cancel');\n    cancelBtn.innerText = text;\n  },\n\n  setOkBtnAction(onConfirm) {\n    clearOkListener();\n    const okBtn = modalDiv.querySelector('#modal__btn-ok');\n\n    const activeOkEventListener = e => {\n      e.preventDefault();\n\n      if (typeof onConfirm === 'function') {\n        onConfirm();\n      } else {\n        console.log('[Modal] confirm');\n      }\n    };\n\n    okBtn.addEventListener('click', activeOkEventListener);\n\n    clearOkListener = () => {\n      okBtn.removeEventListener('click', activeOkEventListener);\n    };\n  },\n\n  setCancelBtnAction(onDecline) {\n    clearCancelListener();\n    const cancelBtn = modalDiv.querySelector('#modal__btn-cancel');\n\n    const activeCancelEventListener = e => {\n      e.preventDefault();\n\n      if (typeof onDecline === 'function') {\n        onDecline();\n      } else {\n        console.log('[Modal] confirm');\n      }\n    };\n\n    cancelBtn.addEventListener('click', activeCancelEventListener);\n\n    clearCancelListener = () => {\n      cancelBtn.removeEventListener('click', activeCancelEventListener);\n    };\n  }\n\n};\n/**\r\n * Обработчик элементов закрытия окна\r\n * @param {event} e;\r\n */\n\nfunction modalCloseListener(e) {\n  const target = e.target;\n\n  if (target.dataset['modalClose']) {\n    Modal.close();\n  }\n}\n\nmodalDiv.addEventListener('click', modalCloseListener);\nObject.assign(Modal, {\n  // removes event listeners\n  destroy() {\n    this.close();\n    modalDiv.removeEventListener('click', modalCloseListener);\n    modalDiv.innerHTML = '';\n    isDestroyed = true;\n  }\n\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Modal);\n\n//# sourceURL=webpack://saber_project/./public/components/modal/modal.js?");

/***/ }),

/***/ "./public/components/modal/modal.pug.js":
/*!**********************************************!*\
  !*** ./public/components/modal/modal.pug.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ modalComponent)\n/* harmony export */ });\nfunction x() {}\n\n;\nfunction modalComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (cancel_sign, content, ok_sign) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"modal__overlay\\\" data-modal-close=\\\"true\\\"\\u003E\\u003Cdiv class=\\\"modal__window\\\"\\u003E\\u003Cdiv class=\\\"modal__content-block\\\"\\u003E\\u003Cdiv class=\\\"modal__header\\\"\\u003E\\u003Ca class=\\\"modal__close-btn icon__img\\\" data-modal-close=\\\"true\\\"\\u003E\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"modal__content\\\"\\u003E\" + (null == (pug_interp = content) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"modal__footer\\\"\\u003E\\u003Cbutton class=\\\"modal__btn\\\" id=\\\"modal__btn-ok\\\" type=\\\"button\\\" data-modal-close=\\\"true\\\"\\u003E\" + (null == (pug_interp = ok_sign) ? \"\" : pug_interp) + \"\\u003C\\u002Fbutton\\u003E\\u003Cbutton class=\\\"modal__btn\\\" id=\\\"modal__btn-cancel\\\" type=\\\"button\\\" data-modal-close=\\\"true\\\"\\u003E\" + (null == (pug_interp = cancel_sign) ? \"\" : pug_interp) + \"\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"cancel_sign\" in locals_for_with ? locals_for_with.cancel_sign : typeof cancel_sign !== 'undefined' ? cancel_sign : undefined, \"content\" in locals_for_with ? locals_for_with.content : typeof content !== 'undefined' ? content : undefined, \"ok_sign\" in locals_for_with ? locals_for_with.ok_sign : typeof ok_sign !== 'undefined' ? ok_sign : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/modal/modal.pug.js?");

/***/ }),

/***/ "./public/components/modal/modalTemplates.js":
/*!***************************************************!*\
  !*** ./public/components/modal/modalTemplates.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"showModalInformative\": () => (/* binding */ showModalInformative),\n/* harmony export */   \"showModalNetOrServerError\": () => (/* binding */ showModalNetOrServerError),\n/* harmony export */   \"showModalWarn\": () => (/* binding */ showModalWarn),\n/* harmony export */   \"modalTest\": () => (/* binding */ modalTest),\n/* harmony export */   \"showModalConfirm\": () => (/* binding */ showModalConfirm),\n/* harmony export */   \"default\": () => (/* binding */ ModalTemplates)\n/* harmony export */ });\n/* harmony import */ var _modal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal.js */ \"./public/components/modal/modal.js\");\n/* harmony import */ var _signupModal_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signupModal.js */ \"./public/components/modal/signupModal.js\");\n\n\n/**\r\n * Информационное окно\r\n * @param {string} header\r\n * @param {string | HTMLElement} content\r\n */\n\nfunction showModalInformative(header = '', content = '') {\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(header);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setContent(content);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(false);\n}\n/**\r\n * Информационное окно об HTTP ошибках 400 и 500\r\n * @param {number} status\r\n * @param {string} msg\r\n */\n\nfunction showModalNetOrServerError(status, msg) {\n  if ((status / 100 + '')[0] === '5') {\n    _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(`Сервис временно не доступен: ${status}`);\n  }\n\n  if ((status / 100 + '')[0] === '4') {\n    if (status === 401) {\n      _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(\n      /* пользовательская */\n      `Внимание`);\n      msg = 'Для этого действия необходима авторизация';\n    } else {\n      _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(\n      /* пользовательская */\n      `Ошибка ${status}`);\n    }\n  }\n\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setContent(msg);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(false);\n}\n/**\r\n * Информационное окно, требующее подтверждения\r\n * @param {string} header\r\n * @param {string | HTMLElement} content\r\n * @param {function} onConfirm\r\n */\n\nfunction showModalWarn(header, content, onConfirm = () => {}) {\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(header);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setContent(content);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].enableOkBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].changeBtnOkSign('Понятно');\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setOkBtnAction(onConfirm);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].disableCancelBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(true);\n}\n/**\r\n * Информационное окно, требующее подтверждения\r\n * @param {string} header\r\n * @param {string | HTMLElement} content\r\n * @param {function} onConfirm\r\n */\n\nfunction modalTest(header, content, onConfirm = () => {}) {\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(header);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setContent(content);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].enableOkBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].changeBtnOkSign('Понятно');\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setOkBtnAction(onConfirm);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].disableCancelBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(true);\n}\n/**\r\n * Информационное окно, требующее подтверждения\r\n * @param {string} header\r\n * @param {string | HTMLElement} content\r\n * @param {function} onConfirm\r\n * @param {function} onDecline\r\n */\n\nfunction showModalConfirm(header, content, onConfirm, onDecline = () => {}) {\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(header);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setContent(content);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].changeBtnOkSign('Да');\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].enableOkBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setOkBtnAction(onConfirm);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].changeBtnCancelSign('Отмена');\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].enableCancelBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setCancelBtnAction(onDecline);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open(true);\n}\n/**\r\n * Сборник полезных модальных окон\r\n * Все функции включают полную настройку модального окна\r\n * @class ModalTemplates\r\n */\n\nclass ModalTemplates {\n  /**\r\n  * Страница содержит главный компонент - форму регистрации\r\n  * @param {boolean} showRegister\r\n  * true, если нужно отобразить форму\r\n  * для регистрации, false - для входа\r\n  */\n  static signup(showRegister) {\n    _signupModal_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].show(showRegister);\n  }\n  /**\r\n  * Информационное окно об HTTP ошибках 400 и 500\r\n  * @param {number} status\r\n  * @param {string} msg\r\n  */\n\n\n  static netOrServerError(status, msg) {\n    showModalNetOrServerError(status, msg);\n  }\n  /**\r\n   * Информационное окно\r\n   * @param {string} header\r\n   * @param {string | HTMLElement} content\r\n   */\n\n\n  static informativeMsg(header = '', content = '') {\n    showModalInformative(header, content);\n  }\n  /**\r\n   * Информационное окно, требующее подтверждения\r\n   * @param {string} header\r\n   * @param {string | HTMLElement} content\r\n   * @param {function} onConfirm\r\n   * @param {function} onDecline\r\n   */\n\n\n  static confirm(header, content, onConfirm, onDecline) {\n    showModalConfirm(header, content, onConfirm, onDecline);\n  }\n  /**\r\n   * Информационное окно, требующее подтверждения\r\n   * @param {string} header\r\n   * @param {string | HTMLElement} content\r\n   * @param {function} onConfirm\r\n   */\n\n\n  static warn(header, content, onConfirm) {\n    showModalWarn(header, content, onConfirm);\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/modal/modalTemplates.js?");

/***/ }),

/***/ "./public/components/modal/serviceWarning.js":
/*!***************************************************!*\
  !*** ./public/components/modal/serviceWarning.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _serviceWarning_serviceWarning_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./serviceWarning/serviceWarning.js */ \"./public/components/modal/serviceWarning/serviceWarning.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../flux/types.js */ \"./public/flux/types.js\");\n\n\n\nconst serviceWarning = new _serviceWarning_serviceWarning_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\ndocument.getElementById('warningroot').appendChild(serviceWarning.render());\nconst Warning = {\n  show(msg) {\n    serviceWarning.show(msg);\n  },\n\n  hide() {\n    serviceWarning.hide();\n  },\n\n  setMessage(msg) {\n    serviceWarning.setMessage(msg);\n  },\n\n  getMessage() {\n    return serviceWarning.getMessage();\n  },\n\n  init() {\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_2__.apiTypes.SET_UNAVAILABLE, () => Warning.show('Сервис недоступен'));\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_2__.apiTypes.SET_AVAILABLE, () => {\n      if (Warning.getMessage() === 'Сервис недоступен') {\n        Warning.setMessage('');\n        Warning.hide();\n      }\n    });\n  }\n\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Warning);\n\n//# sourceURL=webpack://saber_project/./public/components/modal/serviceWarning.js?");

/***/ }),

/***/ "./public/components/modal/serviceWarning/serviceWarning.js":
/*!******************************************************************!*\
  !*** ./public/components/modal/serviceWarning/serviceWarning.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ServiceWarning)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _serviceWarningView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./serviceWarningView.js */ \"./public/components/modal/serviceWarning/serviceWarningView.js\");\n\n\n/**\r\n * @class ServiceWarning\r\n */\n\nclass ServiceWarning extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Окошко сообщений о состоянии сервиса\r\n   */\n  constructor() {\n    super();\n    this.view = new _serviceWarningView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    this.root = this.view.render();\n    return this.root;\n  }\n  /**\r\n   * @param {string} msg\r\n   */\n\n\n  setMessage(msg) {\n    this.root.innerHTML = msg;\n  }\n  /**\r\n   * Возврат отображаемого сообщения\r\n   * @return {string}\r\n   */\n\n\n  getMessage() {\n    return this.root.innerHTML;\n  }\n  /**\r\n   * @param {string} msg\r\n   */\n\n\n  show(msg) {\n    this.root.style.display = 'block';\n\n    if (msg) {\n      this.root.innerHTML = msg;\n    }\n  }\n  /**\r\n   * спрятать\r\n   */\n\n\n  hide() {\n    this.root.style.display = 'none';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/modal/serviceWarning/serviceWarning.js?");

/***/ }),

/***/ "./public/components/modal/serviceWarning/serviceWarningView.js":
/*!**********************************************************************!*\
  !*** ./public/components/modal/serviceWarning/serviceWarningView.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ serviceWarningView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n\n/**\r\n * @class serviceWarningView\r\n */\n\nclass serviceWarningView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n    * @return {HTMLElement}\r\n    */\n  render() {\n    const box = document.createElement('div');\n    box.style = `\n    display: none;\n\n    position:fixed; \n    box-sizing: border-box;\n    border-radius: 5px;\n    padding: 5px;\n    top: 105px;\n    left: 20px;\n    background-color: #dee4ea;\n    color: red;\n    font-weight: bold;\n    `;\n    return box;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/modal/serviceWarning/serviceWarningView.js?");

/***/ }),

/***/ "./public/components/modal/signupModal.js":
/*!************************************************!*\
  !*** ./public/components/modal/signupModal.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"signupModal\": () => (/* binding */ signupModal),\n/* harmony export */   \"default\": () => (/* binding */ SignupModal)\n/* harmony export */ });\n/* harmony import */ var _modal_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal.js */ \"./public/components/modal/modal.js\");\n/* harmony import */ var _signupForm_signupForm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../signupForm/signupForm.js */ \"./public/components/signupForm/signupForm.js\");\n\n\n/**\r\n * Страница содержит главный компонент - форму регистрации\r\n * @param {boolean} showRegister\r\n * true, если нужно отобразить форму\r\n * для регистрации, false - для входа\r\n */\n\nfunction signupModal(showRegister) {\n  // Элементы навигации\n  const changeFormTypeBtn = document.createElement('a');\n  changeFormTypeBtn.textContent = showRegister ? 'У меня уже есть аккаунт' : 'Создать аккаунт';\n  changeFormTypeBtn.href = showRegister ? '/login' : '/register';\n  changeFormTypeBtn.classList.add('link');\n  changeFormTypeBtn.addEventListener('click', e => {\n    e.preventDefault();\n    _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].close();\n    setTimeout(() => {\n      signupModal(!showRegister);\n    }, _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].animationTime);\n  }); // форма\n\n  const signupForm = new _signupForm_signupForm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](showRegister);\n  const form = signupForm.render();\n  const contentDiv = document.createElement('div');\n  contentDiv.appendChild(form);\n  contentDiv.appendChild(changeFormTypeBtn);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setDocTitle(`SaberProject | ${showRegister ? 'Sign Up' : 'Login'}`);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setTitle(showRegister ? 'Регистрация' : 'Вход');\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].setContent(contentDiv);\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].disableCancelBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].disableOkBtn();\n  _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].open();\n}\n/**\r\n * @class SignupModal\r\n */\n\nclass SignupModal {\n  /**\r\n   * @param {boolean} showRegister\r\n   * true, если нужно отобразить форму\r\n   * для регистрации, false - для входа\r\n   * По умолчанию false\r\n   */\n  static show(showRegister = false) {\n    signupModal(showRegister);\n  }\n  /**\r\n   * показать ошибку принудительно\r\n   * @param {string} msg\r\n   */\n\n\n  static appendWarning(msg) {\n    const contentDiv = _modal_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getContent();\n\n    if (!contentDiv) {\n      return;\n    }\n\n    contentDiv.innerHTML += msg;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/modal/signupModal.js?");

/***/ }),

/***/ "./public/components/profileCard/profileCard.js":
/*!******************************************************!*\
  !*** ./public/components/profileCard/profileCard.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProfileCard)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _profileCardView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./profileCardView.js */ \"./public/components/profileCard/profileCardView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../flux/types.js */ \"./public/flux/types.js\");\n\n\n\n\n/**\r\n * @class ProfileCard\r\n */\n\nclass ProfileCard extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Топ популярных новостей\r\n   */\n  constructor() {\n    super();\n    this.view = new _profileCardView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    this.unsubscribes.push(_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_3__.profilePageTypes.SET_USER_LOADING, user => {\n      this.setUser(user);\n    }), _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_3__.profilePageTypes.SET_USER_INFO, user => {\n      this.setUser(user);\n    }));\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    const user = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().profilePage.user;\n    this.root = this.view.render(user);\n    return this.root;\n  }\n  /**\r\n   * @param {Object} user\r\n   * @property {string} login\r\n   * @property {string?} firstName\r\n   * @property {string?} lastName\r\n   * @property {email?} email\r\n   * @property {string?} avatarUrl\r\n   * @property {number?} score\r\n   */\n\n\n  setUser(user) {\n    this.root.innerHTML = '';\n    this.root.appendChild(this.view.render(user).firstChild);\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/profileCard/profileCard.js?");

/***/ }),

/***/ "./public/components/profileCard/profileCard.pug.js":
/*!**********************************************************!*\
  !*** ./public/components/profileCard/profileCard.pug.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ profileCardComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction profileCardComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (avatarUrl, description, disableArticles, firstName, lastName, login) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"profile\\\"\\u003E\\u003Cdiv class=\\\"profile__info\\\"\\u003E\\u003Cimg\" + (\" class=\\\"profile__photo\\\"\" + pug_attr(\"src\", `${avatarUrl || 'static/img/users/user_icon_loading.svg'}`, true, false)) + \"\\u002F\\u003E\\u003Cdiv class=\\\"profile__description\\\"\\u003E\\u003Cdiv class=\\\"profile__username\\\"\\u003E\" + pug_escape(null == (pug_interp = firstName) ? \"\" : pug_interp) + \" \" + pug_escape(null == (pug_interp = lastName) ? \"\" : pug_interp) + \" (\" + pug_escape(null == (pug_interp = login) ? \"\" : pug_interp) + \")\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"profile__aboutme\\\"\\u003EОбо мне:\\u003C\\u002Fdiv\\u003E\" + pug_escape(null == (pug_interp = description) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n\n    if (!disableArticles) {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"profile__articles-title\\\"\\u003EСтатьи\\u003C\\u002Fdiv\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"avatarUrl\" in locals_for_with ? locals_for_with.avatarUrl : typeof avatarUrl !== 'undefined' ? avatarUrl : undefined, \"description\" in locals_for_with ? locals_for_with.description : typeof description !== 'undefined' ? description : undefined, \"disableArticles\" in locals_for_with ? locals_for_with.disableArticles : typeof disableArticles !== 'undefined' ? disableArticles : undefined, \"firstName\" in locals_for_with ? locals_for_with.firstName : typeof firstName !== 'undefined' ? firstName : undefined, \"lastName\" in locals_for_with ? locals_for_with.lastName : typeof lastName !== 'undefined' ? lastName : undefined, \"login\" in locals_for_with ? locals_for_with.login : typeof login !== 'undefined' ? login : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/profileCard/profileCard.pug.js?");

/***/ }),

/***/ "./public/components/profileCard/profileCardView.js":
/*!**********************************************************!*\
  !*** ./public/components/profileCard/profileCardView.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ profileCardView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _profileCard_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./profileCard.pug.js */ \"./public/components/profileCard/profileCard.pug.js\");\n\n\n/**\r\n * @class profileCard\r\n */\n\nclass profileCardView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n  * Хранит состояние - загруженные статьи автора\r\n  * @param {string} preview\r\n  */\n  constructor() {\n    super();\n    this.root = document.createElement('div');\n    this.root.innerHTML = 'компонент profileCard';\n  }\n  /**\r\n   * @param {Object} user\r\n   * @property {string} login\r\n   * @property {string?} firstName\r\n   * @property {string?} lastName\r\n   * @property {string?} avatarUrl\r\n   * @property {number?} score\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render(user) {\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = (0,_profileCard_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(user);\n    this.root = wrapper.firstChild;\n    return wrapper.firstChild;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/profileCard/profileCardView.js?");

/***/ }),

/***/ "./public/components/reader/articleAddComment.pug.js":
/*!***********************************************************!*\
  !*** ./public/components/reader/articleAddComment.pug.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ articleAddCommentComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction articleAddCommentComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (message) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"article-view__add-comment\\\"\\u003E\\u003Cinput\" + (\" class=\\\"article-view__comment-input\\\"\" + \" type=\\\"text\\\" name=\\\"answer\\\"\" + pug_attr(\"placeholder\", `${message || ''}`, true, false)) + \"\\u002F\\u003E\\u003Cbutton class=\\\"action-btns__send-icon icon__img article-view__send-comment-btn\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"message\" in locals_for_with ? locals_for_with.message : typeof message !== 'undefined' ? message : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/reader/articleAddComment.pug.js?");

/***/ }),

/***/ "./public/components/reader/articleReader.pug.js":
/*!*******************************************************!*\
  !*** ./public/components/reader/articleReader.pug.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ articleReaderComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction articleReaderComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (Array, author, category, comments, datetime, likes, message, previewUrl, tags, text, title) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"article-view\\\"\\u003E\\u003Cdiv class=\\\"article-view__content\\\"\\u003E\\u003Cdiv class=\\\"article-view__top\\\"\\u003E\\u003Ca class=\\\"article-view__back-btn\\\" id=\\\"article-change-btn\\\" style=\\\"display:none\\\"\\u003EИзменить\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"article-view__back-btn\\\" data-section=\\\"back\\\"\\u003EНазад\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-view__author-time\\\"\\u003E\";\n\n    if (typeof author === \"object\") {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"article-view__author\\\"\\u003E \\u003Ca\" + pug_attr(\"href\", `/user/${author.login}`, true, false) + \"\\u003E\" + pug_escape(null == (pug_interp = author.login) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\";\n    } else {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"article-view__author\\\"\\u003EОшибка\\u003C\\u002Fdiv\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"article-view__time\\\"\\u003E\" + pug_escape(null == (pug_interp = datetime) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-view__category\\\"\\u003E\\u003Ca\" + pug_attr(\"href\", `/categories/${category}`, true, false) + \"\\u003E\" + pug_escape(null == (pug_interp = category) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-view__title\\\"\\u003E\" + pug_escape(null == (pug_interp = title) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-view__info\\\"\\u003E\\u003Cdiv class=\\\"article-view__tags\\\"\\u003E\";\n\n    if (Array.isArray(tags)) {\n      // iterate tags.length ? tags : ['']\n      ;\n      (function () {\n        var $$obj = tags.length ? tags : [''];\n\n        if ('number' == typeof $$obj.length) {\n          for (var pug_index0 = 0, $$l = $$obj.length; pug_index0 < $$l; pug_index0++) {\n            var tag = $$obj[pug_index0];\n            pug_html = pug_html + \"\\u003Ca class=\\\"article-view__tag\\\"\\u003E\" + pug_escape(null == (pug_interp = tag) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\";\n          }\n        } else {\n          var $$l = 0;\n\n          for (var pug_index0 in $$obj) {\n            $$l++;\n            var tag = $$obj[pug_index0];\n            pug_html = pug_html + \"\\u003Ca class=\\\"article-view__tag\\\"\\u003E\" + pug_escape(null == (pug_interp = tag) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\";\n          }\n        }\n      }).call(this);\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"action-btns\\\"\\u003E\\u003Cdiv class=\\\"icon action-btns_m-right\\\"\\u003E\\u003Cdiv class=\\\"icon__text\\\"\\u003E\" + pug_escape(null == (pug_interp = likes || '') ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"action-btns__likes-icon icon__img\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"icon action-btns_m-right\\\"\\u003E\\u003Cdiv class=\\\"icon__text\\\"\\u003E\" + pug_escape(null == (pug_interp = comments || '') ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"action-btns__comments-icon icon__img\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"icon\\\"\\u003E\\u003Cdiv class=\\\"action-btns__share-icon icon__img\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cimg\" + (\" class=\\\"article-view__main-picture\\\"\" + pug_attr(\"src\", `${previewUrl}`, true, false)) + \"\\u002F\\u003E\\u003Cdiv class=\\\"article-view__content\\\"\\u003E\\u003Cdiv class=\\\"article-view__text\\\"\\u003E\" + pug_escape(null == (pug_interp = text) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"article-view__add-comment\\\"\\u003E\\u003Cinput\" + (\" class=\\\"article-view__comment-input\\\"\" + \" type=\\\"text\\\" name=\\\"answer\\\"\" + pug_attr(\"placeholder\", `${message || ''}`, true, false)) + \"\\u002F\\u003E\\u003Cbutton class=\\\"action-btns__send-icon icon__img article-view__send-comment-btn\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"comments-show\\\"\\u003E\\u003Cbutton class=\\\"action-btns__arrow-icon icon-small__img comments-show__btn rotate-180\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003Cdiv class=\\\"comments-show__text\\\"\\u003EСкрыть комментарии\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"comments\\\" id=\\\"comments\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"Array\" in locals_for_with ? locals_for_with.Array : typeof Array !== 'undefined' ? Array : undefined, \"author\" in locals_for_with ? locals_for_with.author : typeof author !== 'undefined' ? author : undefined, \"category\" in locals_for_with ? locals_for_with.category : typeof category !== 'undefined' ? category : undefined, \"comments\" in locals_for_with ? locals_for_with.comments : typeof comments !== 'undefined' ? comments : undefined, \"datetime\" in locals_for_with ? locals_for_with.datetime : typeof datetime !== 'undefined' ? datetime : undefined, \"likes\" in locals_for_with ? locals_for_with.likes : typeof likes !== 'undefined' ? likes : undefined, \"message\" in locals_for_with ? locals_for_with.message : typeof message !== 'undefined' ? message : undefined, \"previewUrl\" in locals_for_with ? locals_for_with.previewUrl : typeof previewUrl !== 'undefined' ? previewUrl : undefined, \"tags\" in locals_for_with ? locals_for_with.tags : typeof tags !== 'undefined' ? tags : undefined, \"text\" in locals_for_with ? locals_for_with.text : typeof text !== 'undefined' ? text : undefined, \"title\" in locals_for_with ? locals_for_with.title : typeof title !== 'undefined' ? title : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/reader/articleReader.pug.js?");

/***/ }),

/***/ "./public/components/reader/comment.pug.js":
/*!*************************************************!*\
  !*** ./public/components/reader/comment.pug.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ commentComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction commentComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (answers, author, datetime, id, isEdited, likes, text) {\n    pug_html = pug_html + \"\\u003Cdiv\" + (\" class=\\\"comment\\\"\" + pug_attr(\"id\", `${id}`, true, false) + pug_attr(\"data-author\", `${author.login}`, true, false)) + \"\\u003E\\u003Cdiv class=\\\"comment__content\\\"\\u003E\\u003Cimg\" + (\" class=\\\"comment__author-photo\\\"\" + pug_attr(\"src\", `${author.avatarUrl}`, true, false)) + \"\\u002F\\u003E\\u003Cdiv class=\\\"comment__description\\\"\\u003E\\u003Cdiv class=\\\"comment__author-name\\\"\\u003E\" + pug_escape(null == (pug_interp = author.lastName) ? \"\" : pug_interp) + \" \" + pug_escape(null == (pug_interp = author.firstName) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"comment__text\\\"\\u003E\" + pug_escape(null == (pug_interp = text) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"comment__bottom\\\"\\u003E\\u003Cdiv class=\\\"action-btns\\\"\\u003E\";\n\n    if (isEdited) {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"comment__time\\\"\\u003Eизменено \" + pug_escape(null == (pug_interp = datetime) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\";\n    } else {\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"comment__time\\\"\\u003E\" + pug_escape(null == (pug_interp = datetime) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003Cbutton class=\\\"comment__edit-btn\\\" style=\\\"display: none\\\"\\u003EИзменить\\u003C\\u002Fbutton\\u003E\\u003Cbutton class=\\\"comment__answer-btn\\\"\\u003EОтветить\\u003C\\u002Fbutton\\u003E\\u003Cdiv class=\\\"icon-small action-btns_m-right\\\"\\u003E\\u003Cdiv class=\\\"icon-small__text\\\"\\u003E\" + pug_escape(null == (pug_interp = likes) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"action-btns__likes-icon icon-small__img\\\"\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"comment__answers\\\"\\u003E\" + (null == (pug_interp = answers) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"answers\" in locals_for_with ? locals_for_with.answers : typeof answers !== 'undefined' ? answers : undefined, \"author\" in locals_for_with ? locals_for_with.author : typeof author !== 'undefined' ? author : undefined, \"datetime\" in locals_for_with ? locals_for_with.datetime : typeof datetime !== 'undefined' ? datetime : undefined, \"id\" in locals_for_with ? locals_for_with.id : typeof id !== 'undefined' ? id : undefined, \"isEdited\" in locals_for_with ? locals_for_with.isEdited : typeof isEdited !== 'undefined' ? isEdited : undefined, \"likes\" in locals_for_with ? locals_for_with.likes : typeof likes !== 'undefined' ? likes : undefined, \"text\" in locals_for_with ? locals_for_with.text : typeof text !== 'undefined' ? text : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/reader/comment.pug.js?");

/***/ }),

/***/ "./public/components/reader/reader.js":
/*!********************************************!*\
  !*** ./public/components/reader/reader.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Reader)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _readerView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./readerView.js */ \"./public/components/reader/readerView.js\");\n/* harmony import */ var _comment_pug_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./comment.pug.js */ \"./public/components/reader/comment.pug.js\");\n/* harmony import */ var _articleAddComment_pug_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./articleAddComment.pug.js */ \"./public/components/reader/articleAddComment.pug.js\");\n/* harmony import */ var _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/modal/modalTemplates.js */ \"./public/components/modal/modalTemplates.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../flux/actions/readerActions.js */ \"./public/flux/actions/readerActions.js\");\n/* harmony import */ var _flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../flux/actions/editorActions.js */ \"./public/flux/actions/editorActions.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n\n\n\n\n\n\n\n\n\n // true - поля ответа и изменения не убираются,\n// игнорируется авторизация для комментариев\n\nconst layoutDebug = false;\n/**\r\n * навесить обработчик на кнопку \"изменить\" комментарий\r\n *  сделать кнопку видиой\r\n * @param {HTMLElement} commentDiv\r\n * @param {Comment} comment\r\n */\n\nfunction createCommentChangeListener(commentDiv, comment) {\n  const changeBtn = commentDiv.querySelector('.comment__edit-btn');\n  changeBtn.style.display = 'block';\n  changeBtn.addEventListener('click', e => {\n    e.preventDefault(); // рисуем текстовое поле\n\n    appendTextField(commentDiv, 'изменение комментария', comment, false, value => {\n      let responseStatus = 0;\n      _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post({\n        url: '/comments/update',\n        body: {\n          text: value,\n          id: comment.id // number\n\n        }\n      }).then(({\n        status,\n        response\n      }) => new Promise((resolve, reject) => {\n        if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].STATUS.ok) {\n          resolve(response.data);\n        } else {\n          responseStatus = status;\n          reject(new Error(response.msg));\n        }\n      })).then(newComment => {\n        newComment = (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_10__.translateServerComment)(newComment, _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().authorization);\n        commentDiv.innerHTML = (0,_comment_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(newComment);\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].editArticleComment(comment.id, newComment.text));\n      }).catch(err => {\n        if (responseStatus !== 0) {\n          _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].netOrServerError(responseStatus, err.message);\n        } else {\n          console.warn(err.message);\n        }\n      }); // TODO: перейти на якорь добавленного коммента\n    });\n  });\n}\n/**\r\n * навесить обработчик на кнопку \"ответить\" комментария\r\n * @param {HTMLElement} root\r\n * @param {number | string} articleId\r\n * @param {Comment} comment\r\n */\n\n\nfunction createCommentAnswerListener(root, articleId, comment) {\n  // вешаем на кнопку \"ответить\" для самого комментария, и на всех его детей\n  const answerBtns = root.querySelectorAll('.comment__answer-btn');\n  answerBtns.forEach(el => el.addEventListener('click', e => {\n    e.preventDefault(); // рисуем чистое текстовое поле\n\n    appendTextField(root, 'ответ на комментарий', comment, true, value => {\n      let responseStatus = 0;\n      _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post({\n        url: '/comments/create',\n        body: {\n          text: value,\n          parentId: comment.id,\n          // number\n          articleId: parseInt(articleId, 10)\n        }\n      }).then(({\n        status,\n        response\n      }) => new Promise((resolve, reject) => {\n        if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].STATUS.ok) {\n          resolve(response.data);\n        } else {\n          responseStatus = status;\n          reject(new Error(response.msg));\n        }\n      })).then(answer => {\n        const answerDiv = document.createElement('div');\n        answer = (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_10__.translateServerComment)(answer);\n        answerDiv.innerHTML = (0,_comment_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(answer); // вешаем обработчики на только что созданный комментарий (ответ)\n\n        createCommentChangeListener(answerDiv, answer);\n        createCommentAnswerListener(answerDiv, articleId, answer);\n        root.querySelector('.comment__answers').appendChild(answerDiv);\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].addAnswer(comment.id, answer));\n      }).catch(err => {\n        if (responseStatus !== 0) {\n          _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].netOrServerError(responseStatus, err.message);\n        } else {\n          console.warn(err.message);\n        }\n      });\n    });\n  }));\n}\n/**\r\n * Отрисовать текстовое поле с обработчиком\r\n * @param {HTMLElement} root вниз будет вставлен инпут со стрелочкой\r\n * @param {string} message\r\n * @param {object} comment\r\n * @param {boolean} isFieldClear\r\n * @param {function} onClick\r\n */\n\n\nfunction appendTextField(root, message, comment, isFieldClear, onClick) {\n  const answerFieldWrapper = document.createElement('div');\n  answerFieldWrapper.innerHTML = (0,_articleAddComment_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n    message\n  });\n  const answerField = answerFieldWrapper.firstChild;\n  answerField.classList.add('comment-answer-input');\n  const input = answerField.querySelector('input');\n\n  if (!isFieldClear) {\n    input.value = comment.text;\n  }\n\n  const submitAction = () => {\n    const value = input.value.trim(); // Если изменений нет или строка пустая\n\n    if (value === comment.text || value === '') {\n      return;\n    }\n\n    onClick(value); // мог быть уже убран если сработал focusout\n    // focusout отключен, если нажимается кнопка\n\n    try {\n      if (!layoutDebug) {\n        root.removeChild(answerField);\n      }\n    } catch {// пофиг если често\n    }\n  };\n\n  const sendBtn = answerField.querySelector('.article-view__send-comment-btn');\n  sendBtn.addEventListener('click', e => {\n    e.preventDefault();\n    submitAction();\n  });\n  root.appendChild(answerField); // даем фокус. при сбросе фокуса, удаляем поле. Но\n  // поле не удаляется раньше,\n\n  const focusOutListener = e => {\n    if (!layoutDebug) {\n      root.removeChild(answerField);\n    }\n  };\n\n  input.addEventListener('focusout', focusOutListener);\n  sendBtn.addEventListener('mouseover', e => input.removeEventListener('focusout', focusOutListener));\n  sendBtn.addEventListener('mouseout', e => input.addEventListener('focusout', focusOutListener)); // сабмит нажатием enter\n\n  input.addEventListener('keydown', ({\n    keyCode,\n    target\n  }) => {\n    if (keyCode === 13) {\n      submitAction();\n    }\n  });\n  input.focus();\n}\n/**\r\n * Компонент для чтения статей\r\n * @class Reader\r\n */\n\n\nclass Reader extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Окошко сообщений о состоянии сервиса\r\n   */\n  constructor() {\n    super();\n    this.view = new _readerView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    this.unsubscribes.push(_flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_7__.readerTypes.OPEN_ARTICLE, id => {\n      const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().reader;\n      this.openArticle(state[id]);\n    }), // Если подгрузили комментарии к текущей статье - отрисовать\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_7__.readerTypes.SAVE_ARTICLE_COMMENTS, ({\n      id,\n      comments\n    }) => {\n      if (_flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().reader.currentId === id) {\n        this.setComments(comments);\n      }\n    }), // даем возможность редактирования если статья принадлежит пользователю\n    // и комментов\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_7__.authorizationTypes.LOGIN, () => {\n      const articleChangeBtn = this.root.querySelector('#article-change-btn');\n\n      if (!articleChangeBtn) {\n        console.warn('{READER} component hasn\\'t been rendered yet');\n        return;\n      } // Берем автора статьи по полю логина в верстке\n\n\n      const author = this.root.querySelector('div.article-view__author > a').textContent;\n\n      if (author === _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().authorization.login) {\n        articleChangeBtn.style.display = 'block';\n        articleChangeBtn.href = '/editor';\n        articleChangeBtn.addEventListener('click', editArticleAction);\n      } // ререндерим комментари чтобы получить обработчики кнопок изменить\n\n\n      const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().reader;\n      this.setComments(state[state.currentId].commentsContent);\n    }), // забираем возможность изменения статьи, если пропадает авторизация\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_7__.authorizationTypes.LOGOUT, () => {\n      const articleChangeBtn = this.root.querySelector('#article-change-btn');\n\n      if (!articleChangeBtn) {\n        console.warn('{READER} component hasn\\'t been rendered yet');\n        return;\n      }\n\n      articleChangeBtn.style.display = 'none';\n      articleChangeBtn.href = undefined;\n      articleChangeBtn.removeEventListener('click', editArticleAction);\n    }));\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().reader;\n    this.root = this.view.render(state[state.currentId]);\n    addEventListenersToReader(this.root); // пока контент статьи не прогрузился, изменять статью не даем\n\n    return this.root;\n  }\n  /**\r\n    * Задать содержание статьи\r\n    * @param {Object} article\r\n    * @property {string} title\r\n    * @property {string} text\r\n    * @property {Array<string>} tags\r\n    * @property {string} datetime\r\n    * @property {Object} author\r\n    * @property {number} likes\r\n    * @property {number} comments\r\n    */\n\n\n  openArticle(article) {\n    this.root.innerHTML = '';\n    this.view.render(article).childNodes.forEach(node => {\n      this.root.appendChild(node.cloneNode(true));\n    });\n    addEventListenersToReader(this.root);\n    const authLogin = _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().authorization.login;\n\n    if (article.author.login === authLogin) {\n      const articleChangeBtn = this.root.querySelector('#article-change-btn');\n      articleChangeBtn.style.display = 'block';\n      articleChangeBtn.href = '/editor'; // TODO: проверить\n      // articleChangeBtn.addEventListener('click', editArticleAction);\n    }\n  }\n  /**\r\n   * @typedef {Object} Comment\r\n   * @property {string} text\r\n   * @property {string} articleId\r\n   * @property {string} id\r\n   * @property {string} dateTime\r\n   * @property {boolean} isEdited\r\n   * @property {User} author\r\n   */\n\n  /**\r\n   * @param {Array<Comment>} comments\r\n   */\n\n\n  setComments(comments) {\n    const commentsDiv = this.root.querySelector('#comments');\n    commentsDiv.innerHTML = '';\n    comments.forEach(comment => {\n      const commentWrapper = document.createElement('div');\n      let answers = ''; // подготовка ответов на комментарий\n\n      comment.answers.forEach(element => {\n        if ('answers' in element) {\n          console.warn('Не должно быть вложенности более 1');\n          delete element.answers;\n        }\n\n        answers += (0,_comment_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element);\n      }); // отрисовка\n\n      commentWrapper.innerHTML = (0,_comment_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({ ...comment,\n        answers\n      });\n      const commentDiv = commentWrapper.firstChild; // активируем кнопку \"ответить\"\n\n      createCommentAnswerListener(commentDiv, _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().reader.currentId, comment); // активируем кнопку изменения у комментариев, принадлежащих\n      // текущему юзеру});\n\n      const authLogin = _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().authorization.login;\n\n      if (authLogin === comment.author.login || layoutDebug) {\n        createCommentChangeListener(commentDiv, comment);\n      } // то же с ответами\n\n\n      commentDiv.querySelector('.comment__answers').querySelectorAll(layoutDebug ? '.comment' : `div[data-author=\"${authLogin}\"]`).forEach(element => {\n        const elementComment = comment.answers.filter(el => el.id + '' === element.id)[0];\n        createCommentChangeListener(element, elementComment);\n      });\n      commentsDiv.appendChild(commentDiv);\n    });\n  }\n\n}\n/**\r\n * Добавление обработчиков\r\n * @param {HTMLDivElement} root\r\n */\n\nfunction addEventListenersToReader(root) {\n  // переход на тег\n  // TODO: красивые теги / сейчас ссылка в шаблоне\n  // root.querySelectorAll('.article-view__tag').forEach((tag) => {\n  //   // TODO: search parameters from url\n  //   tag.href = '/categories';\n  // });\n  // переход на категорию\n  // TODO: красивые категории / сейчас ссылка в шаблоне\n  // root.querySelectorAll('.article-view__tag').forEach((tag) => {\n  //   // TODO: search parameters from url\n  //   tag.href = '/categories';\n  // });\n  // обработчик: добавление комментария\n  const commentBtn = root.querySelector('.article-view__send-comment-btn');\n  commentBtn.addEventListener('click', e => {\n    e.preventDefault();\n    addCommentAction(root);\n  }); // обработчик: показать комментарии\n\n  const btnShow = root.querySelector('.comments-show');\n  btnShow.addEventListener('click', e => {\n    e.preventDefault();\n    commentsShowAction(root);\n  }); // обработчик: ответить на комментарий\n\n  const comments = root.querySelectorAll('.comments__comment');\n\n  for (const comment of comments) {\n    answerOnComment(comment);\n  }\n}\n\nconst editArticleAction = e => {\n  e.preventDefault();\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().reader;\n  const article = state[state.currentId];\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"].editArticle(article.id, article));\n};\n/**\r\n * Добавление комментария\r\n * @param {Element} root\r\n */\n\n\nfunction addCommentAction(root) {\n  if (!_flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().authorization.isAuthenticated) {\n    _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].warn('Сначала авторизируйтесь', 'Чтобы оставить комментарий, выполните вход');\n    return;\n  }\n\n  const input = root.querySelector('input.article-view__comment-input');\n\n  if (input.value.trim() != '') {\n    let responseStatus = 0;\n    const articleId = _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].getState().reader.currentId;\n    _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post({\n      url: '/comments/create',\n      body: {\n        // number\n        articleId: parseInt(articleId, 10),\n        parentId: 0,\n        text: input.value.trim()\n      }\n    }).then(({\n      status,\n      response\n    }) => new Promise((resolve, reject) => {\n      if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].STATUS.ok) {\n        resolve(response.data);\n      } else {\n        responseStatus = status;\n        reject(new Error(response.msg));\n      }\n    })).then(newComment => {\n      newComment = (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_10__.translateServerComment)(newComment);\n      const commentWrapper = document.createElement('div');\n      commentWrapper.innerHTML = (0,_comment_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(newComment);\n      const commentDiv = commentWrapper.firstChild; // обработчики\n\n      createCommentAnswerListener(commentDiv, articleId, newComment);\n      createCommentChangeListener(commentDiv, newComment);\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].addComment(newComment));\n      root.querySelector('.comments').appendChild(commentDiv);\n    }).catch(err => {\n      if (responseStatus !== 0) {\n        _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].netOrServerError(responseStatus, err.message);\n      } else {\n        console.warn(err.message);\n      }\n    });\n  }\n}\n/**\r\n * Показать комментарии\r\n * @param {Element} root\r\n */\n\n\nfunction commentsShowAction(root) {\n  let hide = true;\n  const comments = root.querySelector('.comments');\n  const showBtnText = root.querySelector('.comments-show__text');\n  const arrow = root.querySelector('.comments-show__btn');\n\n  if (arrow.classList.contains('rotate-180')) {\n    showBtnText.innerText = 'Показать комментарии';\n    arrow.classList.remove('rotate-180');\n    hide = true;\n  } else {\n    showBtnText.innerText = 'Скрыть комментарии';\n    arrow.classList.add('rotate-180');\n    hide = false;\n  }\n\n  if (hide) {\n    comments.classList.add('hide');\n  } else {\n    comments.classList.remove('hide');\n  }\n}\n\n//# sourceURL=webpack://saber_project/./public/components/reader/reader.js?");

/***/ }),

/***/ "./public/components/reader/readerView.js":
/*!************************************************!*\
  !*** ./public/components/reader/readerView.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReaderView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _articleReader_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./articleReader.pug.js */ \"./public/components/reader/articleReader.pug.js\");\n\n\n/**\r\n * @class ReaderView\r\n */\n\nclass ReaderView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Компонент редактора\r\n   */\n  constructor() {\n    super();\n  }\n  /**\r\n   * Задать содержание статьи\r\n   * @param {Object} article\r\n   * @property {string} title\r\n   * @property {string} text\r\n   * @property {Array<string>} tags\r\n   * @property {string} datetime\r\n   * @property {Object} author\r\n   * @property {number} likes\r\n   * @property {number} comments\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render(article) {\n    const reader = document.createElement('div');\n    reader.innerHTML = (0,_articleReader_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(article); // TODO: рисовать комментарии из стора\n\n    return reader.firstChild;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/reader/readerView.js?");

/***/ }),

/***/ "./public/components/router.js":
/*!*************************************!*\
  !*** ./public/components/router.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Router)\n/* harmony export */ });\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n/**\r\n * @class Router\r\n * @module Router\r\n */\n\nclass Router {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    this.routes = {};\n    this.routesPatterned = [];\n    this.root = root; // this.routes.filter = (predicate) =>\n    //   Object.keys(this.routes)\n    //       .filter( (key) => predicate(this.routes[key]) )\n    //       .reduce( (res, key) => (res[key] = this.routes[key], res), {} );\n    // this.pageInstances = [];\n  }\n  /**\r\n   * @param {string} path\r\n   * @param {BasePageMV} PageClass\r\n   * @return {Router}\r\n   */\n\n\n  register(path, PageClass) {\n    for (const registredPath in this.routes) {\n      // Этот инстанс уже был зарегистрирован по другим путем\n      if (this.routes[registredPath].PageClass === PageClass) {\n        console.warn(`[ROUTER] paths ${registredPath} and ${path} point to ` + `the same ${PageClass.name}`); // чтобы объект по path и registredPath был одним и тем же\n\n        this.routes[path] = this.routes[registredPath];\n        return this;\n      }\n    }\n\n    this.routes[path] = {\n      PageClass,\n      page: null,\n      root: null\n    };\n    return this;\n  }\n  /**\r\n   * Для url параметров .../path/<param>\r\n   * @param {string} path\r\n   * текст url внутри знаков <> вида <param> не будет проверяться\r\n   * на точное равенство\r\n   * @param {BasePageMV} PageClass\r\n   * @return {Router}\r\n   */\n\n\n  registerPattern(path, PageClass) {\n    path = path.slice(0, path.indexOf('<'));\n    this.routesPatterned.push(path);\n\n    for (const registredPath in this.routes) {\n      // Этот инстанс уже был зарегистрирован по другим путем\n      if (this.routes[registredPath].PageClass === PageClass) {\n        console.warn(`[ROUTER] paths ${registredPath} and ${path} point to ` + `the same ${PageClass.name}`); // чтобы объект по path и registredPath был одним и тем же\n\n        this.routes[path] = this.routes[registredPath];\n        return this;\n      }\n    }\n\n    this.routes[path] = {\n      PageClass,\n      page: null,\n      root: null\n    };\n    return this;\n  }\n  /**\r\n   * @param {string} link\r\n   */\n\n\n  open(link) {\n    let path = link; // Проверяем, является ли путь шаблонным\n\n    this.routesPatterned.forEach(pattern => {\n      if (path.startsWith(pattern)) {\n        console.log(`[ROUTER] ${path} matched pattern ${pattern}`);\n        path = pattern;\n      }\n    });\n    const route = this.routes[path];\n\n    if (!route) {\n      console.warn('[ROUTER] путь', path, 'не зарегистрирован');\n      this.open('/');\n      return;\n    }\n\n    let {\n      PageClass,\n      page,\n      root\n    } = route;\n\n    if (!root) {\n      root = document.createElement('section');\n      root.className = 'view';\n      this.root.appendChild(root);\n    }\n\n    if (!page) {\n      page = new PageClass(root);\n      console.warn('[ROUTER] создал вьюху', page);\n    }\n\n    const redirectRoute = page.redirect(window.location.pathname);\n\n    if (redirectRoute !== '') {\n      console.warn('[ROUTER]', page.constructor.name + ' | redirectRoute: ' + redirectRoute);\n      this.open(redirectRoute);\n      this.routes[path] = {\n        PageClass,\n        page,\n        root\n      };\n      return;\n    }\n\n    if (window.location.pathname !== link) {\n      window.history.pushState(null, '', link);\n    }\n\n    console.log('[ROUTER] !page.isActive():', !page.isActive());\n\n    if (!page.isActive()) {\n      Object.values(this.routes).forEach(({\n        page\n      }) => {\n        if (page && page.isActive()) {\n          page.hide();\n        }\n      });\n      page.show();\n    } // сохраняем изменения в объекте не разрушая объекте\n    // это важно для сохранения ссылок нескольких\n    // путей на одну страницу\n\n\n    this.routes[path].page = page;\n    this.routes[path].root = root;\n  }\n  /**\r\n   * Запуск ротуера. Отображение первого элемента, указанного в register()\r\n   */\n\n\n  start() {\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_1__.routerTypes.REDIRECT, to => {\n      this.open(to);\n    });\n    this.root.addEventListener('click', event => {\n      const target = event.target; // ставим preventDefault, чтобы предотварить переход по ссылкам,\n      // в которых есть вложенные элементы, ведь их href равен href'у ссылки\n      // на всех вложенных элементах такой ссылки должен быть указан\n      // data=router='ignore'\n      // Нет гарантии, что сработает раньше: linkController или Router\n\n      if (!(target instanceof HTMLAnchorElement || target.dataset.router === 'ignore') || target.dataset.router === 'outer') {\n        return;\n      }\n\n      if (_globals_js__WEBPACK_IMPORTED_MODULE_2__.routerDebug) {\n        console.warn('[ROUTER]', {\n          target\n        });\n      }\n\n      event.preventDefault();\n      const link = target.pathname || target.parentElement.pathname;\n      console.warn('link:', link);\n\n      if (_globals_js__WEBPACK_IMPORTED_MODULE_2__.routerDebug) {\n        console.log({\n          pathname: link || '[ROUTER] empty path (ignored)'\n        });\n      }\n\n      if (!link) {\n        return;\n      }\n\n      this.open(link);\n    });\n    window.addEventListener('popstate', () => {\n      const currentPath = window.location.pathname;\n      this.open(currentPath);\n    });\n    const currentPath = window.location.pathname;\n    console.log('[ROUTER] start page:', currentPath);\n    this.open(currentPath);\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/router.js?");

/***/ }),

/***/ "./public/components/settings/formSettingsRow.pug.js":
/*!***********************************************************!*\
  !*** ./public/components/settings/formSettingsRow.pug.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ formSettingsRowComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction formSettingsRowComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (label, name, pattern, placeholder, required, type) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"settings__row\\\"\\u003E\\u003Cdiv class=\\\"settings__label\\\"\\u003E\" + pug_escape(null == (pug_interp = label) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"settings__field\\\"\\u003E\";\n\n    if (placeholder != undefined && pattern != undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"placeholder\", `${placeholder}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder != undefined && pattern != undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"placeholder\", `${placeholder}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder != undefined && pattern == undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"placeholder\", `${placeholder}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder != undefined && pattern == undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern != undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern != undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern == undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern == undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"label\" in locals_for_with ? locals_for_with.label : typeof label !== 'undefined' ? label : undefined, \"name\" in locals_for_with ? locals_for_with.name : typeof name !== 'undefined' ? name : undefined, \"pattern\" in locals_for_with ? locals_for_with.pattern : typeof pattern !== 'undefined' ? pattern : undefined, \"placeholder\" in locals_for_with ? locals_for_with.placeholder : typeof placeholder !== 'undefined' ? placeholder : undefined, \"required\" in locals_for_with ? locals_for_with.required : typeof required !== 'undefined' ? required : undefined, \"type\" in locals_for_with ? locals_for_with.type : typeof type !== 'undefined' ? type : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/settings/formSettingsRow.pug.js?");

/***/ }),

/***/ "./public/components/settings/formSettingsTextarea.pug.js":
/*!****************************************************************!*\
  !*** ./public/components/settings/formSettingsTextarea.pug.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ formSettingsTextareaComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction formSettingsTextareaComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (label, name, placeholder) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"settings__row\\\"\\u003E\\u003Cdiv class=\\\"settings__label\\\"\\u003E\" + pug_escape(null == (pug_interp = label) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"settings__field\\\"\\u003E\\u003Ctextarea\" + (\" class=\\\"settings__input\\\"\" + pug_attr(\"name\", `${name}`, true, false)) + \"\\u003E\" + pug_escape(null == (pug_interp = placeholder || '') ? \"\" : pug_interp) + \"\\u003C\\u002Ftextarea\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"label\" in locals_for_with ? locals_for_with.label : typeof label !== 'undefined' ? label : undefined, \"name\" in locals_for_with ? locals_for_with.name : typeof name !== 'undefined' ? name : undefined, \"placeholder\" in locals_for_with ? locals_for_with.placeholder : typeof placeholder !== 'undefined' ? placeholder : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/settings/formSettingsTextarea.pug.js?");

/***/ }),

/***/ "./public/components/settings/settings.pug.js":
/*!****************************************************!*\
  !*** ./public/components/settings/settings.pug.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ settingsComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction settingsComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (form_rows, other_page_href, other_page_name) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"settings\\\"\\u003E\\u003Cdiv class=\\\"settings__links\\\"\\u003E\\u003Ca\" + (\" class=\\\"settings__other-page\\\"\" + pug_attr(\"href\", `${other_page_href}`, true, false)) + \"\\u003E\" + pug_escape(null == (pug_interp = other_page_name) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cform class=\\\"settings__form\\\"\\u003E\\u003Cdiv class=\\\"settings__rows\\\"\\u003E\" + (null == (pug_interp = form_rows) ? \"\" : pug_interp) + \"\\u003Cdiv class=\\\"settings__row\\\"\\u003E\\u003Cdiv class=\\\"settings__label\\\" id=\\\"settings-warning-label\\\" style=\\\"color: transparent;\\\"\\u003E|\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"settings__field\\\"\\u003E\\u003Cdiv class=\\\"settings__input settings__warning\\\"\\u003EПоля заполнены неверно\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"settings__footer\\\"\\u003E\\u003Cinput class=\\\"btn_color-elementary\\\" type=\\\"submit\\\" name=\\\"btn-submit\\\" value=\\\"Сохранить\\\"\\u002F\\u003E\\u003Ca href=\\\"\\u002F\\\"\\u003E\\u003Cinput class=\\\"btn_color-elementary\\\" data-router=\\\"ignore\\\" type=\\\"button\\\" value=\\\"Назад\\\"\\u002F\\u003E\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fform\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"form_rows\" in locals_for_with ? locals_for_with.form_rows : typeof form_rows !== 'undefined' ? form_rows : undefined, \"other_page_href\" in locals_for_with ? locals_for_with.other_page_href : typeof other_page_href !== 'undefined' ? other_page_href : undefined, \"other_page_name\" in locals_for_with ? locals_for_with.other_page_name : typeof other_page_name !== 'undefined' ? other_page_name : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/settings/settings.pug.js?");

/***/ }),

/***/ "./public/components/settings/settingsForm.js":
/*!****************************************************!*\
  !*** ./public/components/settings/settingsForm.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SettingsForm)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _settingsFormView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settingsFormView.js */ \"./public/components/settings/settingsFormView.js\");\n\n\n/**\r\n * @class SettingsForm\r\n */\n\nclass SettingsForm extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Универсальный компонент заголовка\r\n   */\n  constructor() {\n    super();\n    this.view = new _settingsFormView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    this.root = this.view.render();\n    return this.root;\n  }\n  /**\r\n   * Показать предупреждение в окне ошибок\r\n   * @param {string} msg\r\n   */\n\n\n  appendWarning(msg) {\n    const formWarning = this.root.querySelector('.settings__warning');\n\n    if (!formWarning) {\n      console.warn(`[SignupFormView]\n        appendWarning call while SignupForm was not rendered`);\n    }\n\n    formWarning.style.display = 'block';\n    formWarning.textContent = msg;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/settings/settingsForm.js?");

/***/ }),

/***/ "./public/components/settings/settingsFormView.js":
/*!********************************************************!*\
  !*** ./public/components/settings/settingsFormView.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SettingsFormView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _settings_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./settings.pug.js */ \"./public/components/settings/settings.pug.js\");\n/* harmony import */ var _formSettingsTextarea_pug_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./formSettingsTextarea.pug.js */ \"./public/components/settings/formSettingsTextarea.pug.js\");\n/* harmony import */ var _formSettingsRow_pug_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./formSettingsRow.pug.js */ \"./public/components/settings/formSettingsRow.pug.js\");\n\n\n\n\n/**\r\n * @class SettingsFormView\r\n */\n\nclass SettingsFormView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n    * @return {HTMLElement}\r\n    */\n  render() {\n    let settingsRows = '';\n    const username = (0,_formSettingsRow_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      label: 'Имя',\n      type: 'text',\n      name: 'username'\n    });\n    settingsRows += username;\n    const surname = (0,_formSettingsRow_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      label: 'Фамилия',\n      type: 'text',\n      name: 'surname'\n    });\n    settingsRows += surname;\n    const description = (0,_formSettingsTextarea_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      label: 'О себе',\n      name: 'description'\n    });\n    settingsRows += description;\n    const photo = (0,_formSettingsRow_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      label: 'Фото',\n      type: 'file',\n      name: 'photo',\n      placeholder: 'Загрузите фото'\n    });\n    settingsRows += photo;\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = (0,_settings_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      other_page_name: 'сменить пароль',\n      other_page_href: '',\n      form_rows: settingsRows\n    });\n    return wrapper.firstChild;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/settings/settingsFormView.js?");

/***/ }),

/***/ "./public/components/sidebar/buttonNav.pug.js":
/*!****************************************************!*\
  !*** ./public/components/sidebar/buttonNav.pug.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ buttonNavComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction buttonNavComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (data, data_section, href, name, section) {\n    if (href != undefined && data - section != undefined) {\n      pug_html = pug_html + \"\\u003Ca\" + (\" class=\\\"sidebar__nav-item\\\"\" + pug_attr(\"href\", `${href}`, true, false) + pug_attr(\"data-section\", `${data_section}`, true, false)) + \"\\u003E\" + pug_escape(null == (pug_interp = name) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\";\n    }\n\n    if (href == undefined && data - section != undefined) {\n      pug_html = pug_html + \"\\u003Ca\" + (\" class=\\\"sidebar__nav-item\\\"\" + pug_attr(\"data-section\", `${data_section}`, true, false)) + \"\\u003E\" + pug_escape(null == (pug_interp = name) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\";\n    }\n\n    if (href != undefined && data - section == undefined) {\n      pug_html = pug_html + \"\\u003Ca\" + (\" class=\\\"sidebar__nav-item\\\"\" + pug_attr(\"href\", `${href}`, true, false)) + \"\\u003E\" + pug_escape(null == (pug_interp = name) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\";\n    }\n  }).call(this, \"data\" in locals_for_with ? locals_for_with.data : typeof data !== 'undefined' ? data : undefined, \"data_section\" in locals_for_with ? locals_for_with.data_section : typeof data_section !== 'undefined' ? data_section : undefined, \"href\" in locals_for_with ? locals_for_with.href : typeof href !== 'undefined' ? href : undefined, \"name\" in locals_for_with ? locals_for_with.name : typeof name !== 'undefined' ? name : undefined, \"section\" in locals_for_with ? locals_for_with.section : typeof section !== 'undefined' ? section : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/sidebar/buttonNav.pug.js?");

/***/ }),

/***/ "./public/components/sidebar/sidebar.js":
/*!**********************************************!*\
  !*** ./public/components/sidebar/sidebar.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Sidebar)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _sidebarView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sidebarView.js */ \"./public/components/sidebar/sidebarView.js\");\n/* harmony import */ var _userPreview_pug_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./userPreview.pug.js */ \"./public/components/sidebar/userPreview.pug.js\");\n/* harmony import */ var _buttonNav_pug_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./buttonNav.pug.js */ \"./public/components/sidebar/buttonNav.pug.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../flux/actions/editorActions.js */ \"./public/flux/actions/editorActions.js\");\n/* harmony import */ var _common_categoriesList_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/categoriesList.js */ \"./public/common/categoriesList.js\");\n\n\n\n\n\n\n\n\n\nconst displayedDefaultLimit = 6;\n/**\r\n * ViewModel-компонент соответсвующего View\r\n * @class Sidebar\r\n */\n\nclass Sidebar extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Универсальный компонент заголовка\r\n   */\n  constructor() {\n    super();\n    this.view = new _sidebarView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    this.unsubscribes.push(_flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_6__.authorizationTypes.LOGIN, () => {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch((dispatch, getState) => dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_5__.mainPageActions.toggleLogin(true, getState().authorization.login)));\n      this.setSidebarUserPreview();\n    }), _flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_6__.authorizationTypes.LOGOUT, () => {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_5__.mainPageActions.toggleLogin(false, ''));\n      this.setSidebarSignupButtons();\n    }));\n    this.unsubscribes.push(_flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_6__.streamTypes.SAVE_NEW_COMMENTS, comments => {\n      this.addComments(comments);\n    }));\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState().authorization;\n    let topBlockContent = '';\n\n    if (!state.isAuthenticated) {\n      topBlockContent += (0,_buttonNav_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n        data_section: 'loginModal',\n        name: 'Логин'\n      });\n      topBlockContent += (0,_buttonNav_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n        data_section: 'signupModal',\n        name: 'Регистрация'\n      });\n    } else {\n      topBlockContent = (0,_userPreview_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        login: state.login,\n        avatarUrl: state.avatarUrl\n      });\n    }\n\n    const comments = [..._flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState().stream.comments].reverse();\n    this.root = this.view.render(topBlockContent, _common_categoriesList_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"], displayedDefaultLimit, comments);\n    this.view.root.querySelector('a.sidebar__nav-item').addEventListener('click', () => _flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch(_flux_actions_editorActions_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].createArticle()));\n    const categoryItems = this.view.root.querySelectorAll('.sidebar__categories-item');\n    const categoryMore = this.view.root.querySelector('.sidebar__categories-more-btn');\n    const moreText = this.view.root.querySelector('.sidebar__categories-more-text');\n    categoriesMore(categoryItems, categoryMore, moreText);\n    this.view.root.querySelector('.sidebar__categories-more').addEventListener('click', e => {\n      e.preventDefault();\n      categoriesMore(categoryItems, categoryMore, moreText);\n    });\n    return this.root;\n  }\n  /**\r\n   * Заполнить верхний блок сайдбара именем и\r\n   * аватаркой пользователя, кнопкой \"новая запись\"\r\n   */\n\n\n  setSidebarUserPreview() {\n    const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getState().authorization;\n    this.view.setTopBlockContent((0,_userPreview_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(state));\n  }\n  /**\r\n   * Заполнить верхний блок сайдбара кнопками \"войти / зарегистрироваться\"\r\n   */\n\n\n  setSidebarSignupButtons() {\n    let topBlockContent = (0,_buttonNav_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      data_section: 'loginModal',\n      name: 'Логин'\n    });\n    topBlockContent += (0,_buttonNav_pug_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])({\n      data_section: 'signupModal',\n      name: 'Регистрация'\n    });\n    this.view.setTopBlockContent(topBlockContent);\n  }\n  /**\r\n   * @param {Array<Comment>} comments\r\n   */\n\n\n  addComments(comments) {\n    this.view.addComments(comments);\n  }\n\n}\n/**\r\n * Показать больше категорий\r\n * @param {string} categoryItems\r\n * @param {string} arrow\r\n * @param {string} moreBtn\r\n */\n\nfunction categoriesMore(categoryItems, arrow, moreBtn) {\n  let hide = true;\n\n  if (arrow.classList.contains('rotate-180')) {\n    moreBtn.innerText = 'Показать ещё';\n    arrow.classList.remove('rotate-180');\n    hide = true;\n  } else {\n    moreBtn.innerText = 'Скрыть';\n    arrow.classList.add('rotate-180');\n    hide = false;\n  }\n\n  for (let i = displayedDefaultLimit; i < categoryItems.length; ++i) {\n    if (!hide) {\n      categoryItems[i].style.display = 'block';\n    } else {\n      categoryItems[i].style.display = 'none';\n    }\n  }\n}\n\n//# sourceURL=webpack://saber_project/./public/components/sidebar/sidebar.js?");

/***/ }),

/***/ "./public/components/sidebar/sidebar.pug.js":
/*!**************************************************!*\
  !*** ./public/components/sidebar/sidebar.pug.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ sidebarComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction sidebarComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (Array, categoriesList, limit, streams, topBlockContent) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"sidebar\\\"\\u003E\\u003Cdiv class=\\\"sidebar__nav-links\\\"\\u003E\\u003Ca class=\\\"sidebar__nav-item\\\" href=\\\"\\u002Feditor\\\"\\u003EДобавить  \\u003Cbr\\u002F\\u003Eзапись\\u003C\\u002Fa\\u003E\\u003Cdiv class=\\\"sidebar__nav-buttons\\\" id=\\\"sidebarTopBlockContent\\\"\\u003E\" + (null == (pug_interp = topBlockContent) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"sidebar__content\\\"\\u003E\\u003Cdiv class=\\\"sidebar__categories\\\"\\u003E\\u003Cdiv class=\\\"sidebar__nav-items\\\"\\u003E\\u003Ca class=\\\"header__nav-item\\\" data-test=\\\"test1\\\"\\u003EПопулярное\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\" data-test=\\\"test2\\\"\\u003EНовое\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\"\\u003EПодписки\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\"\\u003EМероприятия\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"header__nav-item\\\"\\u003EГруппы\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"sidebar__categories-title sidebar__item\\\"\\u003EМнения\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"sidebar__streams\\\"\\u003E\" + (null == (pug_interp = streams) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"sidebar__categories-title sidebar__item\\\"\\u003E\\u003Ca href=\\\"\\u002Fcategories\\\"\\u003EКатегории\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\";\n\n    if (Array.isArray(categoriesList)) {\n      // iterate categoriesList\n      ;\n      (function () {\n        var $$obj = categoriesList;\n\n        if ('number' == typeof $$obj.length) {\n          for (var idx = 0, $$l = $$obj.length; idx < $$l; idx++) {\n            var category = $$obj[idx];\n\n            if (idx < limit) {\n              pug_html = pug_html + \"\\u003Cdiv class=\\\"sidebar__categories-item sidebar__item\\\"\\u003E\\u003Ca\" + pug_attr(\"href\", `/categories/${category}`, true, false) + \"\\u003E\" + pug_escape(null == (pug_interp = category) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\";\n            } else {\n              pug_html = pug_html + \"\\u003Cdiv class=\\\"sidebar__categories-item sidebar__item\\\" style=\\\"display: none\\\"\\u003E\\u003Ca\" + pug_attr(\"href\", `/categories/${category}`, true, false) + \"\\u003E\" + pug_escape(null == (pug_interp = category) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\";\n            }\n          }\n        } else {\n          var $$l = 0;\n\n          for (var idx in $$obj) {\n            $$l++;\n            var category = $$obj[idx];\n\n            if (idx < limit) {\n              pug_html = pug_html + \"\\u003Cdiv class=\\\"sidebar__categories-item sidebar__item\\\"\\u003E\\u003Ca\" + pug_attr(\"href\", `/categories/${category}`, true, false) + \"\\u003E\" + pug_escape(null == (pug_interp = category) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\";\n            } else {\n              pug_html = pug_html + \"\\u003Cdiv class=\\\"sidebar__categories-item sidebar__item\\\" style=\\\"display: none\\\"\\u003E\\u003Ca\" + pug_attr(\"href\", `/categories/${category}`, true, false) + \"\\u003E\" + pug_escape(null == (pug_interp = category) ? \"\" : pug_interp) + \"\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\";\n            }\n          }\n        }\n      }).call(this);\n      pug_html = pug_html + \"\\u003Cdiv class=\\\"sidebar__categories-more sidebar__item\\\"\\u003E\\u003Cdiv class=\\\"sidebar__categories-more-text\\\"\\u003EПоказать ещё\\u003C\\u002Fdiv\\u003E\\u003Cbutton class=\\\"action-btns__arrow-icon icon-small__img sidebar__categories-more-btn rotate-180\\\"\\u003E\\u003C\\u002Fbutton\\u003E\\u003C\\u002Fdiv\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"sidebar-bottom_right\\\"\\u003E\\u003Cdiv class=\\\"contacts\\\"\\u003E\\u003Cdiv class=\\\"contacts__title\\\"\\u003EКонтакты\\u003C\\u002Fdiv\\u003E\\u003Ca class=\\\"contacts__developer\\\" data-router=\\\"outer\\\" target=\\\"_blank\\\" href=\\\"https:\\u002F\\u002Fgithub.com\\u002Fyurij-lyubskij\\\"\\u003EЮра\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"contacts__developer\\\" data-router=\\\"outer\\\" target=\\\"_blank\\\" href=\\\"https:\\u002F\\u002Fgithub.com\\u002FSvetlanlka\\\"\\u003EСвета\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"contacts__developer\\\" data-router=\\\"outer\\\" target=\\\"_blank\\\" href=\\\"https:\\u002F\\u002Fgithub.com\\u002FDenactive\\\"\\u003EДенис\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"contacts__developer\\\" data-router=\\\"outer\\\" target=\\\"_blank\\\" href=\\\"https:\\u002F\\u002Fgithub.com\\u002FMollenAR\\\"\\u003EЛёша\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"Array\" in locals_for_with ? locals_for_with.Array : typeof Array !== 'undefined' ? Array : undefined, \"categoriesList\" in locals_for_with ? locals_for_with.categoriesList : typeof categoriesList !== 'undefined' ? categoriesList : undefined, \"limit\" in locals_for_with ? locals_for_with.limit : typeof limit !== 'undefined' ? limit : undefined, \"streams\" in locals_for_with ? locals_for_with.streams : typeof streams !== 'undefined' ? streams : undefined, \"topBlockContent\" in locals_for_with ? locals_for_with.topBlockContent : typeof topBlockContent !== 'undefined' ? topBlockContent : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/sidebar/sidebar.pug.js?");

/***/ }),

/***/ "./public/components/sidebar/sidebarView.js":
/*!**************************************************!*\
  !*** ./public/components/sidebar/sidebarView.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SidebarView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _sidebar_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sidebar.pug.js */ \"./public/components/sidebar/sidebar.pug.js\");\n/* harmony import */ var _streamComment_pug_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./streamComment.pug.js */ \"./public/components/sidebar/streamComment.pug.js\");\n\n\n\n/**\r\n * @class sidebarView\r\n */\n\nclass SidebarView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Полоса интерфейса справа от основного контента страницы\r\n   */\n  constructor() {\n    super();\n    this.root = document.createElement('div');\n  }\n  /**\r\n    * @param {string} topBlockContent - вид верхнего блока\r\n    * @param {string} categoriesList\r\n    * @param {string} limit\r\n    * @param {Array<Comment>} comments\r\n    * @return {HTMLElement}\r\n    */\n\n\n  render(topBlockContent, categoriesList, limit, comments) {\n    let streams = '';\n    comments.forEach(element => {\n      const streamComment = (0,_streamComment_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element);\n      streams += streamComment;\n    });\n    const wrapper = document.createElement('div');\n    wrapper.innerHTML = (0,_sidebar_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      topBlockContent,\n      categoriesList,\n      limit,\n      streams\n    });\n    this.root = wrapper.firstChild;\n    return this.root;\n  }\n  /**\r\n   * Заполнить верхний блок сайдбара произвольным HTML\r\n   * @param {string} topBlockContent - вид верхнего блока\r\n   */\n\n\n  setTopBlockContent(topBlockContent) {\n    const contentDiv = this.root.querySelector('#sidebarTopBlockContent');\n\n    if (contentDiv) {\n      contentDiv.innerHTML = topBlockContent;\n    } else {\n      this.render(topBlockContent);\n    }\n  }\n  /**\r\n   * @param {Array<Comment>} comments\r\n   */\n\n\n  addComments(comments) {\n    const streamComments = this.root.querySelector('.sidebar__streams');\n    comments.forEach(element => {\n      const streamComment = (0,_streamComment_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(element);\n      streamComments.insertAdjacentHTML('afterbegin', streamComment);\n    });\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/sidebar/sidebarView.js?");

/***/ }),

/***/ "./public/components/sidebar/streamComment.pug.js":
/*!********************************************************!*\
  !*** ./public/components/sidebar/streamComment.pug.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ streamCommentComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction streamCommentComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (author, id, text) {\n    pug_html = pug_html + \"\\u003Cdiv\" + (\" class=\\\"stream-comment\\\"\" + pug_attr(\"id\", `${id}`, true, false)) + \"\\u003E\\u003Cdiv class=\\\"stream-comment__author\\\"\\u003E\\u003Cimg\" + (\" class=\\\"stream-comment__author-photo\\\"\" + pug_attr(\"src\", `${author.avatarUrl}`, true, false)) + \"\\u002F\\u003E\\u003Cdiv class=\\\"stream-comment__author-name\\\"\\u003E\" + pug_escape(null == (pug_interp = author.firstName) ? \"\" : pug_interp) + \" \" + pug_escape(null == (pug_interp = author.lastName) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"stream-comment__text\\\"\\u003E\" + pug_escape(null == (pug_interp = text) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"author\" in locals_for_with ? locals_for_with.author : typeof author !== 'undefined' ? author : undefined, \"id\" in locals_for_with ? locals_for_with.id : typeof id !== 'undefined' ? id : undefined, \"text\" in locals_for_with ? locals_for_with.text : typeof text !== 'undefined' ? text : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/sidebar/streamComment.pug.js?");

/***/ }),

/***/ "./public/components/sidebar/userPreview.pug.js":
/*!******************************************************!*\
  !*** ./public/components/sidebar/userPreview.pug.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ userPreviewComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction userPreviewComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (avatarUrl, login) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"user-preview\\\"\\u003E\\u003Ca class=\\\"user-preview__links\\\" href=\\\"\\u002Fprofile\\\"\\u003E\\u003Cdiv class=\\\"sidebar__nav-item\\\" data-router=\\\"ignore\\\"\\u003E\" + pug_escape(null == (pug_interp = login) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cimg\" + (\" class=\\\"user-img user-preview__user-img\\\"\" + pug_attr(\"src\", `${avatarUrl}`, true, false) + \" data-router=\\\"ignore\\\"\") + \"\\u002F\\u003E\\u003C\\u002Fa\\u003E\\u003Cdiv class=\\\"profile-menu\\\"\\u003E\\u003Ca class=\\\"profile-menu__item\\\" href=\\\"\\u002Fprofile\\u002Fsettings\\\"\\u003EНастройки\\u003C\\u002Fa\\u003E\\u003Ca class=\\\"profile-menu__item\\\" data-section=\\\"logout\\\"\\u003EВыйти\\u003C\\u002Fa\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"avatarUrl\" in locals_for_with ? locals_for_with.avatarUrl : typeof avatarUrl !== 'undefined' ? avatarUrl : undefined, \"login\" in locals_for_with ? locals_for_with.login : typeof login !== 'undefined' ? login : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/sidebar/userPreview.pug.js?");

/***/ }),

/***/ "./public/components/signupForm/formRow.pug.js":
/*!*****************************************************!*\
  !*** ./public/components/signupForm/formRow.pug.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ formRowComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction formRowComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (eye, label, name, pattern, placeholder, required, type) {\n    pug_html = pug_html + \"\\u003Cdiv class=\\\"form__row\\\"\\u003E\\u003Cdiv class=\\\"form__label\\\"\\u003E\" + pug_escape(null == (pug_interp = label) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form__field\\\"\\u003E\";\n\n    if (placeholder != undefined && pattern != undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"placeholder\", `${placeholder}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder != undefined && pattern != undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"placeholder\", `${placeholder}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder != undefined && pattern == undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"placeholder\", `${placeholder}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder != undefined && pattern == undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern != undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern != undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"pattern\", `${pattern}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern == undefined && required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + pug_attr(\"required\", `${required}`, true, false)) + \"\\u002F\\u003E\";\n    }\n\n    if (placeholder == undefined && pattern == undefined && !required) {\n      pug_html = pug_html + \"\\u003Cinput\" + (\" class=\\\"form__input\\\"\" + pug_attr(\"type\", `${type}`, true, false) + pug_attr(\"name\", `${name}`, true, false) + \"\") + \"\\u002F\\u003E\";\n    }\n\n    if (eye == true) {\n      pug_html = pug_html + \"\\u003Ca class=\\\"password__control-btn control-password\\\"\\u003E\\u003C\\u002Fa\\u003E\";\n    }\n\n    pug_html = pug_html + \"\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\";\n  }).call(this, \"eye\" in locals_for_with ? locals_for_with.eye : typeof eye !== 'undefined' ? eye : undefined, \"label\" in locals_for_with ? locals_for_with.label : typeof label !== 'undefined' ? label : undefined, \"name\" in locals_for_with ? locals_for_with.name : typeof name !== 'undefined' ? name : undefined, \"pattern\" in locals_for_with ? locals_for_with.pattern : typeof pattern !== 'undefined' ? pattern : undefined, \"placeholder\" in locals_for_with ? locals_for_with.placeholder : typeof placeholder !== 'undefined' ? placeholder : undefined, \"required\" in locals_for_with ? locals_for_with.required : typeof required !== 'undefined' ? required : undefined, \"type\" in locals_for_with ? locals_for_with.type : typeof type !== 'undefined' ? type : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/signupForm/formRow.pug.js?");

/***/ }),

/***/ "./public/components/signupForm/signupForm.js":
/*!****************************************************!*\
  !*** ./public/components/signupForm/signupForm.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SignupForm)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _signupFormView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signupFormView.js */ \"./public/components/signupForm/signupFormView.js\");\n/* harmony import */ var _modal_modal_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../modal/modal.js */ \"./public/components/modal/modal.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../flux/actions.js */ \"./public/flux/actions.js\");\n\n\n\n\n\n\n/**\r\n * Возвращает метод отправки звпроса на вход или регистрацию\r\n * В случае неудачи, вызывается renderError\r\n * @param {Function} renderError\r\n * @return {Function}\r\n */\n\nfunction wrapSubmitHandler(renderError) {\n  return function (showRegister, login, password, email) {\n    _modules_ajax_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post({\n      url: showRegister ? '/user/signup' : '/user/login',\n      // TODO: encryption\n      body: {\n        login,\n        email: email || '',\n        password\n      }\n    }).then(({\n      status,\n      response\n    }) => {\n      if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].STATUS.ok) {\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_5__.authorizationActions.login(response.data));\n        _modal_modal_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].close();\n        return;\n      }\n\n      renderError(response.msg);\n    });\n  };\n}\n/**\r\n * ViewModel-компонент соответсвующего View\r\n * @class SignupForm\r\n */\n\n\nclass SignupForm extends _basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Универсальный компонент заголовка\r\n   * @param {boolean} showRegister форма регистрации / форма входа\r\n   */\n  constructor(showRegister) {\n    super();\n    this.view = new _signupFormView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    this.showRegister = showRegister;\n  }\n  /**\r\n   * Перерисовка подконтрольного элемента\r\n   * @return {HTMLElement}\r\n   */\n\n\n  render() {\n    super.render();\n    this.root = this.view.render(this.showRegister, wrapSubmitHandler(this.view.appendWarning));\n    return this.root;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/signupForm/signupForm.js?");

/***/ }),

/***/ "./public/components/signupForm/signupForm.pug.js":
/*!********************************************************!*\
  !*** ./public/components/signupForm/signupForm.pug.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ signupFormComponent)\n/* harmony export */ });\nfunction pug_attr(t, e, n, r) {\n  if (!1 === e || null == e || !e && (\"class\" === t || \"style\" === t)) return \"\";\n  if (!0 === e) return \" \" + (r ? t : t + '=\"' + t + '\"');\n  var f = typeof e;\n  return \"object\" !== f && \"function\" !== f || \"function\" != typeof e.toJSON || (e = e.toJSON()), \"string\" == typeof e || (e = JSON.stringify(e), n || -1 === e.indexOf('\"')) ? (n && (e = pug_escape(e)), \" \" + t + '=\"' + e + '\"') : \" \" + t + \"='\" + e.replace(/'/g, \"&#39;\") + \"'\";\n}\n\nfunction pug_escape(e) {\n  var a = \"\" + e,\n      t = pug_match_html.exec(a);\n  if (!t) return e;\n  var r,\n      c,\n      n,\n      s = \"\";\n\n  for (r = t.index, c = 0; r < a.length; r++) {\n    switch (a.charCodeAt(r)) {\n      case 34:\n        n = \"&quot;\";\n        break;\n\n      case 38:\n        n = \"&amp;\";\n        break;\n\n      case 60:\n        n = \"&lt;\";\n        break;\n\n      case 62:\n        n = \"&gt;\";\n        break;\n\n      default:\n        continue;\n    }\n\n    c !== r && (s += a.substring(c, r)), c = r + 1, s += n;\n  }\n\n  return c !== r ? s + a.substring(c, r) : s;\n}\n\nvar pug_match_html = /[\"&<>]/;\n\nfunction x() {}\n\n;\nfunction signupFormComponent(locals) {\n  var pug_html = \"\",\n      pug_mixins = {},\n      pug_interp;\n  ;\n  var locals_for_with = locals || {};\n  (function (form_rows, submit_btn_placeholder) {\n    pug_html = pug_html + \"\\u003Cform class=\\\"modal__form form\\\"\\u003E\\u003Cdiv class=\\\"form__rows\\\"\\u003E\" + (null == (pug_interp = form_rows) ? \"\" : pug_interp) + \"\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form__row\\\"\\u003E\\u003Cdiv class=\\\"form__label\\\" id=\\\"form-warning-label\\\" style=\\\"display: none; color: transparent;\\\"\\u003E|\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form__input form__warning\\\"\\u003EПоля заполнены неверно\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fdiv\\u003E\\u003Cdiv class=\\\"form__row\\\"\\u003E\\u003Cdiv class=\\\"form__label\\\" style=\\\"color: transparent;\\\"\\u003E|\\u003C\\u002Fdiv\\u003E\\u003Cinput\" + (\" class=\\\"form__input form__submit-btn\\\"\" + \" type=\\\"submit\\\" name=\\\"btn-submit\\\"\" + pug_attr(\"value\", `${submit_btn_placeholder}`, true, false)) + \"\\u002F\\u003E\\u003C\\u002Fdiv\\u003E\\u003C\\u002Fform\\u003E\";\n  }).call(this, \"form_rows\" in locals_for_with ? locals_for_with.form_rows : typeof form_rows !== 'undefined' ? form_rows : undefined, \"submit_btn_placeholder\" in locals_for_with ? locals_for_with.submit_btn_placeholder : typeof submit_btn_placeholder !== 'undefined' ? submit_btn_placeholder : undefined);\n  ;\n  ;\n  return pug_html;\n}\n\n//# sourceURL=webpack://saber_project/./public/components/signupForm/signupForm.pug.js?");

/***/ }),

/***/ "./public/components/signupForm/signupFormView.js":
/*!********************************************************!*\
  !*** ./public/components/signupForm/signupFormView.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SignupFormView)\n/* harmony export */ });\n/* harmony import */ var _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../_basic/baseComponentView.js */ \"./public/components/_basic/baseComponentView.js\");\n/* harmony import */ var _signupForm_pug_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signupForm.pug.js */ \"./public/components/signupForm/signupForm.pug.js\");\n/* harmony import */ var _formRow_pug_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./formRow.pug.js */ \"./public/components/signupForm/formRow.pug.js\");\n/* harmony import */ var _common_regexp_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common/regexp.js */ \"./public/common/regexp.js\");\n\n\n\n\n/**\r\n * @class SignupFormView\r\n */\n\nclass SignupFormView extends _basic_baseComponentView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * Изменяемый элемент\r\n   */\n  constructor() {\n    super();\n    this.root = document.createElement('div');\n\n    this.appendWarning = msg => {\n      const formWarning = this.root.querySelector('.form__warning');\n      const formWarningLabel = this.root.querySelector('#form-warning-label');\n\n      if (!formWarning) {\n        console.warn(`[SignupFormView]\n          appendWarning call while SignupForm was not rendered`);\n      }\n\n      formWarningLabel.style.display = 'block';\n      formWarning.style.display = 'block';\n      formWarning.textContent = msg;\n    };\n  }\n  /**\r\n   * Содает форму регистрации\r\n   * @param {boolean} showRegister - true, если нужно отобразить\r\n   * форму для регистрации, false - для входа\r\n   * @param {Function} submitHandler\r\n   * @return {HTMLFormElement}\r\n   */\n\n\n  render(showRegister, submitHandler) {\n    let formRows = '';\n    const loginRow = (0,_formRow_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      label: 'Логин',\n      type: 'text',\n      name: 'login',\n      required: true\n    });\n    formRows += loginRow;\n\n    if (showRegister) {\n      const emailRow = (0,_formRow_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        label: 'e-mail',\n        type: 'email',\n        name: 'email',\n        required: true\n      });\n      formRows += emailRow;\n    }\n\n    const passwordRow = (0,_formRow_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n      label: 'Пароль',\n      type: 'password',\n      name: 'password',\n      required: true,\n      eye: true\n    });\n    formRows += passwordRow;\n\n    if (showRegister) {\n      const passwordRepeatRow = (0,_formRow_pug_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        label: 'Повтор пароля',\n        type: 'password',\n        name: 'password-repeat',\n        required: true,\n        eye: false\n      });\n      formRows += passwordRepeatRow;\n    }\n\n    const formWrapper = document.createElement('div');\n    formWrapper.innerHTML = (0,_signupForm_pug_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n      title: showRegister ? 'Регистрация' : 'Вход',\n      form_rows: formRows,\n      submit_btn_placeholder: showRegister ? 'Зарегистрироваться' : 'Войти'\n    });\n    const form = formWrapper.firstChild;\n    form.querySelector('.control-password').addEventListener('click', ({\n      target\n    }) => {\n      const passwordInput = form.querySelector('input[name=\"password\"]');\n\n      if (passwordInput.getAttribute('type') === 'password') {\n        target.classList.add('password__show');\n        passwordInput.type = 'text';\n      } else {\n        target.classList.remove('password__show');\n        passwordInput.type = 'password';\n      }\n    });\n    form.addEventListener('submit', e => {\n      e.preventDefault(); // убираем сообщения об ошибках от предыдущих попыток\n\n      const formWarning = form.querySelector('.form__warning');\n      const formWarningLabel = this.root.querySelector('#form-warning-label');\n      formWarning.style.display = 'none';\n      formWarning.textContent = '';\n      formWarningLabel.style.display = 'none';\n      const login = form.querySelector('input[name=\"login\"]').value;\n      const password = form.querySelector('input[name=\"password\"]').value;\n      const emailInput = form.querySelector('input[name=\"email\"]');\n      const email = emailInput?.value;\n      const passRepInput = form.querySelector('input[name=\"password-repeat\"]');\n      const passwordRepeated = passRepInput?.value;\n\n      if (!_common_regexp_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].login.test(login)) {\n        formWarning.style.display = 'block';\n        formWarningLabel.style.display = 'block';\n        formWarning.textContent = 'Логин - это латинские буквы, цифры и' + 'нижнее подчеркивание (_). Длина логина - от 4 до 20 символов';\n        return;\n      }\n\n      if (!_common_regexp_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].password.test(password)) {\n        formWarning.style.display = 'block';\n        formWarningLabel.style.display = 'block';\n        formWarning.textContent = 'В качестве пароля используйте любую ' + 'комбинацию непробельных символы длиной более 8';\n        return;\n      } // если пароли не совпадают\n\n\n      if (showRegister && passwordRepeated !== password) {\n        formWarning.style.display = 'block';\n        formWarningLabel.style.display = 'block';\n        formWarning.textContent = 'Удостоверьтесь, что пароли совпадают';\n        return;\n      } // Пустые значения не пропускаются благодаря свойству required\n\n\n      submitHandler(showRegister, login, password, email);\n    });\n    this.root = form;\n    return form;\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/components/signupForm/signupFormView.js?");

/***/ }),

/***/ "./public/flux/actions.js":
/*!********************************!*\
  !*** ./public/flux/actions.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"authorizationActions\": () => (/* binding */ authorizationActions),\n/* harmony export */   \"changePageActions\": () => (/* binding */ changePageActions),\n/* harmony export */   \"signupFormActions\": () => (/* binding */ signupFormActions),\n/* harmony export */   \"modalActions\": () => (/* binding */ modalActions),\n/* harmony export */   \"mainPageActions\": () => (/* binding */ mainPageActions),\n/* harmony export */   \"profilePageActions\": () => (/* binding */ profilePageActions),\n/* harmony export */   \"apiActions\": () => (/* binding */ apiActions),\n/* harmony export */   \"articleEditActions\": () => (/* binding */ articleEditActions)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n // ////////////////\n// authorizationActions\n// ////////////////\n\n/**\r\n * @param {Object} userData\r\n * @return {Action}\r\n */\n\nfunction login(userData) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(userData);\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.authorizationTypes.LOGIN,\n    payload: userData\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction logout() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.authorizationTypes.LOGOUT\n  };\n}\n\nconst authorizationActions = {\n  login,\n  logout\n}; // ////////////////\n// changePageActions\n// ////////////////\n\n/**\r\n * @param {string} page\r\n * @param {string} docTitle\r\n * @return {Action}\r\n */\n\nfunction changePage(page, docTitle) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.changePageTypes.CHANGE_PAGE,\n    payload: {\n      page,\n      docTitle\n    }\n  };\n}\n/**\r\n * @param {string} docTitle\r\n * @return {Action}\r\n */\n\n\nfunction changeDocTitle(docTitle) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.changePageTypes.CHANGE_DOC_TITLE,\n    payload: {\n      docTitle\n    }\n  };\n}\n\nconst changePageActions = {\n  changePage,\n  changeDocTitle\n}; // ////////////////\n// signupFormActions\n// ////////////////\n\n/**\r\n * @return {Action}\r\n */\n\nfunction toggleToSignupForm() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.signupFormTypes.SWITCH_FORM_TYPE,\n    payload: true\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction toggleToSigninForm() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.signupFormTypes.SWITCH_FORM_TYPE,\n    payload: false\n  };\n}\n\nconst signupFormActions = {\n  toggleToSignupForm,\n  toggleToSigninForm\n}; // ////////////////\n// modalctions\n// ////////////////\n\n/**\r\n * @return {Action}\r\n */\n\nfunction modalClose() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.modalTypes.MODAL_CLOSE\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction modalOpen() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.modalTypes.MODAL_OPEN\n  };\n}\n\nconst modalActions = {\n  modalOpen,\n  modalClose\n}; // ////////////////\n// mainPageActions\n// ////////////////\n\n/**\r\n * @param {string} idLastLoaded\r\n * @param {Array<Object>} cards\r\n * @return {Action}\r\n */\n\nfunction saveNewCards(idLastLoaded, cards) {\n  cards.forEach(card => {\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card);\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card.author);\n  });\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.SAVE_NEW_CARDS,\n    payload: {\n      idLastLoaded,\n      cards\n    }\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction setLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.SET_LOADING_FLAG\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction unsetLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.UNSET_LOADING_FLAG\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction forbidCardsLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.FORBID_CARDS_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction allowCardsLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.ALLOW_CARDS_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearCards() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.CLEAR_CARDS\n  };\n}\n/**\r\n * @param {boolean} isAuthenticated\r\n * @param {string} login\r\n * @return {Action}\r\n */\n\n\nfunction toggleLogin(isAuthenticated, login) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.TOGGLE_AUTH,\n    payload: {\n      isAuthenticated,\n      login\n    }\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction askNewCards() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.ASK_NEW_CARDS\n  };\n}\n\nconst mainPageActions = {\n  askNewCards,\n  saveNewCards,\n  clearCards,\n  setLoadingFlag,\n  unsetLoadingFlag,\n  forbidCardsLoading,\n  allowCardsLoading,\n  toggleLogin\n}; // ////////////////\n//  profilePageActions\n// ////////////////\n\n/**\r\n * @param {string} idLastLoaded\r\n * @param {Array<Card>} cards\r\n * @return {Action}\r\n */\n\nfunction saveNewArticles(idLastLoaded, cards) {\n  cards.forEach(card => {\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card);\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card.author);\n  });\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SAVE_NEW_USER_ARTICLES,\n    payload: {\n      idLastLoaded,\n      cards\n    }\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearArticles() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.CLEAR_USER_ARTICLES\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction setArticlesLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SET_USER_ARTICLES_LOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction unsetArticlesLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.UNSET_USER_ARTICLES_LOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction forbidArticlesLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.FORBID_USER_ARTICLES_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction allowArticlesLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.ALLOW_USER_ARTICLES_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction askNewArticles() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.ASK_NEW_USER_ARTICLES\n  };\n}\n/**\r\n * @param {Object} user\r\n * @property {string} login\r\n * @property {string?} firstName\r\n * @property {string?} lastName\r\n * @property {string?} avatarUrl\r\n * @property {number?} score\r\n * @return {Action}\r\n */\n\n\nfunction setUserLoading(user) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SET_USER_LOADING,\n    payload: {\n      firstName: 'загрузка',\n      lastName: 'загрузка',\n      avatarUrl: '',\n      score: 0,\n      ...user\n    }\n  };\n}\n/**\r\n * @param {Object} user\r\n * @property {string} login\r\n * @property {string?} firstName\r\n * @property {string?} lastName\r\n * @property {email?} email\r\n * @property {string?} avatarUrl\r\n * @property {number?} score\r\n * @return {Action}\r\n */\n\n\nfunction setUserInfo(user) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(user);\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SET_USER_INFO,\n    payload: user\n  };\n}\n\nconst profilePageActions = {\n  setUserLoading,\n  setUserInfo,\n  askNewArticles,\n  saveNewArticles,\n  clearArticles,\n  setArticlesLoadingFlag,\n  unsetArticlesLoadingFlag,\n  forbidArticlesLoading,\n  allowArticlesLoading\n}; // ////////////////\n//    apiActions\n// ////////////////\n\n/**\r\n * @return {Action}\r\n */\n\nfunction setUnavailable() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.apiTypes.SET_UNAVAILABLE\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction setAvailable() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.apiTypes.SET_AVAILABLE\n  };\n}\n\nconst apiActions = {\n  setAvailable,\n  setUnavailable\n}; // ////////////////\n//    articleEditActions\n// ////////////////\n\n/**\r\n * @return {Action}\r\n */\n\nfunction appendTag() {\n  return {\n    type: articleEditTypes.APPEND_TAG\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction removeTag() {\n  return {\n    type: articleEditTypes.REMOVE_TAG\n  };\n}\n/**\r\n * @param {Article} article Object<id, text, login>\r\n * @return {Action}\r\n */\n\n\nfunction editExistingArticle(article) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article.author);\n  return {\n    type: articleEditTypes.EDIT_EXISTING_ARTICLE,\n    payload: article\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction createArticle() {\n  return {\n    type: articleEditTypes.CREATE_ARTICLE\n  };\n}\n/**\r\n * @param {String} title\r\n * @param {String} text\r\n * @return {Action}\r\n */\n\n\nfunction saveText(title, text) {\n  return {\n    type: articleEditTypes.SAVE_TEXT,\n    payload: {\n      title,\n      text\n    }\n  };\n}\n\nconst articleEditActions = {\n  appendTag,\n  removeTag,\n  editExistingArticle,\n  createArticle,\n  saveText\n};\n\n//# sourceURL=webpack://saber_project/./public/flux/actions.js?");

/***/ }),

/***/ "./public/flux/actions/categoryPageActions.js":
/*!****************************************************!*\
  !*** ./public/flux/actions/categoryPageActions.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n // ////////////////\n//  CategoryPageActions\n// ////////////////\n\n/**\r\n * @param {string} idLastLoaded\r\n * @param {Array<Card>} cards\r\n * @return {Action}\r\n */\n\nfunction saveNewCategoryArticles(idLastLoaded, cards) {\n  cards.forEach(card => {\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card);\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card.author);\n  });\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.SAVE_NEW_CATEGORY_ARTICLES,\n    payload: {\n      idLastLoaded,\n      cards\n    }\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearCategoryArticles() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.CLEAR_CATEGORY_ARTICLES\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction setCategoryArticlesLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.SET_CATEGORY_ARTICLES_LOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction unsetCategoryArticlesLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.UNSET_CATEGORY_ARTICLES_LOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction forbidCategoryArticlesLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.FORBID_CATEGORY_ARTICLES_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction allowCategoryArticlesLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.ALLOW_CATEGORY_ARTICLES_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction askNewCategoryArticles() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.ASK_NEW_CATEGORY_ARTICLES\n  };\n}\n/**\r\n * @param {string} category\r\n * @return {Action}\r\n */\n\n\nfunction selectCategory(category) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.SELECT_CATEGORY,\n    payload: category\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearSelectedCategory() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.SELECT_CATEGORY,\n    payload: ''\n  };\n}\n\nconst categoryPageActions = {\n  setCategoryArticlesLoadingFlag,\n  unsetCategoryArticlesLoadingFlag,\n  forbidCategoryArticlesLoading,\n  allowCategoryArticlesLoading,\n  askNewCategoryArticles,\n  saveNewCategoryArticles,\n  clearCategoryArticles,\n  selectCategory,\n  clearSelectedCategory\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (categoryPageActions);\n\n//# sourceURL=webpack://saber_project/./public/flux/actions/categoryPageActions.js?");

/***/ }),

/***/ "./public/flux/actions/editorActions.js":
/*!**********************************************!*\
  !*** ./public/flux/actions/editorActions.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n // ////////////////\n//  EditorActions\n// ////////////////\n// /**\n//  * @return {Action}\n//  */\n// function template() {\n//   return {\n//     type: editorTypes,\n//   };\n// }\n\n/**\r\n * @param {string} id\r\n * @return {Action}\r\n */\n\nfunction clearArticle(id) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.CLEAR_ARTICLE,\n    payload: id\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction createArticle() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.CREATE_ARTICLE\n  };\n}\n/**\r\n * img кладешь опционально, если менял картинку.\r\n * @param {number} id\r\n * @param {Object?} article\r\n * @property {string} title\r\n * @property {string} text\r\n * @property {Array<string>} tags\r\n * @property {string}  category\r\n * @property {string}  img\r\n * @property {string?} dateTime\r\n * @property {string?} author\r\n * @property {number?} likes\r\n * @property {number?} comments\r\n * @return {Action}\r\n */\n\n\nfunction editArticle(id, article) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article);\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article.author);\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.EDIT_EXISTING_ARTICLE,\n    payload: {\n      id,\n      ...article,\n      tags: Array.isArray(article.tags) ? article.tags : []\n    }\n  };\n}\n/**\r\n * @param {number} id - id, присвоенный записи на сервере\r\n * @return {Action}\r\n */\n\n\nfunction publishArticle(id) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.PUBLISH_ARTICLE,\n    payload: {\n      id\n    }\n  };\n}\n/**\r\n * @param {number} id - id, присвоенный записи на сервере\r\n * @return {Action}\r\n */\n\n\nfunction deleteArticle(id) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.DELETE_ARTICLE,\n    payload: {\n      id\n    }\n  };\n}\n/**\r\n * @param {number} id - id, полученный с сервера,\r\n *                      либо 0, если запись только создается\r\n * @param {Object?} article\r\n * @property {string} title\r\n * @property {string} text\r\n * @property {Array<string>?} tags\r\n * @property {number?} dateTime\r\n * @property {string}  category\r\n * @property {string}  img\r\n * @property {string?} author\r\n * @property {number?} likes\r\n * @property {number?} comments\r\n * @return {Action}\r\n */\n\n\nfunction saveArticle(id, article) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article);\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_ARTICLE,\n    payload: {\n      id,\n      title: article.title,\n      text: article.text,\n      tags: Array.isArray(article.tags) ? article.tags : [],\n      img: article.img || '',\n      category: article.category || ''\n    }\n  };\n}\n/**\r\n * @param {string} tag\r\n * @return {Action}\r\n */\n\n\nfunction removeTag(tag) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.REMOVE_TAG,\n    payload: tag\n  };\n}\n/**\r\n * @param {string} tag\r\n * @return {Action}\r\n */\n\n\nfunction appendTag(tag) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.APPEND_TAG,\n    payload: tag\n  };\n}\n/**\r\n * @param {string} url присвоенный записи в браузере\r\n * @return {Action}\r\n */\n\n\nfunction saveImg(url) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_PREVIEW,\n    payload: url\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearImg() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_PREVIEW,\n    payload: ''\n  };\n}\n/**\r\n * @param {string} category\r\n * @return {Action}\r\n */\n\n\nfunction saveCategory(category) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_CATEGORY,\n    payload: category\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearCategory() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_CATEGORY,\n    payload: ''\n  };\n}\n\nconst editorActions = {\n  createArticle,\n  clearArticle,\n  editArticle,\n  publishArticle,\n  saveArticle,\n  deleteArticle,\n  appendTag,\n  removeTag,\n  saveImg,\n  clearImg,\n  saveCategory,\n  clearCategory\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (editorActions);\n\n//# sourceURL=webpack://saber_project/./public/flux/actions/editorActions.js?");

/***/ }),

/***/ "./public/flux/actions/readerActions.js":
/*!**********************************************!*\
  !*** ./public/flux/actions/readerActions.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n // ////////////////\n//  ReaderActions\n// ////////////////\n\n/**\r\n * @param {Object} article\r\n * @property {string} id\r\n * @property {string} title\r\n * @property {string} text\r\n * @property {Array<string>} tags\r\n * @property {number} datetime\r\n * @property {Object} author\r\n * @property {number} likes\r\n * @property {number} comments\r\n * @property {string} previewUrl\r\n * @return {Action}\r\n */\n\nfunction saveArticle(article) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article);\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article.author);\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.SAVE_ARTICLE,\n    payload: article\n  };\n}\n/**\r\n * @param {Object} article\r\n * @property {string} id\r\n * @property {string?} title\r\n * @property {Array<string>?} tags\r\n * @property {number?} datetime\r\n * @property {Object?} author\r\n * @property {number?} likes\r\n * @property {number?} comments\r\n * @property {string?} previewUrl\r\n * @return {Action}\r\n */\n\n\nfunction setArticleLoading(article) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article);\n\n  if ('avatar' in article) {\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(article.author);\n  }\n\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.SET_ARTICLE_LOADING,\n    payload: article\n  };\n}\n/**\r\n * @param {number} id - id, присвоенный записи на сервере\r\n * @return {Action}\r\n */\n\n\nfunction openArticle(id) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.OPEN_ARTICLE,\n    payload: id\n  };\n}\n/**\r\n * @param {number} id - id, присвоенный записи на сервере\r\n * @param {Array<Comment>} comments\r\n * @return {Action}\r\n */\n\n\nfunction saveArticleComments(id, comments) {\n  if (!Array.isArray(comments)) {\n    console.warn('API error. Server returned ', typeof comments, 'instead of comments');\n    comments = [];\n  }\n\n  if (!comments) {\n    comments = [];\n  }\n\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.SAVE_ARTICLE_COMMENTS,\n    payload: {\n      id,\n      comments\n    }\n  };\n}\n/**\r\n * @param {number} id - id, присвоенный записи на сервере\r\n * @param {string} text\r\n * @return {Action}\r\n */\n\n\nfunction editArticleComment(id, text) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.EDIT_ARTICLE_COMMENT,\n    payload: {\n      id,\n      text\n    }\n  };\n}\n/**\r\n * @param {number} parentId - id, присвоенный записи на сервере\r\n * @param {Comment} answer\r\n * @return {Action}\r\n */\n\n\nfunction addAnswer(parentId, answer) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.ADD_COMMENT_ANSWER,\n    payload: {\n      parentId,\n      answer\n    }\n  };\n}\n/**\r\n * @param {Comment} comment\r\n * @return {Action}\r\n */\n\n\nfunction addComment(comment) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.ADD_NEW_COMMENT,\n    payload: comment\n  };\n}\n\nconst readerActions = {\n  saveArticle,\n  openArticle,\n  setArticleLoading,\n  saveArticleComments,\n  editArticleComment,\n  addAnswer,\n  addComment\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (readerActions);\n\n//# sourceURL=webpack://saber_project/./public/flux/actions/readerActions.js?");

/***/ }),

/***/ "./public/flux/actions/searchActions.js":
/*!**********************************************!*\
  !*** ./public/flux/actions/searchActions.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n // ////////////////\n// searchPageActions\n// ////////////////\n\n/**\r\n * @param {string} idLastLoaded\r\n * @param {Array<Object>} cards\r\n * @return {Action}\r\n */\n\nfunction saveNewCards(idLastLoaded, cards) {\n  cards.forEach(card => {\n    // только для статей\n    if (!'login' in card) {\n      (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card.author);\n    }\n\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(card);\n  });\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SAVE_NEW_CARDS,\n    payload: {\n      idLastLoaded,\n      cards\n    }\n  };\n}\n/**\r\n * @param {string} group\r\n * @param {string} description\r\n * @return {Action}\r\n */\n\n\nfunction setSearchGroup(group, description = '') {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SET_SEARCH_GROUP,\n    payload: {\n      group,\n      description\n    }\n  };\n}\n/**\r\n * @param {string} value\r\n * @return {Action}\r\n */\n\n\nfunction setSearchValue(value) {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SET_SEARCH_VALUE,\n    payload: value\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction setLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SET_LOADING_FLAG\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction unsetLoadingFlag() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.UNSET_LOADING_FLAG\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction forbidCardsLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.FORBID_CARDS_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction allowCardsLoading() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.ALLOW_CARDS_UPLOADING\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearCards() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.CLEAR_CARDS\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction askNewCards() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.ASK_NEW_CARDS\n  };\n}\n\nconst searchActions = {\n  askNewCards,\n  saveNewCards,\n  clearCards,\n  setLoadingFlag,\n  unsetLoadingFlag,\n  forbidCardsLoading,\n  allowCardsLoading,\n  setSearchGroup,\n  setSearchValue\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (searchActions);\n\n//# sourceURL=webpack://saber_project/./public/flux/actions/searchActions.js?");

/***/ }),

/***/ "./public/flux/actions/streamActions.js":
/*!**********************************************!*\
  !*** ./public/flux/actions/streamActions.js ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n // ////////////////\n// streamActions\n// ////////////////\n\n/**\r\n * @param {Array<Object>} comments\r\n * @return {Action}\r\n */\n\nfunction saveNewComments(comments) {\n  comments.forEach(comment => {\n    (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_1__.appendApiImg)(comment.author);\n  });\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.streamTypes.SAVE_NEW_COMMENTS,\n    payload: comments\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction clearComments() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.streamTypes.CLEAR_COMMENTS\n  };\n}\n/**\r\n * @return {Action}\r\n */\n\n\nfunction askNewComments() {\n  return {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.streamTypes.ASK_NEW_COMMENTS\n  };\n}\n\nconst streamActions = {\n  askNewComments,\n  saveNewComments,\n  clearComments\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (streamActions);\n\n//# sourceURL=webpack://saber_project/./public/flux/actions/streamActions.js?");

/***/ }),

/***/ "./public/flux/applyMiddleware.js":
/*!****************************************!*\
  !*** ./public/flux/applyMiddleware.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ applyMiddleware)\n/* harmony export */ });\n/**\r\n * @param  {...Function} funcs\r\n * @return {Function}\r\n */\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return arg;\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce((a, b) => a(b(...args)));\n}\n/**\r\n * extends (wraps) default store\r\n * @param  {...any} middlewares\r\n * @return {any}\r\n */\n\n\nfunction applyMiddleware(...middlewares) {\n  return function (createStore) {\n    return function (reducer, preloadedState) {\n      const store = createStore(reducer, preloadedState);\n\n      let dispatch = () => {\n        console.error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      const middlewareAPI = {\n        getState: store.getState,\n        dispatch: (action, ...args) => dispatch(action, ...args)\n      };\n      const chain = middlewares.map(middleware => middleware(middlewareAPI));\n      dispatch = compose(...chain)(store.dispatch);\n      return { ...store,\n        dispatch\n      };\n    };\n  };\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/applyMiddleware.js?");

/***/ }),

/***/ "./public/flux/createStore.js":
/*!************************************!*\
  !*** ./public/flux/createStore.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ createStore)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _applyMiddleware_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./applyMiddleware.js */ \"./public/flux/applyMiddleware.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n/**\r\n * @param {function(StateObject, Action)} rootReducer\r\n * @param {StateObject} initialState\r\n * @param {Array.Function} middlewares\r\n * @return {Object} store\r\n */\n\nfunction createStore(rootReducer, initialState, ...middlewares) {\n  console.log('[STORE] createStore: ', middlewares.map(el => el.name));\n  let state = rootReducer(initialState, {\n    type: _types_js__WEBPACK_IMPORTED_MODULE_0__.SYSTYPES.INIT\n  });\n  const subscribers = {};\n\n  if (middlewares.length !== 0) {\n    return (0,_applyMiddleware_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(...middlewares)(createStore)(rootReducer, initialState);\n  }\n\n  return {\n    /**\r\n     * Сначала вызывается соответсвующий reducer,\r\n     * затем выполняются подписки.\r\n     * В колбеки подписок передается payload\r\n     * @param {Action} action\r\n     */\n    dispatch(action) {\n      state = rootReducer(state, action);\n      subscribers[action.type] = subscribers[action.type] || [];\n      subscribers[action.type].forEach(subscriber => {\n        if (_globals_js__WEBPACK_IMPORTED_MODULE_2__.fluxDebug) {\n          console.log('subscribe trigger on', action.type);\n        }\n\n        subscriber(action.payload);\n      });\n    },\n\n    /**\r\n     * оформить подписку на событие стора\r\n     * @param {Action} actionType событие\r\n     * @param {Function.Payload?} callback реакция на событие\r\n     * @return {Function} метод function() для отмены подписки\r\n     */\n    subscribe(actionType, callback) {\n      if (_globals_js__WEBPACK_IMPORTED_MODULE_2__.fluxDebug) {\n        console.log('create subscription to', actionType);\n      }\n\n      subscribers[actionType] = subscribers[actionType] || [];\n      subscribers[actionType].push(callback); // return unsubscribe function\n\n      return function () {\n        subscribers[actionType].splice(subscribers[actionType].indexOf(callback));\n      };\n    },\n\n    getState() {\n      return state;\n    }\n\n  };\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/createStore.js?");

/***/ }),

/***/ "./public/flux/middleWares/asyncHandleThunk.js":
/*!*****************************************************!*\
  !*** ./public/flux/middleWares/asyncHandleThunk.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ thunk)\n/* harmony export */ });\n/**\r\n * @param {Object} Объект, удовлетворяющий Redux Middleware API\r\n * @property {Function} getState\r\n * @property {Function} dispatch\r\n * @return {Function} next\r\n */\nfunction thunk({\n  getState,\n  dispatch\n}) {\n  return function (next) {\n    return function (action) {\n      if (typeof action === 'function') {\n        return action(dispatch, getState);\n      }\n\n      return next(action);\n    };\n  };\n}\n; // This is an action creator that returns a thunk:\n// function netWalker(forPerson) {\n//   // We can invert control here by returning a function - the \"thunk\".\n//   // When this function is passed to `dispatch`,\n// the thunk middleware will intercept it,\n//   // and call it with `dispatch` and `getState` as arguments.\n//   // This gives the thunk function the ability to run some logic,\n// and still interact with the store.\n//   return function(dispatch) {\n//     return fetchSecretSauce().then(\n//       (sauce) => dispatch(makeASandwich(forPerson, sauce)),\n//       (error) => dispatch(apologize('The Sandwich Shop', forPerson, error)),\n//     );\n//   };\n// }\n\n//# sourceURL=webpack://saber_project/./public/flux/middleWares/asyncHandleThunk.js?");

/***/ }),

/***/ "./public/flux/reducers/apiReducer.js":
/*!********************************************!*\
  !*** ./public/flux/reducers/apiReducer.js ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ apiReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialAPIState = {\n  isAvailable: true\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {State}\r\n */\n\nfunction apiReducer(state = InitialAPIState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.apiTypes.SET_AVAILABLE:\n      return { ...state,\n        isAvailable: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.apiTypes.SET_UNAVAILABLE:\n      return { ...state,\n        isAvailable: false\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/apiReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/authorizeReducer.js":
/*!**************************************************!*\
  !*** ./public/flux/reducers/authorizeReducer.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ authorizeReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialUserState = {\n  isAuthenticated: false,\n  login: '',\n  avatarUrl: ``,\n  firstName: 'UNAUTHORIZED',\n  lastName: 'UNAUTHORIZED',\n  email: 'UNAUTHORIZED',\n  score: 0\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction authorizeReducer(state = InitialUserState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.authorizationTypes.LOGIN:\n      if (action.payload.login === '') {\n        console.warn('Trying to set an empty login. LOGIN action ignored');\n        return state;\n      }\n\n      return { ...state,\n        ...action.payload,\n        isAuthenticated: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.authorizationTypes.LOGOUT:\n      return InitialUserState;\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/authorizeReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/categoryPageReducer.js":
/*!*****************************************************!*\
  !*** ./public/flux/reducers/categoryPageReducer.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ categoryPageReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst endOfFeedMarkerID = 'end';\n/**\r\n * Объект состояния на главной странице\r\n * @typedef {Object} CategoryPageState\r\n *                                    вызовет подгрузку новостей\r\n * @property {string} idLastLoaded  - ID последней загруженной карточки\r\n * @property {boolean} isLoading    - Идет ли загрузка сейчас. true запрещает\r\n *                                    отправку запросов на обновлении ленты,\r\n *                                    чтобы не спамить сервер\r\n * @property {number} lastScrollPos - Позиция скролла при покидании mainPage\r\n * @property {boolean} isEndFound  - Запрещает загрузку при обнаружении конца\r\n *                                    ленты, чтобы не спамить сервер.\r\n *                                    Сбразывется через resetDoNotUploadTime мс\r\n * @property {Array.NewsCard} cards - Массив загруженных карточек для\r\n *                                    восстановления состояния при возвращении\r\n *                                    на MainPage\r\n */\n\nconst InitialCategoryPageState = {\n  currentCategory: '',\n  // категория, по которой фильтруются записи\n  isLoading: false,\n  // отправлен ли запрос на сервер\n  idLastLoaded: '',\n  // запоминаем последнюю загруженную запись\n  lastScrollPos: 0,\n  // скрол для возврата к той же записи\n  cards: [],\n  // массив загруженных новостей\n  isEndFound: false,\n  tags: {// category: {\n    //  tag1: false,\n    //  tag2: true,\n    // }\n  }\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction categoryPageReducer(state = InitialCategoryPageState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.SET_CATEGORY_ARTICLES_LOADING:\n      return { ...state,\n        isLoading: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.UNSET_CATEGORY_ARTICLES_LOADING:\n      return { ...state,\n        isLoading: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.FORBID_CATEGORY_ARTICLES_UPLOADING:\n      return { ...state,\n        isEndFound: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.ALLOW_CATEGORY_ARTICLES_UPLOADING:\n      return { ...state,\n        isEndFound: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.SAVE_NEW_CATEGORY_ARTICLES:\n      const cards = action.payload.cards;\n\n      if (cards.length === 0) {\n        return { ...state,\n          isLoading: false\n        };\n      } // запрещаем загрузку карточек, чтобы не спамить сервер\n\n\n      const isEndFound = cards[cards.length - 1].id === endOfFeedMarkerID;\n\n      if (isEndFound) {\n        // Удаляем последнюю запись с end'ом\n        cards.splice(cards.length - 1, 1);\n      }\n\n      return { ...state,\n        isLoading: false,\n        idLastLoaded: cards[cards.length - 1]?.id || state.idLastLoaded,\n        cards: state.cards.concat(cards),\n        isEndFound\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.CLEAR_CATEGORY_ARTICLES:\n      return { ...state,\n        cards: [],\n        isLoading: false,\n        idLastLoaded: '',\n        lastScrollPos: 0,\n        isEndFound: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.categoryPageTypes.SELECT_CATEGORY:\n      return { ...state,\n        currentCategory: action.payload\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/categoryPageReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/changePageReducer.js":
/*!***************************************************!*\
  !*** ./public/flux/reducers/changePageReducer.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ changePageReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialPageState = {\n  page: 'main',\n  docTitle: 'SaberProject'\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction changePageReducer(state = InitialPageState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.changePageTypes.CHANGE_PAGE:\n      document.title = action.payload.docTitle;\n      return { ...state,\n        page: action.payload.page,\n        docTitle: action.payload.docTitle\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.changePageTypes.CHANGE_DOC_TITLE:\n      document.title = action.payload.docTitle;\n      return { ...state,\n        docTitle: action.payload.docTitle\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/changePageReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/combineReducers.js":
/*!*************************************************!*\
  !*** ./public/flux/reducers/combineReducers.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ combineReducers)\n/* harmony export */ });\n/* harmony import */ var _globals__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../globals */ \"./public/globals.js\");\n\n/**\r\n * @param {function(StateObject, Action)} reducers\r\n * @return {function(StateObject, Action)}\r\n */\n\nfunction combineReducers(reducers) {\n  for (const reducer in reducers) {\n    if (typeof reducers[reducer] !== 'function') {\n      console.warn(`Reducers Combiner: ${reducer} is not a function.\n          It will not be called. It is a ${typeof reducers[reducer]}.`);\n      delete reducers[reducer.name];\n    }\n  }\n\n  return function (state, action) {\n    if (!state) {\n      state = {};\n    }\n\n    for (const reducer in reducers) {\n      const newState = reducers[reducer](state[reducer], action);\n\n      if (JSON.stringify(newState) !== JSON.stringify(state[reducer])) {\n        let printState = state[reducer];\n        let printNewState = newState;\n\n        if (_globals__WEBPACK_IMPORTED_MODULE_0__.fluxDebug) {\n          if (reducer === 'mainPage' || reducer === 'profilePage' || reducer === 'search' || reducer === 'categoryPage') {\n            printState = {};\n            Object.assign(printState, state[reducer]);\n            delete printState.cards;\n            printNewState = {};\n            Object.assign(printNewState, newState);\n            delete printNewState.cards;\n          }\n\n          if (reducer === 'editor') {\n            printState = {};\n\n            for (const id in state[reducer]) {\n              printState[id] = {};\n              Object.assign(printState[id], state[reducer][id]);\n\n              if (printState[id].img && printState[id].img !== '') {\n                printState[id].img = 'data:image/png;base64,(контент картинки)';\n              }\n            }\n\n            printNewState = {};\n\n            for (const id in newState) {\n              printNewState[id] = {};\n              Object.assign(printNewState[id], newState[id]);\n\n              if (printNewState[id].img && printNewState[id].img !== '') {\n                printNewState[id].img = 'data:image/png;base64,(контент картинки)';\n              }\n            }\n          }\n\n          if (reducer === 'reader' && action.type !== '__INIT__') {\n            // изи создание глубокой копии\n            // внимание на '__INIT__' - там пустой объект. его нельзя запарсить\n            printState = JSON.parse(JSON.stringify(state[reducer]));\n            printNewState = JSON.parse(JSON.stringify(newState));\n\n            for (const articleID in printState) {\n              if (typeof printState[articleID] === 'object') {\n                printState[articleID].text = 'текст вырезан в combinereducers';\n              }\n            }\n\n            for (const articleID in printNewState) {\n              if (typeof printState[articleID] === 'object') {\n                printNewState[articleID].text = 'текст вырезан в combinereducers';\n              }\n            }\n          }\n\n          console.log(`${reducer} | action: ${action.type}`, '\\n\\t| prev state:\\n', { ...printState\n          }, '\\n\\t| new state:\\n', { ...printNewState\n          });\n        }\n\n        state[reducer] = newState;\n      }\n    }\n\n    return state;\n  };\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/combineReducers.js?");

/***/ }),

/***/ "./public/flux/reducers/editorReducer.js":
/*!***********************************************!*\
  !*** ./public/flux/reducers/editorReducer.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ editorReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialEditorState = {\n  currentId: 0 // создание статьи\n  // 0: {\n  //   title: string,\n  //   text: string,\n  //   tags: [string],\n  //   category: string,\n  //   img: string,\n  // }\n  // Изменение статьи\n  // id: {\n  //   title: string,\n  //   text: string,\n  //   tags: [string...],\n  //   category: string,\n  //   img: string\n  // }\n\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {State}\r\n */\n\nfunction editorReducer(state = InitialEditorState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.EDIT_EXISTING_ARTICLE:\n      return { ...state,\n        [action.payload.id]: {\n          title: action.payload.title,\n          text: action.payload.text,\n          tags: action.payload.tags,\n          category: action.payload.category,\n          img: action.payload.img\n        },\n        currentId: action.payload.id\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.CLEAR_ARTICLE:\n      return { ...state,\n        [action.payload.id]: {\n          title: '',\n          text: '',\n          tags: [],\n          category: '',\n          img: ''\n        }\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.DELETE_ARTICLE:\n      const stateCopyDel = {};\n      Object.assign(stateCopyDel, state);\n      delete stateCopyDel[action.payload.id];\n      stateCopyDel.currentId = 0;\n      return stateCopyDel;\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.CREATE_ARTICLE:\n      const stateCopy = Object.assign({}, state); // обнуление только если до этого не создавали статью\n      // иначе данные, введенные ранее должны быть сохранены\n\n      if (!(0 in stateCopy)) {\n        stateCopy[0] = {\n          title: '',\n          text: '',\n          tags: [],\n          category: '',\n          img: ''\n        };\n      }\n\n      stateCopy.currentId = 0;\n      return stateCopy;\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_ARTICLE:\n      let currentStateCopySaveArticle = {};\n\n      if (action.payload.id in state) {\n        Object.assign(currentStateCopySaveArticle, state[action.payload.id]);\n      } else {\n        currentStateCopySaveArticle = {\n          title: '',\n          text: '',\n          tags: [],\n          category: '',\n          img: ''\n        };\n      }\n\n      currentStateCopySaveArticle = { ...currentStateCopySaveArticle,\n        ...action.payload\n      };\n      delete currentStateCopySaveArticle.id;\n      return { ...state,\n        [action.payload.id]: currentStateCopySaveArticle\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.PUBLISH_ARTICLE:\n      return { ...state,\n        // сохраняем только что созданную запись\n        [action.payload.id]: Object.assign({}, state[0]),\n        0: {\n          title: '',\n          text: '',\n          tags: [],\n          category: '',\n          img: ''\n        },\n        currentId: 0\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.APPEND_TAG:\n      const currentIdStateCopy = Object.assign({}, state[state.currentId]);\n      currentIdStateCopy.tags.push(action.payload);\n      return { ...state,\n        [state.currentId]: currentIdStateCopy\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.REMOVE_TAG:\n      const currentStateCopyRemove = Object.assign({}, state[state.currentId]);\n      currentStateCopyRemove.tags = currentStateCopyRemove.tags.filter(el => el != action.payload);\n      return { ...state,\n        [state.currentId]: currentStateCopyRemove\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_PREVIEW:\n      const currentStateCopySavePreview = { ...state[state.currentId]\n      };\n      currentStateCopySavePreview.img = action.payload;\n      return { ...state,\n        [state.currentId]: currentStateCopySavePreview\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.editorTypes.SAVE_CATEGORY:\n      const currentStateCopySaveCategory = { ...state[state.currentId]\n      };\n      currentStateCopySaveCategory.category = action.payload;\n      return { ...state,\n        [state.currentId]: currentStateCopySaveCategory\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/editorReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/mainPageReducer.js":
/*!*************************************************!*\
  !*** ./public/flux/reducers/mainPageReducer.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ mainPageReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst endOfFeedMarkerID = 'end';\n/**\r\n * Объект состояния на главной странице\r\n * @typedef {Object} MainCardState\r\n * @property {string} idLastLoaded  - ID последней загруженной карточки\r\n * @property {string} login         - пользователь, для которого запрашивается\r\n *                                    подборка новостей\r\n * @property {boolean} isLoading    - Идет ли загрузка сейчас. true запрещает\r\n *                                    отправку запросов на обновлении ленты,\r\n *                                    чтобы не спамить сервер\r\n * @property {number} lastScrollPos - Позиция скролла при покидании mainPage\r\n * @property {boolean} isEndFound   - Запрещает загрузку при обнаружении конца\r\n *                                    ленты, чтобы не спамить сервер.\r\n *                                    Сбразывется через resetDoNotUploadTime мс\r\n * @property {Array.Card} cards     - Массив загруженных карточек для\r\n *                                    восстановления состояния при возвращении\r\n *                                    на MainPage\r\n */\n\nconst InitialMainPageState = {\n  isAuthenticated: false,\n  isLoading: false,\n  // отправлен ли запрос на сервер\n  idLastLoaded: '',\n  // запоминаем последнюю загруженную запись\n  lastScrollPos: 0,\n  // скрол для возврата к той же записи\n  cards: [],\n  // массив загруженных новостей\n  isEndFound: false\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction mainPageReducer(state = InitialMainPageState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.SET_LOADING_FLAG:\n      return { ...state,\n        isLoading: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.FORBID_CARDS_UPLOADING:\n      return { ...state,\n        isEndFound: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.ALLOW_CARDS_UPLOADING:\n      return { ...state,\n        isEndFound: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.SAVE_NEW_CARDS:\n      const cards = action.payload.cards;\n\n      if (cards.length === 0) {\n        return { ...state,\n          isLoading: false\n        };\n      } // запрещаем загрузку карточек, чтобы не спамить сервер\n\n\n      const isEndFound = cards[cards.length - 1].id === endOfFeedMarkerID;\n\n      if (isEndFound) {\n        // Удаляем последнюю запись с end'ом\n        cards.splice(cards.length - 1, 1);\n      }\n\n      return { ...state,\n        isLoading: false,\n        idLastLoaded: cards[cards.length - 1]?.id || state.idLastLoaded,\n        cards: state.cards.concat(cards),\n        isEndFound\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.mainPageTypes.CLEAR_CARDS:\n      return { ...state,\n        cards: [],\n        isLoading: false,\n        idLastLoaded: '',\n        lastScrollPos: 0,\n        isEndFound: false\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/mainPageReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/profilePageReducer.js":
/*!****************************************************!*\
  !*** ./public/flux/reducers/profilePageReducer.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ profilePageReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst endOfFeedMarkerID = 'end';\n/**\r\n * Объект состояния для ленты\r\n * @typedef {Object} MainCardState\r\n * @property {boolean} isLoading    - Идет ли загрузка сейчас. true запрещает\r\n *                                    отправку запросов на обновлении ленты,\r\n *                                    чтобы не спамить сервер\r\n * @property {boolean} isEndFound  - Запрещает загрузку при обнаружении конца\r\n *                                    ленты, чтобы не спамить сервер.\r\n *                                    Сбразывется через resetDoNotUploadTime мс\r\n * @property {Array.NewsCard} cards - Массив загруженных карточек для\r\n *                                    восстановления состояния при возвращении\r\n *                                    на MainPage\r\n */\n\nconst InitialProfilePageState = {\n  user: {\n    login: ''\n  },\n  isLoading: false,\n  // отправлен ли запрос на сервер\n  idLastLoaded: '',\n  // запоминаем последнюю загруженную запись\n  cards: [],\n  // массив загруженных новостей\n  isEndFound: false\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction profilePageReducer(state = InitialProfilePageState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SET_USER_ARTICLES_LOADING:\n      return { ...state,\n        isLoading: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.FORBID_USER_ARTICLES_UPLOADING:\n      return { ...state,\n        isEndFound: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.ALLOW_USER_ARTICLES_UPLOADING:\n      return { ...state,\n        isEndFound: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SAVE_NEW_USER_ARTICLES:\n      const cards = action.payload.cards;\n\n      if (cards.length === 0) {\n        return { ...state,\n          isLoading: false\n        };\n      } // запрещаем загрузку карточек, чтобы не спамить сервер\n\n\n      const isEndFound = cards[cards.length - 1].id === endOfFeedMarkerID;\n\n      if (isEndFound) {\n        // Удаляем последнюю запись с end'ом\n        cards.splice(cards.length - 1, 1);\n      }\n\n      return { ...state,\n        isLoading: false,\n        idLastLoaded: cards[cards.length - 1]?.id || state.idLastLoaded,\n        cards: state.cards.concat(cards),\n        isEndFound\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.CLEAR_USER_ARTICLES:\n      return { ...state,\n        cards: [],\n        isLoading: false,\n        idLastLoaded: '',\n        isEndFound: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SET_USER_INFO:\n      // смена пользователя\n      return { ...state,\n        user: action.payload,\n        // Сброс загруженных карточек\n        // TODO: сделать кеширование для кажлого юзера\n        isLoading: false,\n        idLastLoaded: '',\n        cards: [],\n        isEndFound: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.profilePageTypes.SET_USER_LOADING:\n      // смена пользователя\n      return { ...state,\n        user: action.payload,\n        isLoading: false,\n        idLastLoaded: '',\n        cards: [],\n        isEndFound: false\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/profilePageReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/readerReducer.js":
/*!***********************************************!*\
  !*** ./public/flux/reducers/readerReducer.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ readerReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialReaderState = {\n  currentId: 0 // загруженные статьи храняться в следующем виде для\n  // качественных офлайн возможностей\n  // id: {\n  //   \"previewUrl\": \"string\",\n  //   \"title\": \"string\",\n  //   \"text\": \"string\",\n  //   category: \"string\",\n  //   \"author\": {\n  //     \"login\": \"string\",\n  //     \"firstName\": \"string\",\n  //     \"lastName\": \"string\",\n  //     \"avatarUrl\": \"string\",\n  //     \"score\": 0\n  //   },\n  //    \"datetime\": \"string\"\n  //   \"comments\": 0,\n  //   \"likes\": 0,\n  //   \"tags\": [\n  //     \"string\"\n  //   ]\n  //   commentsContent: [] || [\n  //     {\n  //       answers: [\n  //         Comment,\n  //         ...\n  //       ],\n  //       \"text\": \"string\",\n  //       \"articleId\": number,\n  //       \"parentId\": number,\n  //       \"id\": number,\n  //       \"datetime\": string,\n  //       \"datetimeMS\": number,\n  //        \"isEdited\": true,\n  //         \"author\": {\n  //            \"login\": \"string\",\n  //            \"firstName\": \"string\",\n  //            \"lastName\": \"string\",\n  //            \"avatarUrl\": \"string\",\n  //            \"score\": 0\n  //        }\n  //      }\n  //   ]\n  // }\n\n};\n/**\r\n * @typedef {Object} Comment\r\n * @property {string} text\r\n * @property {string} articleId\r\n * @property {string} id\r\n * @property {string} dateTime\r\n * @property {boolean} isEdited\r\n * @property {User} author\r\n */\n\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {State}\r\n */\n\nfunction readerReducer(state = InitialReaderState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.SAVE_ARTICLE:\n      return { ...state,\n        [action.payload.id]: { ...action.payload,\n          commentsContent: []\n        }\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.SET_ARTICLE_LOADING:\n      // Загрузка не ставится, если по этому id уже\n      // есть хотя бы какие-то достоверные данные\n      if (action.payload.id in state && state[action.payload.id].title !== 'Загрузка') {\n        return state;\n      }\n\n      return { ...state,\n        [action.payload.id]: {\n          title: 'Загрузка',\n          tags: [],\n          datetime: '',\n          category: '',\n          author: {\n            login: '',\n            avatarUrl: '',\n            firstName: '',\n            lastName: 'Загрузка',\n            score: 0\n          },\n          likes: 0,\n          comments: 0,\n          commentsContent: [],\n          previewUrl: '',\n          ...action.payload,\n          text: 'Загрузка...'\n        }\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.OPEN_ARTICLE:\n      return { ...state,\n        currentId: action.payload\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.ADD_NEW_COMMENT:\n      const addCommentsCopy = [...state[state.currentId].commentsContent];\n      addCommentsCopy.push(action.payload);\n      return { ...state,\n        [state.currentId]: { ...state[state.currentId],\n          commentsContent: addCommentsCopy\n        }\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.SAVE_ARTICLE_COMMENTS:\n      if (action.payload.id in state) {\n        return { ...state,\n          [action.payload.id]: { ...state[action.payload.id],\n            commentsContent: action.payload.comments\n          }\n        };\n      } else {\n        return state;\n      }\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.ADD_COMMENT_ANSWER:\n      const thisComments2 = state[state.currentId].commentsContent;\n\n      if (action.payload.parentId === 0) {\n        return { ...state,\n          [state.currentId]: { ...[state.currentId],\n            commentsContent: [...thisComments2, action.payload.comment]\n          }\n        };\n      } else {\n        const commentsIdx = thisComments2.findIndex(({\n          id\n        }) => id === action.payload.parentId);\n\n        if (commentsIdx !== -1) {\n          const commentsDeepCopy = JSON.parse(JSON.stringify(thisComments2));\n          commentsDeepCopy[commentsIdx].answers.push(action.payload.answer);\n          return { ...state,\n            [state.currentId]: { ...state[state.currentId],\n              commentsContent: commentsDeepCopy\n            }\n          };\n        } else {\n          console.warn('коментарий с таким айди', action.payload.parentId, 'не найден');\n        }\n      }\n\n      return state;\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.readerTypes.EDIT_ARTICLE_COMMENT:\n      let answerIdx = -1;\n      const thisComments = state[state.currentId].commentsContent; // поиск по комментам нулевого уровня\n\n      let commentsIdx = thisComments.findIndex(({\n        id\n      }) => id === action.payload.id);\n\n      if (commentsIdx === -1) {\n        // поиск по комментам первого уровня\n        commentsIdx = thisComments.findIndex(({\n          answers\n        }, idx) => {\n          answerIdx = answers.findIndex(({\n            id\n          }) => id === action.payload.id);\n\n          if (answerIdx !== -1) {\n            commentsIdx = idx;\n          }\n        });\n      } // поиск по комментариям 0 уровня или по ответам удался\n\n\n      if (commentsIdx !== -1) {\n        console.warn('коментарий с айди найден', {\n          commentsIdx,\n          answerIdx\n        }); // глубокая копия комментариев к текущей статье\n\n        const commentsDeepCopy = JSON.parse(JSON.stringify(state[state.currentId].commentsContent));\n\n        if (answerIdx !== -1) {\n          commentsDeepCopy[commentsIdx][answerIdx].text = action.payload.text;\n        } else {\n          commentsDeepCopy[commentsIdx].text = action.payload.text;\n        }\n\n        return { ...state,\n          [state.currentId]: { ...[state.currentId],\n            commentsContent: commentsDeepCopy\n          }\n        };\n      } else {\n        console.warn('коментарий с таким айди', action.payload.id, 'не найден');\n        return state;\n      }\n\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/readerReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/routerReducer.js":
/*!***********************************************!*\
  !*** ./public/flux/reducers/routerReducer.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ routerReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialRouterState = {};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {State}\r\n */\n\nfunction routerReducer(state = InitialRouterState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.routerTypes.REDIRECT:\n      return { ...state\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/routerReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/searchPageReducer.js":
/*!***************************************************!*\
  !*** ./public/flux/reducers/searchPageReducer.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ searchPageReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst endOfFeedMarkerID = 'end';\nconst InitialSearchState = {\n  isLoading: false,\n  // отправлен ли запрос на сервер\n  idLastLoaded: '',\n  // запоминаем последнюю загруженную запись\n  lastScrollPos: 0,\n  // скрол для возврата к той же записи\n  cards: [],\n  // массив загруженных новостей\n  isEndFound: false,\n  value: '',\n  group: 'articles',\n  description: 'Статьи'\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction searchPageReducer(state = InitialSearchState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SET_SEARCH_GROUP:\n      return { ...state,\n        group: action.payload.group,\n        description: action.payload.description\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SET_LOADING_FLAG:\n      return { ...state,\n        isLoading: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SET_SEARCH_VALUE:\n      return { ...state,\n        value: action.payload\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.FORBID_CARDS_UPLOADING:\n      return { ...state,\n        isEndFound: true\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.ALLOW_CARDS_UPLOADING:\n      return { ...state,\n        isEndFound: false\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.SAVE_NEW_CARDS:\n      const cards = action.payload.cards;\n\n      if (cards.length === 0) {\n        return { ...state,\n          isLoading: false\n        };\n      } // запрещаем загрузку карточек, чтобы не спамить сервер\n\n\n      const isEndFound = cards[cards.length - 1].id === endOfFeedMarkerID;\n\n      if (isEndFound) {\n        // Удаляем последнюю запись с end'ом\n        cards.splice(cards.length - 1, 1);\n      }\n\n      return { ...state,\n        isLoading: false,\n        idLastLoaded: cards[cards.length - 1]?.id || state.idLastLoaded,\n        cards: state.cards.concat(cards),\n        isEndFound\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.searchTypes.CLEAR_CARDS:\n      return { ...state,\n        cards: [],\n        isLoading: false,\n        idLastLoaded: '',\n        lastScrollPos: 0,\n        isEndFound: false\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/searchPageReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/signupFormReducer.js":
/*!***************************************************!*\
  !*** ./public/flux/reducers/signupFormReducer.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ signupFormReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialSignupFormState = {\n  showRegister: true\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction signupFormReducer(state = InitialSignupFormState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.signupFormTypes.SWITCH_FORM_TYPE:\n      return { ...state,\n        showRegister: action.payload\n      };\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/signupFormReducer.js?");

/***/ }),

/***/ "./public/flux/reducers/streamReducer.js":
/*!***********************************************!*\
  !*** ./public/flux/reducers/streamReducer.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ streamReducer)\n/* harmony export */ });\n/* harmony import */ var _types_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types.js */ \"./public/flux/types.js\");\n\nconst InitialStreamState = {\n  comments: [] // массив загруженных новостей\n\n};\n/**\r\n * @param {Object} state\r\n * @param {Action} action\r\n * @return {Object}\r\n */\n\nfunction streamReducer(state = InitialStreamState, action) {\n  switch (action.type) {\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.streamTypes.SAVE_NEW_COMMENTS:\n      const comments = action.payload;\n\n      if (comments.length === 0) {\n        return state;\n      }\n\n      return { ...state,\n        comments: state.comments.concat(comments)\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.streamTypes.CLEAR_COMMENTS:\n      return { ...state,\n        comments: []\n      };\n\n    case _types_js__WEBPACK_IMPORTED_MODULE_0__.streamTypes.ASK_NEW_COMMENTS:\n      // UNUSED\n      return state;\n  }\n\n  return state;\n}\n\n//# sourceURL=webpack://saber_project/./public/flux/reducers/streamReducer.js?");

/***/ }),

/***/ "./public/flux/store.js":
/*!******************************!*\
  !*** ./public/flux/store.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _createStore_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./createStore.js */ \"./public/flux/createStore.js\");\n/* harmony import */ var _reducers_authorizeReducer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./reducers/authorizeReducer.js */ \"./public/flux/reducers/authorizeReducer.js\");\n/* harmony import */ var _reducers_changePageReducer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./reducers/changePageReducer.js */ \"./public/flux/reducers/changePageReducer.js\");\n/* harmony import */ var _reducers_mainPageReducer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reducers/mainPageReducer.js */ \"./public/flux/reducers/mainPageReducer.js\");\n/* harmony import */ var _reducers_profilePageReducer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./reducers/profilePageReducer.js */ \"./public/flux/reducers/profilePageReducer.js\");\n/* harmony import */ var _reducers_categoryPageReducer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reducers/categoryPageReducer.js */ \"./public/flux/reducers/categoryPageReducer.js\");\n/* harmony import */ var _reducers_signupFormReducer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./reducers/signupFormReducer.js */ \"./public/flux/reducers/signupFormReducer.js\");\n/* harmony import */ var _reducers_apiReducer_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./reducers/apiReducer.js */ \"./public/flux/reducers/apiReducer.js\");\n/* harmony import */ var _reducers_editorReducer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./reducers/editorReducer.js */ \"./public/flux/reducers/editorReducer.js\");\n/* harmony import */ var _reducers_readerReducer_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./reducers/readerReducer.js */ \"./public/flux/reducers/readerReducer.js\");\n/* harmony import */ var _reducers_routerReducer_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./reducers/routerReducer.js */ \"./public/flux/reducers/routerReducer.js\");\n/* harmony import */ var _reducers_streamReducer_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./reducers/streamReducer.js */ \"./public/flux/reducers/streamReducer.js\");\n/* harmony import */ var _reducers_searchPageReducer_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./reducers/searchPageReducer.js */ \"./public/flux/reducers/searchPageReducer.js\");\n/* harmony import */ var _reducers_combineReducers_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./reducers/combineReducers.js */ \"./public/flux/reducers/combineReducers.js\");\n/* harmony import */ var _middleWares_asyncHandleThunk_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./middleWares/asyncHandleThunk.js */ \"./public/flux/middleWares/asyncHandleThunk.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst store = (0,_createStore_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])((0,_reducers_combineReducers_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"])({\n  router: _reducers_routerReducer_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"],\n  authorization: _reducers_authorizeReducer_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  page: _reducers_changePageReducer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"],\n  mainPage: _reducers_mainPageReducer_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n  profilePage: _reducers_profilePageReducer_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n  categoryPage: _reducers_categoryPageReducer_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n  search: _reducers_searchPageReducer_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"],\n  signupForm: _reducers_signupFormReducer_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n  api: _reducers_apiReducer_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n  editor: _reducers_editorReducer_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"],\n  reader: _reducers_readerReducer_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"],\n  stream: _reducers_streamReducer_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"]\n}), {}, _middleWares_asyncHandleThunk_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"]);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (store);\n\n//# sourceURL=webpack://saber_project/./public/flux/store.js?");

/***/ }),

/***/ "./public/flux/types.js":
/*!******************************!*\
  !*** ./public/flux/types.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TYPE\": () => (/* binding */ TYPE),\n/* harmony export */   \"authorizationTypes\": () => (/* binding */ authorizationTypes),\n/* harmony export */   \"changePageTypes\": () => (/* binding */ changePageTypes),\n/* harmony export */   \"modalTypes\": () => (/* binding */ modalTypes),\n/* harmony export */   \"signupFormTypes\": () => (/* binding */ signupFormTypes),\n/* harmony export */   \"mainPageTypes\": () => (/* binding */ mainPageTypes),\n/* harmony export */   \"profilePageTypes\": () => (/* binding */ profilePageTypes),\n/* harmony export */   \"categoryPageTypes\": () => (/* binding */ categoryPageTypes),\n/* harmony export */   \"searchTypes\": () => (/* binding */ searchTypes),\n/* harmony export */   \"streamTypes\": () => (/* binding */ streamTypes),\n/* harmony export */   \"apiTypes\": () => (/* binding */ apiTypes),\n/* harmony export */   \"editorTypes\": () => (/* binding */ editorTypes),\n/* harmony export */   \"readerTypes\": () => (/* binding */ readerTypes),\n/* harmony export */   \"routerTypes\": () => (/* binding */ routerTypes),\n/* harmony export */   \"SYSTYPES\": () => (/* binding */ SYSTYPES)\n/* harmony export */ });\nconst TYPE = 'TYPE';\nconst LOGIN = 'LOGIN';\nconst LOGOUT = 'LOGOUT';\nconst authorizationTypes = {\n  LOGIN,\n  LOGOUT\n};\nconst changePageTypes = {\n  CHANGE_PAGE: 'CHANGE_PAGE',\n  CHANGE_DOC_TITLE: 'CHANGE_DOC_TITLE'\n};\nconst modalTypes = {\n  MODAL_OPEN: 'MODAL_OPEN',\n  MODAL_CLOSE: 'MODAL_CLOSE'\n};\nconst signupFormTypes = {\n  SWITCH_FORM_TYPE: 'SWITCH_FORM_TYPE'\n};\nconst mainPageTypes = {\n  ASK_NEW_CARDS: 'ASK_NEW_CARDS',\n  SAVE_NEW_CARDS: 'SAVE_NEW_CARDS',\n  CLEAR_CARDS: 'CLEAR_CARDS',\n  FORBID_CARDS_UPLOADING: 'FORBID_CARDS_UPLOADING',\n  ALLOW_CARDS_UPLOADING: 'ALLOW_CARDS_UPLOADING',\n  SET_LOADING_FLAG: 'SET_LOADING_FLAG',\n  UNSET_LOADING_FLAG: 'UNSET_LOADING_FLAG'\n};\nconst profilePageTypes = {\n  ASK_NEW_USER_ARTICLES: 'ASK_NEW_USER_ARTICLES',\n  SAVE_NEW_USER_ARTICLES: 'SAVE_NEW_USER_ARTICLES',\n  CLEAR_USER_ARTICLES: 'CLEAR_USER_ARTICLES',\n  FORBID_USER_ARTICLES_UPLOADING: 'FORBID_USER_ARTICLES_UPLOADING',\n  ALLOW_USER_ARTICLES_UPLOADING: 'ALLOW_USER_ARTICLES_UPLOADING',\n  SET_USER_ARTICLES_LOADING: 'SET_USER_ARTICLES_LOADING',\n  UNSET_USER_ARTICLES_LOADING: 'UNSET_USER_ARTICLES_LOADING',\n  SET_USER_INFO: 'SET_USER_INFO',\n  SET_USER_LOADING: 'SET_USER_LOADING'\n};\nconst categoryPageTypes = {\n  ASK_NEW_CATEGORY_ARTICLES: 'ASK_NEW_CATEGORY_ARTICLES',\n  SAVE_NEW_CATEGORY_ARTICLES: 'SAVE_NEW_CATEGORY_ARTICLES',\n  CLEAR_CATEGORY_ARTICLES: 'CLEAR_CATEGORY_ARTICLES',\n  FORBID_CATEGORY_ARTICLES_UPLOADING: 'FORBID_CATEGORY_ARTICLES_UPLOADING',\n  ALLOW_CATEGORY_ARTICLES_UPLOADING: 'ALLOW_CATEGORY_ARTICLES_UPLOADING',\n  SET_CATEGORY_ARTICLES_LOADING: 'SET_CATEGORY_ARTICLES_LOADING',\n  UNSET_CATEGORY_ARTICLES_LOADING: 'UNSET_CATEGORY_ARTICLES_LOADING',\n  SELECT_CATEGORY: 'SELECT_CATEGORY'\n};\nconst searchTypes = {\n  ASK_NEW_CARDS: 'ASK_NEW_CARDS_SEARCH',\n  SAVE_NEW_CARDS: 'SAVE_NEW_CARDS_SEARCH',\n  CLEAR_CARDS: 'CLEAR_CARDS_SEARCH',\n  FORBID_CARDS_UPLOADING: 'FORBID_CARDS_UPLOADING_SEARCH',\n  ALLOW_CARDS_UPLOADING: 'ALLOW_CARDS_UPLOADING_SEARCH',\n  SET_LOADING_FLAG: 'SET_LOADING_FLAG_SEARCH',\n  UNSET_LOADING_FLAG: 'UNSET_LOADING_FLAG_SEARCH',\n  SET_SEARCH_GROUP: 'SET_SEARCH_GROUP_SEARCH',\n  SET_SEARCH_VALUE: 'SET_SEARCH_VALUE_SEARCH'\n};\nconst streamTypes = {\n  ASK_NEW_COMMENTS: 'ASK_NEW_COMMENTS_STREAM',\n  // UNUSED\n  SAVE_NEW_COMMENTS: 'SAVE_NEW_COMMENTS_STREAM',\n  CLEAR_COMMENTS: 'CLEAR_COMMENTS_STREAM'\n};\nconst apiTypes = {\n  SET_UNAVAILABLE: 'SET_UNAVAILABLE',\n  SET_AVAILABLE: 'SET_AVAILABLE'\n};\nconst editorTypes = {\n  APPEND_TAG: 'EDITOR_APPEND_TAG',\n  REMOVE_TAG: 'EDITOR_REMOVE_TAG',\n  EDIT_EXISTING_ARTICLE: 'EDITOR_EDIT_EXISTING_ARTICLE',\n  CREATE_ARTICLE: 'EDITOR_CREATE_ARTICLE',\n  SAVE_ARTICLE: 'EDITOR_SAVE_ARTICLE',\n  PUBLISH_ARTICLE: 'EDITOR_PUBLISH_ARTICLE',\n  CLEAR_ARTICLE: 'EDITOR_CLEAR_ARTICLE',\n  DELETE_ARTICLE: 'EDITOR_DELETE_ARTICLE',\n  SAVE_PREVIEW: 'EDITOR_SAVE_PREVIEW',\n  SAVE_CATEGORY: 'EDITOR_SAVE_CATEGORY'\n};\nconst readerTypes = {\n  SAVE_ARTICLE: 'READER_SAVE_ARTICLE',\n  OPEN_ARTICLE: 'READER_OPEN_ARTICLE',\n  SET_ARTICLE_LOADING: 'READER_SET_ARTICLE_LOADING',\n  SAVE_ARTICLE_COMMENTS: 'READER_SAVE_ARTICLE_COMMENTS',\n  EDIT_ARTICLE_COMMENT: 'READER_EDIT_ARTICLE_COMMENT',\n  ADD_COMMENT_ANSWER: 'READER_ADD_COMMENT_ANSWER',\n  ADD_NEW_COMMENT: 'READER_ADD_NEW_COMMENT'\n};\nconst routerTypes = {\n  REDIRECT: 'REDIRECT'\n};\nconst SYSTYPES = {\n  INIT: '__INIT__'\n};\n\n//# sourceURL=webpack://saber_project/./public/flux/types.js?");

/***/ }),

/***/ "./public/globals.js":
/*!***************************!*\
  !*** ./public/globals.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"disableSW\": () => (/* binding */ disableSW),\n/* harmony export */   \"ajaxDebug\": () => (/* binding */ ajaxDebug),\n/* harmony export */   \"modalsDebug\": () => (/* binding */ modalsDebug),\n/* harmony export */   \"fluxDebug\": () => (/* binding */ fluxDebug),\n/* harmony export */   \"routerDebug\": () => (/* binding */ routerDebug),\n/* harmony export */   \"linkControllerDebug\": () => (/* binding */ linkControllerDebug),\n/* harmony export */   \"viewsDebug\": () => (/* binding */ viewsDebug),\n/* harmony export */   \"pageDebug\": () => (/* binding */ pageDebug),\n/* harmony export */   \"wsDebug\": () => (/* binding */ wsDebug)\n/* harmony export */ });\n// ///////////////////////////////// //\n//\n//          Globals\n//\n// ///////////////////////////////// //\n// const ajaxDebug = process && process.env.ajaxDebug === 'true';\nconst disableSW = true;\nconst ajaxDebug = true;\nconst modalsDebug = true;\nconst fluxDebug = true;\nconst routerDebug = true;\nconst linkControllerDebug = true;\nconst viewsDebug = true;\nconst pageDebug = true;\nconst wsDebug = true;\n // const ajaxDebug = false;\n// const modalsDebug = false;\n// const fluxDebug = false;\n// const routerDebug = false;\n// const linkControllerDebug = false;\n// const viewsDebug = false;\n// const pageDebug = false;\n// const wsDebug = false;\n\n//# sourceURL=webpack://saber_project/./public/globals.js?");

/***/ }),

/***/ "./public/main.js":
/*!************************!*\
  !*** ./public/main.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./globals.js */ \"./public/globals.js\");\n/* harmony import */ var _static_styles_style_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./static/styles/style.scss */ \"./public/static/styles/style.scss\");\n/* harmony import */ var _pages_mainPage_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/mainPage.js */ \"./public/pages/mainPage.js\");\n/* harmony import */ var _pages_profilePage_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/profilePage.js */ \"./public/pages/profilePage.js\");\n/* harmony import */ var _pages_profileSettingsPage_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/profileSettingsPage.js */ \"./public/pages/profileSettingsPage.js\");\n/* harmony import */ var _pages_loadingScreen_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/loadingScreen.js */ \"./public/pages/loadingScreen.js\");\n/* harmony import */ var _pages_articleEditorPage_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pages/articleEditorPage.js */ \"./public/pages/articleEditorPage.js\");\n/* harmony import */ var _pages_articleReaderPage_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pages/articleReaderPage.js */ \"./public/pages/articleReaderPage.js\");\n/* harmony import */ var _pages_categoryPage_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pages/categoryPage.js */ \"./public/pages/categoryPage.js\");\n/* harmony import */ var _pages_signupPage_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pages/signupPage.js */ \"./public/pages/signupPage.js\");\n/* harmony import */ var _pages_searchPage_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pages/searchPage.js */ \"./public/pages/searchPage.js\");\n/* harmony import */ var _components_linksController_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./components/linksController.js */ \"./public/components/linksController.js\");\n/* harmony import */ var _components_router_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./components/router.js */ \"./public/components/router.js\");\n/* harmony import */ var _components_modal_signupModal_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./components/modal/signupModal.js */ \"./public/components/modal/signupModal.js\");\n/* harmony import */ var _components_modal_serviceWarning_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./components/modal/serviceWarning.js */ \"./public/components/modal/serviceWarning.js\");\n/* harmony import */ var _components_imgPreloader_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/imgPreloader.js */ \"./public/components/imgPreloader.js\");\n/* harmony import */ var _modules_ajaxRequests_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./modules/ajaxRequests.js */ \"./public/modules/ajaxRequests.js\");\n/* harmony import */ var _modules_webSocket_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./modules/webSocket.js */ \"./public/modules/webSocket.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./flux/store.js */ \"./public/flux/store.js\");\n\n\n\n // pages\n\n\n\n\n\n\n\n\n\n // Controllers\n\n\n // components\n\n\n\n // network\n\n\n // eslint-disable-next-line no-unused-vars\n\n // flux store\n\n // Preload\n\n_components_imgPreloader_js__WEBPACK_IMPORTED_MODULE_15__[\"default\"].upload(['static/img/background-space.png', 'static/img/background.png', 'static/img/icons/cross.svg', 'static/img/icons/eye-closed.svg', 'static/img/icons/eye-open.svg', 'static/img/icons/key.svg', 'static/img/icons/mail.svg', 'static/img/icons/username.svg', 'static/img/icons/like.svg', 'static/img/icons/like_hover.svg', 'static/img/icons/comment.svg', 'static/img/icons/comment_hover.svg', 'static/img/icons/share.svg', 'static/img/icons/share_hover.svg', 'static/img/icons/trash.svg', 'static/img/icons/trash_hover.svg', 'static/img/icons/search.svg', 'static/img/icons/search_hover.svg', 'static/img/icons/send.svg']); // ServiceWorker\n\nconst SWJSFile = 'serviceWorker.js';\n\nif ('serviceWorker' in navigator && !_globals_js__WEBPACK_IMPORTED_MODULE_0__.disableSW) {\n  navigator.serviceWorker.register(SWJSFile, {\n    scope: '/'\n  }).then(registration => {\n    console.warn('sw registration on scope:', registration.scope);\n  }).catch(err => {\n    console.error(err);\n  });\n} else {\n  console.warn('ServiceWorker is unable in navigator');\n}\n\nconst root = document.getElementById('root');\nconst router = new _components_router_js__WEBPACK_IMPORTED_MODULE_12__[\"default\"](root);\nconst linksController = new _components_linksController_js__WEBPACK_IMPORTED_MODULE_11__[\"default\"](root); // экран загрузки\n\nconst loadingScreen = new _pages_loadingScreen_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n_components_modal_serviceWarning_js__WEBPACK_IMPORTED_MODULE_14__[\"default\"].init(); // ///////////////////////////////// //\n//\n//        Настройки переходов\n//\n// ///////////////////////////////// //\n\nrouter.register('/', _pages_mainPage_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]).register('/profile', _pages_profilePage_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]).registerPattern('/user/<login>', _pages_profilePage_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]).registerPattern('/article/<id>', _pages_articleReaderPage_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"]).register('/profile/settings', _pages_profileSettingsPage_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"]).register('/editor', _pages_articleEditorPage_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"]).registerPattern('/categories/<сategory>', _pages_categoryPage_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]).register('/categories', _pages_categoryPage_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"]).register('/login', _pages_signupPage_js__WEBPACK_IMPORTED_MODULE_9__[\"default\"]).register('/search', _pages_searchPage_js__WEBPACK_IMPORTED_MODULE_10__[\"default\"]);\nlinksController.register('signupModal', _components_modal_signupModal_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].show, true).register('loginModal', _components_modal_signupModal_js__WEBPACK_IMPORTED_MODULE_13__[\"default\"].show, false).register('logout', () => {\n  if (_flux_store_js__WEBPACK_IMPORTED_MODULE_18__[\"default\"].getState().authorization.isAuthenticated) {\n    (0,_modules_ajaxRequests_js__WEBPACK_IMPORTED_MODULE_16__.logoutRequest)();\n  }\n}).register('back', () => window.history.back());\nloadingScreen.start();\n\n(async function init() {\n  await (0,_modules_ajaxRequests_js__WEBPACK_IMPORTED_MODULE_16__.cookieLogin)();\n  await loadingScreen.end();\n  linksController.enable();\n  router.start();\n})();\n\n//# sourceURL=webpack://saber_project/./public/main.js?");

/***/ }),

/***/ "./public/modules/ajax.js":
/*!********************************!*\
  !*** ./public/modules/ajax.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n // Поменять тут, в server/server.js, server/server-api.js (не забыть CORS)\n// Тачка Алексея\n// const APIurl = 'http://87.228.2.178:8081/api/v1';\n// Тачка Дорофеева\n\nconst APIurl = 'http://89.208.197.247:8081/api/v1'; // Локальная разработка\n// const APIurl = 'http://localhost:8081/api/v1';\n\n/**\r\n * Поддерживаемые методы: GET и POST\r\n * @typedef {Object} AjaxMethod\r\n * @property {string} post\r\n * @property {string} get\r\n */\n\nconst ajaxMethods = {\n  post: 'POST',\n  get: 'GET'\n};\n/**\r\n * Поддерживаемые http-статусы ответа: 200, 400, 404\r\n * @typedef {Object} AjaxStatus\r\n * @property {number} ok\r\n * @property {number} notFound\r\n * @property {number} badRequest\r\n */\n\nconst ajaxStatuses = {\n  ok: 200,\n  notFound: 404,\n  // redirect: 303,\n  badRequest: 400,\n  invalidSession: 424\n};\n/**\r\n * Выполняет ajax-запрос на сервер. При успешном выполнении вызывает callback\r\n * @param {Object} requestParams\r\n * @property {AjaxMethod} [method = \"GET\"]\r\n * @property {Url} [url = '/']\r\n * @property {any} body\r\n * @return {Promise}\r\n */\n\nfunction ajax(requestParams) {\n  const url = APIurl + (requestParams.url || '/');\n  const fetchParams = {\n    body: JSON.stringify(requestParams.body),\n    mode: 'cors',\n    credentials: 'include',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    method: requestParams.method\n  };\n\n  if (_globals_js__WEBPACK_IMPORTED_MODULE_0__.ajaxDebug) {\n    console.log('ajax request', {\n      url\n    }, ': ' + JSON.stringify(fetchParams));\n  }\n\n  let status = 0;\n  return fetch(url, fetchParams).then(response => {\n    status = response.status;\n    return response.json();\n  }).then(response => {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_0__.ajaxDebug) {\n      console.log('ajax resolved ' + status + ': ');\n      console.log(response);\n    }\n\n    return {\n      status,\n      response\n    };\n  }).catch(error => {\n    console.warn(error);\n  });\n}\n/**\r\n * Выполняет отправку фото на сервер. При успешном выполнении вызывает callback\r\n * @param {Object} requestParams\r\n * @property {Url} [url = '/']\r\n * @property {any} body\r\n * @return {Promise}\r\n */\n\n\nfunction postFile(requestParams) {\n  const url = APIurl + (requestParams.url || '/');\n  const formData = new FormData();\n  formData.append('img', requestParams.body);\n  const fetchParams = {\n    body: formData,\n    mode: 'cors',\n    credentials: 'include',\n    // https://muffinman.io/blog/uploading-files-using-fetch-multipart-form-data/\n    // headers: {\n    //   'Content-Type': 'multipart/form-data',\n    // },\n    method: ajaxMethods.post\n  };\n\n  if (_globals_js__WEBPACK_IMPORTED_MODULE_0__.ajaxDebug) {\n    console.log('ajax file post request', {\n      url\n    }, ': ' + JSON.stringify(fetchParams));\n  }\n\n  let status = 0;\n  return fetch(url, fetchParams).then(response => {\n    status = response.status;\n    return response.json();\n  }).then(response => {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_0__.ajaxDebug) {\n      console.log('ajax resolved ' + status + ': ');\n      console.log(response);\n    }\n\n    return {\n      status,\n      response\n    };\n  }).catch(error => {\n    console.warn(error);\n  });\n} // Плагин для общения с API\n\n\nconst Ajax = {\n  AJAX_METHODS: ajaxMethods,\n  STATUS: ajaxStatuses,\n  get: requestParams => ajax({\n    method: ajaxMethods.get,\n    ...requestParams\n  }),\n  post: requestParams => ajax({\n    method: ajaxMethods.post,\n    ...requestParams\n  }),\n  postFile,\n  APIurl\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Ajax);\n\n//# sourceURL=webpack://saber_project/./public/modules/ajax.js?");

/***/ }),

/***/ "./public/modules/ajaxRequests.js":
/*!****************************************!*\
  !*** ./public/modules/ajaxRequests.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"logoutRequest\": () => (/* binding */ logoutRequest),\n/* harmony export */   \"cookieLogin\": () => (/* binding */ cookieLogin),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _ajax_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n\n\nconst RETRY_DELAY = 30000;\n/**\r\n * Выполняет logout-запрос на сервер. При успешном выполнении вызывает\r\n * событие authorizationTypes.LOGOUT\r\n */\n\nfunction logoutRequest() {\n  _ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post({\n    url: '/user/logout',\n    body: {}\n  }).then(() => _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_2__.authorizationActions.logout()));\n}\n/**\r\n * Попытка аутентификации пользователя\r\n * через куки, например, при загрузке приложения\r\n * При успешном выполнении вызывает\r\n * событие authorizationTypes.LOGIN\r\n * @return {Promise}\r\n */\n\nfunction cookieLogin() {\n  return _ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post({\n    url: '/',\n    body: {}\n  }).then(({\n    status,\n    response\n  }) => {\n    if (status === _ajax_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].STATUS.ok) {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_2__.authorizationActions.login(response.data));\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_2__.apiActions.setAvailable());\n  }).catch(error => {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_3__.ajaxDebug) {\n      console.warn('[AJAX]', error.message);\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_2__.apiActions.setUnavailable());\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch((dispatch, getState) => {\n      setTimeout(cookieLogin, RETRY_DELAY);\n    });\n  });\n}\nconst ajaxRequests = {\n  cookieLogin,\n  logoutRequest\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ajaxRequests);\n\n//# sourceURL=webpack://saber_project/./public/modules/ajaxRequests.js?");

/***/ }),

/***/ "./public/modules/webSocket.js":
/*!*************************************!*\
  !*** ./public/modules/webSocket.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/transformApi.js */ \"./public/common/transformApi.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_streamActions_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/actions/streamActions.js */ \"./public/flux/actions/streamActions.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n // Тачка Дорофеева\n\nconst APIurl = 'ws://89.208.197.247:8081/api/v1/ws'; // Локальная разработка (Запусти node server/serverWs.js)\n// const APIurl = 'ws://localhost:8082';\n\nconst webSocket = new WebSocket(APIurl);\n\nwebSocket.onopen = function (e) {\n  if (_globals_js__WEBPACK_IMPORTED_MODULE_3__.wsDebug) {\n    console.log('webSocket: Соединение установлено');\n  }\n};\n\nwebSocket.onmessage = function (event) {\n  if (_globals_js__WEBPACK_IMPORTED_MODULE_3__.wsDebug) {\n    console.log(`webSocket: Данные получены с сервера: ${event.data}`);\n  }\n\n  let data = '';\n\n  try {\n    data = JSON.parse(event.data);\n  } catch (e) {\n    console.warn(e.message);\n    return;\n  }\n\n  if (data.type = 'stream-comment') {\n    addStreamComment(data);\n  }\n};\n\nwebSocket.onclose = function (event) {\n  if (event.wasClean) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_3__.wsDebug) {\n      console.log(`webSocket: Соединение закрыто чисто, \\\n      код=${event.code} причина=${event.reason}`);\n    }\n  } else {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_3__.wsDebug) {\n      console.warn('Соединение прервано');\n    }\n  }\n};\n\nwebSocket.onerror = function (error) {\n  console.warn(`webSocket: error: ${error.message}`);\n};\n/**\r\n * Добавляет стрим-комментарий\r\n * @param {Object} data\r\n */\n\n\nfunction addStreamComment(data) {\n  (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_0__.appendApiImg)(data.author);\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].dispatch(_flux_actions_streamActions_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].saveNewComments([data]));\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (webSocket);\n\n//# sourceURL=webpack://saber_project/./public/modules/webSocket.js?");

/***/ }),

/***/ "./public/pages/_createPage.js":
/*!*************************************!*\
  !*** ./public/pages/_createPage.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ createPage)\n/* harmony export */ });\n/* harmony import */ var _components_basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/_basic/baseComponent.js */ \"./public/components/_basic/baseComponent.js\");\n/* harmony import */ var _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/header/header.js */ \"./public/components/header/header.js\");\n/* harmony import */ var _components_sidebar_sidebar_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/sidebar/sidebar.js */ \"./public/components/sidebar/sidebar.js\");\n\n\n // синглтоны\n\nlet header = null;\nlet sidebar = null;\n/**\r\n  * Генерирует HTML-страницу проекта\r\n  * Заполняет блок .content элементами elements в порядке следования\r\n  * @param  {string} title\r\n  * @param  {...BaseComponent} elements\r\n  * @return {HTMLElement}\r\n  */\n\nfunction createPage(title, ...elements) {\n  if (header === null || sidebar === null) {\n    header = new _components_header_header_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n    sidebar = new _components_sidebar_sidebar_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]();\n  }\n\n  const bkgDiv = document.createElement('div');\n  bkgDiv.className = 'background';\n  const screenDiv = document.createElement('div');\n  screenDiv.className = 'screen';\n  const pageDiv = document.createElement('div');\n  pageDiv.className = 'page';\n  const pageTitleDiv = document.createElement('div');\n  pageTitleDiv.className = 'page_title';\n  pageTitleDiv.textContent = title;\n  const contentDiv = document.createElement('div');\n  contentDiv.className = 'content';\n  elements.forEach(element => {\n    if (element instanceof _components_basic_baseComponent_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]) {\n      contentDiv.appendChild(element.render());\n    } else if (element instanceof HTMLElement) {\n      contentDiv.appendChild(element);\n    } else {\n      console.warn(element, 'is not BaseComponent nor HTMLElement');\n    }\n  });\n  pageDiv.appendChild(header.render());\n  pageDiv.appendChild(pageTitleDiv);\n  pageDiv.appendChild(contentDiv);\n  screenDiv.appendChild(pageDiv);\n  screenDiv.appendChild(sidebar.render());\n  bkgDiv.appendChild(screenDiv);\n  return bkgDiv;\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/_createPage.js?");

/***/ }),

/***/ "./public/pages/articleEditorPage.js":
/*!*******************************************!*\
  !*** ./public/pages/articleEditorPage.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditorPage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _articleEditorView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./articleEditorView.js */ \"./public/pages/articleEditorView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/modal/modalTemplates.js */ \"./public/components/modal/modalTemplates.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../common/utils.js */ \"./public/common/utils.js\");\n\n\n\n\n\n\n\n/**\r\n   * Проверяет состояние editor\r\n   * @return {boolean}\r\n   */\n\nfunction isUpdate() {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().editor;\n  return typeof state.currentId === 'string' && state.currentId !== '0' || typeof state.currentId === 'number' && state.currentId !== 0;\n}\n/**\r\n * @class EditorPage\r\n */\n\n\nclass EditorPage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _articleEditorView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_4__.authorizationTypes.LOGOUT, () => {\n      console.log('[ArticleEditorPage] Logout reaction');\n\n      if (this.isActive()) {\n        _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].warn('Вы неавторизованы', `Чтобы продолжить редактирование, выполните повторный вход.\n            Текущее состояние сохранено. Не перезагружайте страницу.`, () => (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_6__.redirect)('/'));\n      }\n    });\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   */\n\n\n  show() {\n    super.show();\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_5__.changePageActions.changePage('editor', `SaberProject | ${isUpdate() ? 'Edit' : 'Create'} article`));\n  }\n  /**\r\n   * Вызывается в роутере. Если return не '', нужно выполнить переход\r\n   * по пути, возвращенному из функции\r\n   *\r\n   * Возможны редиректы на: /login\r\n   * @param {string} currentPath\r\n   * @return {string}\r\n   */\n\n\n  redirect(currentPath) {\n    if (_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().authorization.isAuthenticated) {\n      return '';\n    }\n\n    return '/login';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/articleEditorPage.js?");

/***/ }),

/***/ "./public/pages/articleEditorView.js":
/*!*******************************************!*\
  !*** ./public/pages/articleEditorView.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ EditorView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _createPage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_createPage.js */ \"./public/pages/_createPage.js\");\n/* harmony import */ var _components_editor_editor_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/editor/editor.js */ \"./public/components/editor/editor.js\");\n\n\n // import {genRanHexColor} from '../common/utils.js';\n// ///////////////////////////////// //\n//\n//              Article Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Страница содержит главный компонент - редактор статьи.\r\n * @class EditorView\r\n */\n\nclass EditorView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.pageComponents = {\n      editor: new _components_editor_editor_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]()\n    };\n  }\n  /**\r\n   * Отрисовка страницы\r\n   */\n\n\n  render() {\n    super.render();\n    this.root.appendChild((0,_createPage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('', this.pageComponents.editor));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/articleEditorView.js?");

/***/ }),

/***/ "./public/pages/articleReaderPage.js":
/*!*******************************************!*\
  !*** ./public/pages/articleReaderPage.js ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReaderPage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _articleReaderPageView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./articleReaderPageView.js */ \"./public/pages/articleReaderPageView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flux/actions/readerActions.js */ \"./public/flux/actions/readerActions.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/modal/modalTemplates.js */ \"./public/components/modal/modalTemplates.js\");\n/* harmony import */ var _common_transformApi_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/transformApi.js */ \"./public/common/transformApi.js\");\n\n\n\n\n\n\n\n\n/**\r\n * @class ReaderPage\r\n */\n\nclass ReaderPage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _articleReaderPageView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root);\n  }\n  /**\r\n   * Страница содержит главный компонент - интерфейс просмотра статьи.\r\n   * Компонент управляется собственным StateObject Reader\r\n   */\n\n\n  show() {\n    super.show();\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_4__.changePageActions.changePage('reader', `SaberProject | Article View`)); // берем id из урла\n\n    const idUrlParam = document.URL.slice(document.URL.indexOf('article/') + 8);\n    console.warn('[ArticleReaderPage] id from Url ', document.URL, idUrlParam);\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setArticleLoading({\n      id: idUrlParam\n    }));\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].openArticle(idUrlParam));\n    let responseStatus = 0;\n    _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get({\n      url: `/articles?id=${idUrlParam}`\n    }).then(({\n      status,\n      response\n    }) => new Promise((resolve, reject) => {\n      if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].STATUS.ok) {\n        resolve(response.data);\n      } else {\n        responseStatus = status;\n        reject(new Error(response.msg));\n      }\n    })).then(article => {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].saveArticle(article));\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].openArticle(article.id));\n    }).then(() => _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get({\n      url: `/comments?id=${idUrlParam}`\n    })).then(({\n      status,\n      response\n    }) => new Promise((resolve, reject) => {\n      if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].STATUS.ok) {\n        resolve(response.data);\n      } else {\n        responseStatus = status;\n        reject(new Error(`Комментарии загрузить не удалось\n            ${response.msg}`));\n      }\n    })) // рисуем комменты\n    .then(comments => {\n      // TODO: приходят не строки. Хорошо бы, чтоы Леша пофиксил\n      // здесь можно преобразовать типы при необходимости.\n      comments = comments.map(element => (0,_common_transformApi_js__WEBPACK_IMPORTED_MODULE_7__.translateServerComment)(element));\n      const baseComments = comments.filter(el => el.parentId === 0);\n      baseComments.forEach(baseComment => {\n        baseComment.answers = comments.filter(el => el.parentId === baseComment.id) // TODO: проверить\n        .sort((a, b) => a.datetimeMS < b.datetimeMS ? -1 : 1); // .sort((a, b) => {\n        //   if (a.datetime < b.datetime) {\n        //     return -1;\n        //   } else {\n        //     return 1;\n        //   }\n        // });\n      });\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_readerActions_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].saveArticleComments(idUrlParam, baseComments));\n    }) // не удалось загрузить статью или произошла другая ошибка\n    .catch(err => {\n      if (responseStatus !== 0) {\n        (0,_components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_6__.showModalNetOrServerError)(responseStatus, err.message);\n      } else {\n        console.warn(err.message);\n      }\n    });\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/articleReaderPage.js?");

/***/ }),

/***/ "./public/pages/articleReaderPageView.js":
/*!***********************************************!*\
  !*** ./public/pages/articleReaderPageView.js ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ReaderPageView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _createPage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_createPage.js */ \"./public/pages/_createPage.js\");\n/* harmony import */ var _components_reader_reader_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/reader/reader.js */ \"./public/components/reader/reader.js\");\n\n\n // ///////////////////////////////// //\n//\n//              Article Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Страница содержит главный компонент - HTML-контент статьи.\r\n * @class ReaderView\r\n */\n\nclass ReaderPageView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.pageComponents = {\n      reader: new _components_reader_reader_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]()\n    };\n  }\n  /**\r\n   * Отрисовка страницы\r\n   */\n\n\n  render() {\n    super.render();\n    this.root.appendChild((0,_createPage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('', this.pageComponents.reader));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/articleReaderPageView.js?");

/***/ }),

/***/ "./public/pages/basePageMV.js":
/*!************************************!*\
  !*** ./public/pages/basePageMV.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BasePageMV)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n/**\r\n * ModalView-контроллер для соответсвующих страниц\r\n * @class BasePageMV\r\n */\n\nclass BasePageMV {\n  /**\r\n   * Страница содержит главный компонент - .\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_1__.pageDebug) {\n      console.log(`[PAGE ${this.constructor.name}]\\tinit`);\n    }\n\n    this.view = new _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](root);\n  }\n  /**\r\n   * true - эдемент активен, его нежелательно перетирать\r\n   * @return {boolean}\r\n   */\n\n\n  isActive() {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_1__.pageDebug) {\n      console.log(`[PAGE ${this.constructor.name}]\\tisActive`);\n    }\n\n    return this.view.isActive();\n  }\n  /**\r\n   * Скрыть подконтрольную страницу\r\n   */\n\n\n  hide() {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_1__.pageDebug) {\n      console.log(`[PAGE ${this.constructor.name}]\\thide`);\n    }\n\n    this.view.hide();\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   * Должен быть вызван render() для обновления.\r\n   */\n\n\n  show() {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_1__.pageDebug) {\n      console.log(`[PAGE ${this.constructor.name}]\\tshow`);\n    }\n\n    this.view.show();\n  }\n  /**\r\n   * Вызывается в роутере. Если return не '', нужно выполнить переход\r\n   * по пути, возвращенному из функции\r\n   * @param {string} currentPath\r\n   * @return {string}\r\n   */\n\n\n  redirect(currentPath) {\n    return '';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/basePageMV.js?");

/***/ }),

/***/ "./public/pages/basePageView.js":
/*!**************************************!*\
  !*** ./public/pages/basePageView.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ BasePageView)\n/* harmony export */ });\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n/**\r\n * View для соответсвующих страниц\r\n * @class BasePageView\r\n */\n\nclass BasePageView {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    this.root = root;\n    this.root.dataset.view = this.constructor.name;\n    this.root.hidden = true;\n  }\n  /**\r\n   * true - эдемент активен, его нежелательно перетирать\r\n   * @return {boolean}\r\n   */\n\n\n  isActive() {\n    return !this.root.hidden;\n  }\n  /**\r\n   * Скрыть подконтрольную страницу\r\n   */\n\n\n  hide() {\n    this.root.hidden = true;\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   * Должен быть вызван render() для обновления.\r\n   */\n\n\n  show() {\n    this.root.hidden = false;\n    this.render();\n  }\n  /**\r\n   * Стереть подконтрольную страницу\r\n   */\n\n\n  render() {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_0__.pageDebug) {\n      console.log(`[PAGE ${this.constructor.name}]\\trender`);\n    }\n\n    this.root.innerHTML = ''; // this.root.appendChild(createPage(заголовок, контент));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/basePageView.js?");

/***/ }),

/***/ "./public/pages/categoryPage.js":
/*!**************************************!*\
  !*** ./public/pages/categoryPage.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CategoryPage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _categoryPageView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./categoryPageView.js */ \"./public/pages/categoryPageView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/actions/categoryPageActions.js */ \"./public/flux/actions/categoryPageActions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/modal/modal.js */ \"./public/components/modal/modal.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//             Category Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Обработчик scroll, который можно будет удалить\r\n * Проверяет, достигнут ли конец ленты\r\n * @param {event} event\r\n */\n\nfunction newsFeedEndReachEventAction({\n  currentTarget\n}) {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().categoryPage;\n  const trackedElement = currentTarget.querySelector('#feed__loading'); // работаем, только если отслеживаемый элемент\n  // находися в области видимости пользователя\n\n  if (state.isLoading || state.isEndFound || trackedElement.getBoundingClientRect().y > (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_8__.getUserWindowHeight)()) {\n    return;\n  }\n\n  console.log('[Category Page] scroll trigger');\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(uploadCategoryCards);\n}\n/**\r\n * Получить feedChunkSize записей (настройка на стороне сервера)\r\n */\n\n\nasync function uploadCategoryCards() {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().categoryPage;\n\n  if (state.isEndFound || state.isLoading) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_9__.ajaxDebug) {\n      console.log('[Category Page] Can\\'t load articles on ' + 'as isEndFound state flag is true');\n    }\n\n    return;\n  }\n  /**\r\n   * Обработчик для ответа с сервера\r\n   * @param {Object} cards\r\n   */\n\n\n  function onLoad(cards) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_9__.ajaxDebug) {\n      console.log('[Category Page] more news loaded!');\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].saveNewCategoryArticles(cards.length ? cards[cards.length - 1].id : state.idLastLoaded, cards));\n  }\n\n  ;\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setCategoryArticlesLoadingFlag());\n  await _modules_ajax_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get({\n    url: `/articles/category?idLastLoaded=${state.idLastLoaded}` + `&category=${state.currentCategory}`\n  }).then(({\n    status,\n    response\n  }) => {\n    if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].STATUS.ok) {\n      onLoad(response.data);\n      return;\n    }\n\n    if (status / 500 === 1) {\n      _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setTitle(`Сервис временно не доступен: ${status}`);\n    }\n\n    if (status / 400 === 1) {\n      _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setTitle(\n      /* пользовательская */\n      `Ошибка ${status}`);\n    }\n\n    _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setContent(response.msg);\n    _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].open(false);\n  }).catch(err => console.warn(err.message));\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].unsetCategoryArticlesLoadingFlag());\n}\n/**\r\n * @class CategoryPage\r\n */\n\n\nclass CategoryPage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _categoryPageView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n    // обновить ленту в соответствии с фильтром\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.categoryPageTypes.SELECT_CATEGORY, category => {\n      if (category !== '') {\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].clearCategoryArticles());\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].allowCategoryArticlesLoading());\n        uploadCategoryCards();\n      }\n\n      history.pushState(null, '', '/categories' + (category !== '' ? '/' + category : '')); // меняем и тайтл\n\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.changePageActions.changePage('categories', `SaberProject |\n              ${category !== '' ? category.charAt(0).toUpperCase() + category.slice(1) : 'Categories'}`));\n    }); // Обновить ленту, если есть изменения в статье или пользователь\n    // опубликовал новую\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.editorTypes.PUBLISH_ARTICLE, () => {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].clearCategoryArticles());\n    });\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   */\n\n\n  show() {\n    super.show();\n    const scrollable = document.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[Category Page] нет дивака .content');\n    } else {\n      scrollable.addEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n  /**\r\n   * Скрыть подконтрольную страницу\r\n   */\n\n\n  hide() {\n    super.hide();\n    const scrollable = document.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[Category Page] нет дивака .content');\n    } else {\n      scrollable.removeEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n  /**\r\n   * true - эдемент активен, его нежелательно перетирать\r\n   * @return {boolean}\r\n   */\n\n\n  isActive() {\n    let category = '';\n    const idx = document.URL.indexOf('categories/');\n\n    if (idx !== -1) {\n      try {\n        category = decodeURI(document.URL.slice(idx + 11));\n      } catch (e) {\n        console.error(e);\n      }\n\n      console.log('[CategoryPage] (isActive) category from Url:', category);\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].selectCategory(category));\n    } else if (document.URL.indexOf('categories') !== -1) {\n      // Если была выбрана категория, но юзер перешел по урлу на categories\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].clearSelectedCategory());\n    } // Чтобы спрятать анимацию загрузки, пока Category не выбранa\n\n\n    if (_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().categoryPage.currentCategory === '') {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].forbidCategoryArticlesLoading());\n    }\n\n    return super.isActive();\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/categoryPage.js?");

/***/ }),

/***/ "./public/pages/categoryPageView.js":
/*!******************************************!*\
  !*** ./public/pages/categoryPageView.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CategoryPageView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _createPage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_createPage.js */ \"./public/pages/_createPage.js\");\n/* harmony import */ var _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/feed/feed.js */ \"./public/components/feed/feed.js\");\n/* harmony import */ var _components_feed_composeCardStandart_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/feed/composeCardStandart.js */ \"./public/components/feed/composeCardStandart.js\");\n/* harmony import */ var _components_categoryChoiceBar_categoryChoiceBar_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/categoryChoiceBar/categoryChoiceBar.js */ \"./public/components/categoryChoiceBar/categoryChoiceBar.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../flux/actions/categoryPageActions.js */ \"./public/flux/actions/categoryPageActions.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n\n\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//          Category Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Страница содержит главный компонент - ленту новостей, с фильтром по тегам.\r\n * @class CategoryPage\r\n */\n\nclass CategoryPageView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    // root не трогать\n    super(root);\n    this.pageComponents = {\n      categoryChoose: new _components_categoryChoiceBar_categoryChoiceBar_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](() => _flux_store_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getState().categoryPage.currentCategory, _flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].selectCategory, _flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].clearSelectedCategory, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.categoryPageTypes.SELECT_CATEGORY),\n      feed: new _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_components_feed_composeCardStandart_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], 'categoryPage', _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.categoryPageTypes.SAVE_NEW_CATEGORY_ARTICLES, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.categoryPageTypes.CLEAR_CATEGORY_ARTICLES, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.categoryPageTypes.FORBID_CATEGORY_ARTICLES_UPLOADING, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.categoryPageTypes.ALLOW_CATEGORY_ARTICLES_UPLOADING, _flux_actions_categoryPageActions_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].forbidCategoryArticlesLoading, () => {\n        console.log('{CategoryPage feed} isEndFound is not been reset');\n        return {\n          type: '__EMPTY__'\n        };\n      })\n    };\n  }\n  /**\r\n    * Перерисовать главную страницу\r\n    */\n\n\n  render() {\n    super.render();\n    this.root.appendChild((0,_createPage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('Поиск по категориям', this.pageComponents.categoryChoose, this.pageComponents.feed));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/categoryPageView.js?");

/***/ }),

/***/ "./public/pages/loadingScreen.js":
/*!***************************************!*\
  !*** ./public/pages/loadingScreen.js ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ LoadingPage)\n/* harmony export */ });\n/* harmony import */ var _components_loading_loading_pug_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../components/loading/loading.pug.js */ \"./public/components/loading/loading.pug.js\");\n\nconst SPEED_MIN_LIMIT = 100; // 1000 frames ~ 10% of progress\n\nconst INITIAL_SPEED = 400; // 1000 frames ~ 40% of progress\n\nconst PROGRESS_STOP_AT = 75; // %\n\nconst SPEED_ON_END = 1000; // 1000 frames ~ 100% of progress\n\n/**\r\n * @class LoadingPage\r\n * @module LoadingPage\r\n */\n\nclass LoadingPage {\n  /**\r\n  * фон во время загрузки приложения\r\n  */\n  constructor() {\n    this.progressValue = 0;\n    this.root = document.createElement('div');\n    this.root.className = 'background';\n    this.root.innerHTML = (0,_components_loading_loading_pug_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n      progressValue: this.progressValue\n    });\n    this.progressBar = this.root.querySelector('progress');\n    this.animationId = 0;\n  }\n  /**\r\n   * Начать продвижение загрузки\r\n   */\n\n\n  async start() {\n    const root = document.getElementById('root');\n    root.innerHTML = '';\n    root.appendChild(this.root);\n    let prevTimestamp = performance.now();\n    let speed = INITIAL_SPEED;\n\n    const step = timestamp => {\n      this.progressValue += (timestamp - prevTimestamp) * speed / 10000;\n      prevTimestamp = timestamp;\n\n      if (this.progressValue < PROGRESS_STOP_AT) {\n        speed--;\n\n        if (speed < SPEED_MIN_LIMIT) {\n          speed = SPEED_MIN_LIMIT;\n        }\n\n        this.progressBar.value = this.progressValue;\n        window.requestAnimationFrame(step);\n      }\n    }; // начать анимацию\n\n\n    this.animationId = window.requestAnimationFrame(step);\n  }\n  /**\r\n   * Довести прогресс-бар до конца\r\n   */\n\n\n  async end() {\n    // остановить анимацию, если еще идет\n    window.cancelAnimationFrame(this.animationId);\n    await new Promise(resolve => {\n      let prevTimestamp = performance.now();\n\n      const step = timestamp => {\n        this.progressValue += (timestamp - prevTimestamp) * SPEED_ON_END / 10000;\n        prevTimestamp = timestamp;\n\n        if (this.progressValue < 100) {\n          this.progressBar.value = this.progressValue;\n          window.requestAnimationFrame(step);\n        } else {\n          resolve();\n        }\n      }; // начать анимацию\n\n\n      step(performance.now());\n    }); // убрать за собой\n\n    const root = document.getElementById('root');\n    root.innerHTML = '';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/loadingScreen.js?");

/***/ }),

/***/ "./public/pages/mainPage.js":
/*!**********************************!*\
  !*** ./public/pages/mainPage.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MainPage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _mainPageView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mainPageView.js */ \"./public/pages/mainPageView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/modal/modal.js */ \"./public/components/modal/modal.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//              Main Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Обработчик scroll, который можно будет удалить\r\n * Проверяет, достигнут ли конец ленты\r\n * @param {event} event\r\n */\n\nfunction newsFeedEndReachEventAction({\n  currentTarget\n}) {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().mainPage;\n  const trackedCard = currentTarget.querySelector('#feed__loading'); // работаем, только если отслеживаемый элемент\n  // находися в области видимости пользователя.\n  // При этом не находимся в состоянии ожидания запроса\n  // и трекинг-элемент не скрыт (при display: none - y = 0)\n\n  if (state.isLoading || state.isEndFound || trackedCard.getBoundingClientRect().y > (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_7__.getUserWindowHeight)()) {\n    return;\n  }\n\n  console.log('[Main Page] scroll trigger');\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(uploadNextCards);\n}\n/**\r\n * Получить feedChunkSize записей (настройка на стороне сервера)\r\n */\n\n\nasync function uploadNextCards() {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().mainPage;\n  const stateAuth = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().authorization;\n\n  if (state.isEndFound || state.isLoading) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_8__.ajaxDebug) {\n      console.log('[Main Page] can\\'t load news as' + 'isEndFound state flag is true');\n    }\n\n    return;\n  }\n  /**\r\n   * Обработчик для ответа с сервера\r\n   * @param {Object} cards\r\n   */\n\n\n  function onLoad(cards) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_8__.ajaxDebug) {\n      console.log('[Main Page] more news loaded!');\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.mainPageActions.saveNewCards(cards.length ? cards[cards.length - 1].id : state.idLastLoaded, cards));\n  }\n\n  ;\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.mainPageActions.setLoadingFlag());\n  await _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get({\n    url: `/articles/feed?idLastLoaded=${state.idLastLoaded || ''}` + '&login=' + (stateAuth.isAuthenticated ? stateAuth.login : 'all')\n  }).then(({\n    status,\n    response\n  }) => {\n    if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n      onLoad(response.data);\n      return;\n    }\n\n    if (status / 500 === 1) {\n      _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setTitle(`Сервис временно не доступен: ${status}`);\n    }\n\n    if (status / 400 === 1) {\n      _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setTitle(\n      /* пользовательская */\n      `Ошибка ${status}`);\n    }\n\n    _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].setContent(response.msg);\n    _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].open(false);\n  }).catch(err => console.warn(err.message));\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.mainPageActions.unsetLoadingFlag());\n}\n/**\r\n * @class MainPage\r\n * @module MainPage\r\n */\n\n\nclass MainPage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _mainPageView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n    // TODO: (неприоритет) добавить экшны на обновление записи и удаление, чтобы\n    // не скачивать ленту еще раз. Во всех лентах.\n    // Обновить ленту, если есть изменения в статье или пользователь\n    // опубликовал новую\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_4__.editorTypes.PUBLISH_ARTICLE, () => {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.mainPageActions.clearCards());\n    });\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   */\n\n\n  show() {\n    super.show();\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.changePageActions.changePage('main', `SaberProject`));\n\n    if (_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().mainPage.cards.length === 0) {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(uploadNextCards);\n    }\n\n    const scrollable = this.view.root.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[Main Page] нет дивака .content');\n    } else {\n      scrollable.addEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n  /**\r\n   * Скрыть подконтрольную страницу\r\n   */\n\n\n  hide() {\n    super.hide();\n    const scrollable = this.view.root.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[MainPage] нет дивака .content');\n    } else {\n      scrollable.removeEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/mainPage.js?");

/***/ }),

/***/ "./public/pages/mainPageView.js":
/*!**************************************!*\
  !*** ./public/pages/mainPageView.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MainPageView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _createPage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_createPage.js */ \"./public/pages/_createPage.js\");\n/* harmony import */ var _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/feed/feed.js */ \"./public/components/feed/feed.js\");\n/* harmony import */ var _components_feed_composeCardStandart_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/feed/composeCardStandart.js */ \"./public/components/feed/composeCardStandart.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n\n\n\n // import MainPagePreviewBar from\n//   '../components/feed/previews/mainPagePreviewBar.js';\n\n\n // ///////////////////////////////// //\n//\n//              Main Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Страница содержит главный компонент - ленту новостей, хедер, сайдбар.\r\n * @class MainPage\r\n * @module MainPage\r\n */\n\nclass MainPageView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    // root не трогать\n    super(root);\n    this.pageComponents = {\n      feed: new _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_components_feed_composeCardStandart_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], 'mainPage', _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.mainPageTypes.SAVE_NEW_CARDS, _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.mainPageTypes.CLEAR_CARDS, _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.mainPageTypes.FORBID_CARDS_UPLOADING, _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.mainPageTypes.ALLOW_CARDS_UPLOADING, _flux_actions_js__WEBPACK_IMPORTED_MODULE_5__.mainPageActions.forbidCardsLoading, _flux_actions_js__WEBPACK_IMPORTED_MODULE_5__.mainPageActions.allowCardsLoading)\n    };\n  }\n  /**\r\n    * Перерисовать главную страницу\r\n    */\n\n\n  render() {\n    super.render();\n    this.root.appendChild((0,_createPage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('', this.pageComponents.feed));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/mainPageView.js?");

/***/ }),

/***/ "./public/pages/profilePage.js":
/*!*************************************!*\
  !*** ./public/pages/profilePage.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProfilePage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _profilePageView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./profilePageView.js */ \"./public/pages/profilePageView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/modal/modalTemplates.js */ \"./public/components/modal/modalTemplates.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//             Profile Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Обработчик scroll, который можно будет удалить\r\n * Проверяет, достигнут ли конец ленты\r\n * @param {event} event\r\n */\n\nfunction newsFeedEndReachEventAction({\n  currentTarget\n}) {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().profilePage;\n  const trackedElement = currentTarget.querySelector('#feed__loading'); // работаем, только если отслеживаемый элемент\n  // находися в области видимости пользователя\n\n  if (state.isLoading || state.isEndFound || trackedElement.getBoundingClientRect().y > _common_utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].getUserWindowHeight()) {\n    return;\n  }\n\n  console.log('[Profile Page] scroll trigger');\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(uploadNextArticles);\n}\n/**\r\n * Получить статьи текущего пользователя\r\n */\n\n\nasync function uploadNextArticles() {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().profilePage;\n\n  if (state.isEndFound || state.isLoading) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_8__.ajaxDebug) {\n      console.log('can\\'t load usercards as isEndFound state flag is true');\n    }\n\n    return;\n  }\n  /**\r\n   * Обработчик для ответа с сервера\r\n   * @param {Object} cards\r\n   */\n\n\n  function onLoad(cards) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_8__.ajaxDebug) {\n      console.log('[ProfilePage] more user cards loaded!');\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.saveNewArticles(cards.length ? cards[cards.length - 1].id : state.idLastLoaded, cards));\n  }\n\n  ;\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.setArticlesLoadingFlag());\n  await _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get({\n    url: `/articles/author?idLastLoaded=${state.idLastLoaded}` + `&login=${state.user.login}`\n  }).then(({\n    status,\n    response\n  }) => {\n    if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n      onLoad(response.data);\n      return;\n    }\n\n    (0,_components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_5__.showModalNetOrServerError)(status, response.msg);\n  }).catch(err => console.warn(err.message));\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.unsetArticlesLoadingFlag());\n}\n/**\r\n * @class ProfilePage\r\n * @module ProfilePage\r\n */\n\n\nclass ProfilePage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _profilePageView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_4__.authorizationTypes.LOGOUT, () => {\n      if (this.isActive()) {\n        console.log('[ProfilePage] Logout reaction');\n\n        if (document.URL.indexOf('/profile') !== -1) {\n          _common_utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].redirect('/');\n        }\n      }\n    }); // Если были на своей страницы и сделали вход,\n    // Перерисовываем страницу как профиль\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_4__.authorizationTypes.LOGIN, () => {\n      if (this.isActive()) {\n        console.log('[ProfilePage] Login reaction');\n\n        if (document.URL.indexOf('/profile') === -1 && _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().profilePage.user.login === _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().authorization.login) {\n          _common_utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].redirect('/profile');\n        }\n      }\n    }); // Обновить ленту, если есть изменения в статье или пользователь\n    // опубликовал новую\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_4__.editorTypes.PUBLISH_ARTICLE, () => {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.clearArticles());\n    });\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   */\n\n\n  show() {\n    super.show();\n    const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().profilePage;\n    const authState = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().authorization; // берем login из урла и сверяемся, есть ли о юзере данные\n    // или нужно загружать по сети\n    // на странице /profile работаем только с авторизованным пользователем\n\n    if (document.URL.indexOf('/profile') !== -1) {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.setUserInfo(authState));\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.clearArticles());\n    } else {\n      const userUrlParam = document.URL.slice(document.URL.indexOf('user/') + 5);\n      console.warn('[ProfilePage] user from Url ', document.URL, userUrlParam); // путь '/user/' не пропустится сервером, т.к. путь не проходит валидацию\n      // для пути с параметром. Но доп. валидация нелишняя\n\n      if (userUrlParam === '') {\n        _common_utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].redirect('/404');\n      }\n\n      if (userUrlParam !== state.user.login) {\n        if (userUrlParam === authState.login) {\n          _common_utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].redirect('/profile');\n          return;\n        }\n\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.setUserLoading({\n          login: userUrlParam\n        }));\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.clearArticles());\n        _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].get({\n          url: `/user?user=${userUrlParam}`\n        }).then(({\n          status,\n          response\n        }) => {\n          if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n            _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.profilePageActions.setUserInfo(response.data));\n            return;\n          }\n\n          (0,_components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_5__.showModalNetOrServerError)(status, response.msg);\n          _common_utils_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].redirect('/');\n        }).catch(err => console.warn(err.message));\n      }\n    }\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.changePageActions.changePage('profile', `SaberProject | ${state.user.login}`));\n\n    if (_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().profilePage.cards.length === 0) {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(uploadNextArticles);\n    }\n\n    const scrollable = this.view.root.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[ProfilePage] нет дивака .content');\n    } else {\n      scrollable.addEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n  /**\r\n   * Скрыть подконтрольную страницу\r\n   */\n\n\n  hide() {\n    super.hide();\n    const scrollable = this.view.root.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[ProfilePage] нет дивака .content');\n    } else {\n      scrollable.removeEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n  /**\r\n   * Вызывается в роутере. Если return не '', нужно выполнить переход\r\n   * по пути, возвращенному из функции\r\n   *\r\n   * Возможны редиректы на: /login\r\n   * @param {string} currentPath\r\n   * @return {string}\r\n   */\n\n\n  redirect(currentPath) {\n    const authorizedUser = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().authorization; // редирект с user/<login> на /profile обрабатыватеся\n    // в самой страничке\n\n    if (document.URL.indexOf('/profile') !== -1 && !authorizedUser.isAuthenticated) {\n      return '/login';\n    }\n\n    return '';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/profilePage.js?");

/***/ }),

/***/ "./public/pages/profilePageView.js":
/*!*****************************************!*\
  !*** ./public/pages/profilePageView.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProfilePageView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _createPage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_createPage.js */ \"./public/pages/_createPage.js\");\n/* harmony import */ var _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/feed/feed.js */ \"./public/components/feed/feed.js\");\n/* harmony import */ var _components_feed_composeCardStandart_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/feed/composeCardStandart.js */ \"./public/components/feed/composeCardStandart.js\");\n/* harmony import */ var _components_profileCard_profileCard_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/profileCard/profileCard.js */ \"./public/components/profileCard/profileCard.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n\n\n\n\n\n\n\n/**\r\n * Страница содержит главный компонент - ленту новостей, хедер, сайдбар.\r\n * @class ProfilePageView\r\n */\n\nclass ProfilePageView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.pageComponents = {\n      profileCard: new _components_profileCard_profileCard_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"](),\n      feed: new _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_components_feed_composeCardStandart_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], 'profilePage', _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.profilePageTypes.SAVE_NEW_USER_ARTICLES, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.profilePageTypes.CLEAR_USER_ARTICLES, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.profilePageTypes.FORBID_USER_ARTICLES_UPLOADING, _flux_types_js__WEBPACK_IMPORTED_MODULE_5__.profilePageTypes.ALLOW_USER_ARTICLES_UPLOADING, _flux_actions_js__WEBPACK_IMPORTED_MODULE_6__.profilePageActions.forbidArticlesLoading, () => {\n        console.log('{profilePage feed} isEndFound is not been reset');\n        return {\n          type: '__EMPTY__'\n        };\n      })\n    };\n  }\n  /**\r\n   * Страница содержит главный компонент - карточку пользователя и его статьи\r\n   */\n\n\n  render() {\n    super.render();\n    this.root.appendChild((0,_createPage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('', this.pageComponents.profileCard, this.pageComponents.feed));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/profilePageView.js?");

/***/ }),

/***/ "./public/pages/profileSettingsPage.js":
/*!*********************************************!*\
  !*** ./public/pages/profileSettingsPage.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProfileSettingsPage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _profileSettingsPageView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./profileSettingsPageView.js */ \"./public/pages/profileSettingsPageView.js\");\n/* harmony import */ var _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/modal/modalTemplates.js */ \"./public/components/modal/modalTemplates.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _common_regexp_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/regexp.js */ \"./public/common/regexp.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//         Profile Settings Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * @class ProfileSettingsPage\r\n */\n\nclass ProfileSettingsPage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _profileSettingsPageView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.authorizationTypes.LOGOUT, () => {\n      if (this.isActive()) {\n        console.log('[ProfileSettingsPage] Logout reaction');\n        (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_7__.redirect)('/');\n      }\n    });\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   */\n\n\n  show() {\n    super.show();\n    const form = this.view.root.querySelector('form');\n    form.addEventListener('submit', e => {\n      e.preventDefault(); // TODO: смена пароля\n      // const password = form.querySelector('input[name=\"password\"]');\n\n      const firstName = form.querySelector('input[name=\"username\"]')?.value.trim();\n      const lastName = form.querySelector('input[name=\"surname\"]')?.value.trim();\n      const description = form.querySelector('textarea[name=\"description\"]')?.value.trim();\n      const img = form.querySelector('input[type=\"file\"]')?.files[0];\n\n      if (firstName !== '' && !_common_regexp_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].firstName.test(firstName)) {\n        this.view.pageComponents.settingsForm.appendWarning('Такое имя выбрать нельзя');\n        return;\n      }\n\n      if (lastName !== '' && !_common_regexp_js__WEBPACK_IMPORTED_MODULE_8__[\"default\"].lastName.test(lastName)) {\n        this.view.pageComponents.settingsForm.appendWarning('Такую фамилию выбрать нельзя');\n        return;\n      }\n\n      if (img && !img.type.startsWith('image/')) {\n        _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].warn('Ошибка', 'Выберите изображение');\n        return;\n      } // если пароли не совпадают TODO:\n      // if (showRegister && passwordRepeated !== password) {\n      //   formWarning.style.display = 'block';\n      //   formWarningLabel.style.display = 'block';\n      //   formWarning.textContent = 'Удостоверьтесь, что пароли совпадают';\n      //   return;\n      // }\n\n\n      let responseStatus = 0;\n      let avatarHash = '';\n      new Promise((resolve, reject) => {\n        if (img) {\n          resolve(img);\n        } else {\n          reject(new Error('Картинка не прекреплена'));\n        }\n      }).then(() => _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].postFile({\n        url: '/img/upload',\n        body: img\n      })).then(({\n        status,\n        response\n      }) => new Promise((resolve, reject) => {\n        if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n          resolve(response.data.imgId);\n        } else {\n          responseStatus = status;\n          reject(new Error(response.msg));\n        }\n      })) // Падает, если не прикреплена картинка - надо восстановить цепочку,\n      // а если Ajax, то перейти в конец\n      .catch(err => new Promise((resolve, reject) => {\n        if (responseStatus === 0) {\n          resolve('');\n        } else {\n          reject(err);\n        }\n      })).then(avatarUrl => {\n        // прокидываем картинку в юзердату\n        avatarHash = avatarUrl;\n        return _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].post({\n          url: '/user/profile/update',\n          body: {\n            // password,\n            firstName,\n            lastName,\n            avatarUrl,\n            description\n          }\n        });\n      }).then(({\n        status,\n        response\n      }) => new Promise((resolve, reject) => {\n        if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.ok) {\n          resolve(response.data);\n        } else {\n          responseStatus = status;\n          reject(new Error(response.msg));\n        }\n      })).then(userData => {\n        if (avatarHash !== '') {\n          userData.avatarUrl = _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].APIurl + '/img/' + avatarHash;\n        }\n\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_4__.authorizationActions.login(userData));\n        _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].informativeMsg('Успех!', 'Профиль обновлен');\n        (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_7__.redirect)('/profile');\n        return;\n      }).catch(({\n        message\n      }) => {\n        if (responseStatus === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].STATUS.invalidSession) {\n          _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_4__.authorizationActions.logout());\n          _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].informativeMsg('Сессия устарела', 'Пройдите авторизацию');\n          (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_7__.redirect)('/login');\n          return;\n        }\n\n        if (_globals_js__WEBPACK_IMPORTED_MODULE_9__.ajaxDebug) {\n          console.warn(message);\n        } // В случае ошибки сервера\n\n\n        if ((responseStatus + '')[0] === '5') {\n          _components_modal_modalTemplates_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].netOrServerError(responseStatus, message);\n          return;\n        } // в случае провала валидации формы\n\n\n        this.view.pageComponents.settingsForm.appendWarning(msg);\n      });\n    });\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_4__.changePageActions.changePage('profileSettings', `Settings | ${_flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().authorization.login}`));\n  }\n  /**\r\n   * Вызывается в роутере. Если return не '', нужно выполнить переход\r\n   * по пути, возвращенному из функции\r\n   *\r\n   * Возможны редиректы на: /login\r\n   * @param {string} currentPath\r\n   * @return {string}\r\n   */\n\n\n  redirect(currentPath) {\n    if (_flux_store_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].getState().authorization.login !== '') {\n      return '';\n    }\n\n    return '/login';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/profileSettingsPage.js?");

/***/ }),

/***/ "./public/pages/profileSettingsPageView.js":
/*!*************************************************!*\
  !*** ./public/pages/profileSettingsPageView.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ProfileSettingsPageView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _createPage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_createPage.js */ \"./public/pages/_createPage.js\");\n/* harmony import */ var _components_settings_settingsForm_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/settings/settingsForm.js */ \"./public/components/settings/settingsForm.js\");\n\n\n // ///////////////////////////////// //\n//\n//       Profile Setting Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Страница содержит главный компонент - форму изменения профиля.\r\n * @class ProfileSettingsPageView\r\n */\n\nclass ProfileSettingsPageView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.pageComponents = {\n      settingsForm: new _components_settings_settingsForm_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"]()\n    };\n  }\n  /**\r\n    * Перерисовать главную страницу\r\n    */\n\n\n  render() {\n    super.render();\n    this.root.appendChild((0,_createPage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('Настройки пользователя', this.pageComponents.settingsForm));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/profileSettingsPageView.js?");

/***/ }),

/***/ "./public/pages/searchPage.js":
/*!************************************!*\
  !*** ./public/pages/searchPage.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SearchPage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _searchPageView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./searchPageView.js */ \"./public/pages/searchPageView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/actions/searchActions.js */ \"./public/flux/actions/searchActions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../components/modal/modal.js */ \"./public/components/modal/modal.js\");\n/* harmony import */ var _modules_ajax_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../modules/ajax.js */ \"./public/modules/ajax.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../common/utils.js */ \"./public/common/utils.js\");\n/* harmony import */ var _globals_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../globals.js */ \"./public/globals.js\");\n\n\n\n\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//              Search Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Обработчик scroll, который можно будет удалить\r\n * Проверяет, достигнут ли конец ленты\r\n * @param {event} event\r\n */\n\nfunction newsFeedEndReachEventAction({\n  currentTarget\n}) {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().search;\n  const trackedCard = currentTarget.querySelector('#feed__loading'); // работаем, только если отслеживаемый элемент\n  // находися в области видимости пользователя.\n  // При этом не находимся в состоянии ожидания запроса\n  // и трекинг-элемент не скрыт (при display: none - y = 0)\n\n  if (state.isLoading || state.isEndFound || trackedCard.getBoundingClientRect().y > (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_8__.getUserWindowHeight)()) {\n    return;\n  }\n\n  console.log('[Search Page] scroll trigger');\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(uploadNextCards);\n}\n/**\r\n * Получить feedChunkSize записей (настройка на стороне сервера)\r\n */\n\n\nasync function uploadNextCards() {\n  const state = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().search;\n\n  if (state.isEndFound || state.isLoading) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_9__.ajaxDebug) {\n      console.log('[Search Page] can\\'t load news as' + 'isEndFound state flag is true');\n    }\n\n    return;\n  }\n  /**\r\n   * Обработчик для ответа с сервера\r\n   * @param {Object} cards\r\n   */\n\n\n  function onLoad(cards) {\n    if (_globals_js__WEBPACK_IMPORTED_MODULE_9__.ajaxDebug) {\n      console.log('[Search Page] more news loaded!');\n    } // модифицируем в случае с юзером для интеграции в ленту\n\n\n    cards.forEach(card => {\n      if ('login' in card) {\n        card.id = card.login;\n      }\n    });\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].saveNewCards( // TODO:\n    // cards.length ? cards[cards.length - 1].id : state.idLastLoaded,\n    '', cards));\n  }\n\n  ;\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].setLoadingFlag());\n  await _modules_ajax_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].get({\n    url: `/search/${state.group}?q=${state.value || ''}` + `&idLastLoaded=${state.idLastLoaded || ''}`\n  }).then(({\n    status,\n    response\n  }) => {\n    if (status === _modules_ajax_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"].STATUS.ok) {\n      onLoad(response.data);\n      return;\n    }\n\n    if (status / 500 === 1) {\n      _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setTitle(`Сервис временно не доступен: ${status}`);\n    }\n\n    if (status / 400 === 1) {\n      _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setTitle(\n      /* пользовательская */\n      `Ошибка ${status}`);\n    }\n\n    _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].setContent(response.msg);\n    _components_modal_modal_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"].open(false);\n  }).catch(err => console.warn(err.message));\n  _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].unsetLoadingFlag());\n}\n/**\r\n * @class SearchPage\r\n * @module SearchPage\r\n */\n\n\nclass SearchPage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _searchPageView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root); // /////////////////////////////////\n    //\n    //        Communication\n    //\n    // /////////////////////////////////\n    // обновить ленту если параметры поиска изменились\n\n    const updateFeed = category => {\n      if (category !== '') {\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].clearCards());\n        _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"].allowCardsLoading());\n        uploadNextCards();\n      } // TODO: параметры поиска в url\n      // history.pushState(\n      //     null,\n      //     '',\n      //     '/search' + (category !== '' ? '/' + category : ''),\n      // );\n      // меняем и тайтл\n      // store.dispatch(\n      //     changePageActions.changePage(\n      //         'categories',\n      //         `SaberProject |\n      //         ${category !== '' ?\n      //         (category.charAt(0).toUpperCase() + category.slice(1)) :\n      //         'Categories'}`,\n      //     ),\n      // );\n\n    };\n\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.searchTypes.SET_SEARCH_VALUE, updateFeed);\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_5__.searchTypes.SET_SEARCH_GROUP, updateFeed);\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   */\n\n\n  show() {\n    super.show();\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.changePageActions.changePage('search', `SaberProject | Search`));\n\n    if (_flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].getState().search.cards.length === 0) {\n      _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(uploadNextCards);\n    }\n\n    const scrollable = this.view.root.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[Search Page] нет дивака .content');\n    } else {\n      scrollable.addEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n  /**\r\n   * Скрыть подконтрольную страницу\r\n   */\n\n\n  hide() {\n    super.hide();\n    const scrollable = this.view.root.querySelector('.content');\n\n    if (!scrollable) {\n      console.warn('[SearchPage] нет дивака .content');\n    } else {\n      scrollable.removeEventListener('scroll', newsFeedEndReachEventAction);\n    }\n  }\n  /**\r\n   * true - эдемент активен, его нежелательно перетирать\r\n   * @return {boolean}\r\n   */\n\n\n  isActive() {\n    // TODO: получить параметры из поиска\n    // let group = '';\n    // let value = '';\n    // const idx = document.URL.indexOf('search/');\n    // if (idx !== -1) {\n    //   try {\n    //     category = decodeURI(document.URL.slice(idx + ));\n    //   } catch (e) {\n    //     console.error(e);\n    //   }\n    //   console.log('[CategoryPage] (isActive) category from Url:',\n    //       category);\n    //   store.dispatch(categoryPageActions.selectCategory(category));\n    // } else if (document.URL.indexOf('categories') !== -1) {\n    //   // Если была выбрана категория, но юзер перешел по урлу на categories\n    //   store.dispatch(categoryPageActions.clearSelectedCategory());\n    // }\n    // // Чтобы спрятать анимацию загрузки, пока Category не выбранa\n    // if (store.getState().categoryPage.currentCategory === '') {\n    //   store.dispatch(categoryPageActions.forbidCategoryArticlesLoading());\n    // }\n    return super.isActive();\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/searchPage.js?");

/***/ }),

/***/ "./public/pages/searchPageView.js":
/*!****************************************!*\
  !*** ./public/pages/searchPageView.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SearchPageView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _createPage_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_createPage.js */ \"./public/pages/_createPage.js\");\n/* harmony import */ var _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/feed/feed.js */ \"./public/components/feed/feed.js\");\n/* harmony import */ var _components_feed_composeUsers_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/feed/composeUsers.js */ \"./public/components/feed/composeUsers.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../flux/actions/searchActions.js */ \"./public/flux/actions/searchActions.js\");\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//              Search Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Страница содержит главный компонент - ленту новостей, хедер, сайдбар.\r\n * @class SearchPage\r\n * @module SearchPage\r\n */\n\nclass SearchPageView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    // root не трогать\n    super(root);\n    this.pageComponents = {\n      feed: new _components_feed_feed_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](_components_feed_composeUsers_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"], 'search', _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.searchTypes.SAVE_NEW_CARDS, _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.searchTypes.CLEAR_CARDS, _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.searchTypes.FORBID_CARDS_UPLOADING, _flux_types_js__WEBPACK_IMPORTED_MODULE_4__.searchTypes.ALLOW_CARDS_UPLOADING, _flux_actions_searchActions_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"].forbidCardsLoading, () => {\n        console.log('{SearchPage feed} isEndFound is not been reset');\n        return {\n          type: '__EMPTY__'\n        };\n      })\n    };\n  }\n  /**\r\n    * Перерисовать главную страницу\r\n    */\n\n\n  render() {\n    super.render();\n    this.root.appendChild((0,_createPage_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])('', this.pageComponents.feed));\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/searchPageView.js?");

/***/ }),

/***/ "./public/pages/signupPage.js":
/*!************************************!*\
  !*** ./public/pages/signupPage.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SignupPage)\n/* harmony export */ });\n/* harmony import */ var _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageMV.js */ \"./public/pages/basePageMV.js\");\n/* harmony import */ var _signupPageView_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./signupPageView.js */ \"./public/pages/signupPageView.js\");\n/* harmony import */ var _flux_store_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../flux/store.js */ \"./public/flux/store.js\");\n/* harmony import */ var _flux_actions_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../flux/actions.js */ \"./public/flux/actions.js\");\n/* harmony import */ var _flux_types_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../flux/types.js */ \"./public/flux/types.js\");\n/* harmony import */ var _common_utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../common/utils.js */ \"./public/common/utils.js\");\n\n\n\n\n\n // ///////////////////////////////// //\n//\n//         Signup Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * @class SignupPage\r\n */\n\nclass SignupPage extends _basePageMV_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.view = new _signupPageView_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](root);\n    this.showRegister = false; // отображение формы логины\n\n    this.unsubscribeLogin = () => {};\n  }\n  /**\r\n   * Отобразить подконтрольную страницу.\r\n   */\n\n\n  show() {\n    super.show();\n    this.showRegister = false;\n    this.unsubscribeLogin = _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].subscribe(_flux_types_js__WEBPACK_IMPORTED_MODULE_4__.authorizationTypes.LOGIN, () => {\n      (0,_common_utils_js__WEBPACK_IMPORTED_MODULE_5__.redirect)('/');\n    });\n    this.view.changeFormTypeBtn.addEventListener('click', e => {\n      e.preventDefault();\n      this.showRegister = !this.showRegister;\n      this.view.switchFormType(this.showRegister);\n    });\n    _flux_store_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].dispatch(_flux_actions_js__WEBPACK_IMPORTED_MODULE_3__.changePageActions.changePage('signup', `SaberProjects | ${this.showRegister ? 'Signup' : 'Login'}`));\n  }\n  /**\r\n   * Скрыть подконтрольную страницу\r\n   */\n\n\n  hide() {\n    super.hide();\n    this.unsubscribeLogin();\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/signupPage.js?");

/***/ }),

/***/ "./public/pages/signupPageView.js":
/*!****************************************!*\
  !*** ./public/pages/signupPageView.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ SignupPageView)\n/* harmony export */ });\n/* harmony import */ var _basePageView_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./basePageView.js */ \"./public/pages/basePageView.js\");\n/* harmony import */ var _components_signupForm_signupForm_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/signupForm/signupForm.js */ \"./public/components/signupForm/signupForm.js\");\n\n // ///////////////////////////////// //\n//\n//       Signup Page\n//\n// ///////////////////////////////// //\n\n/**\r\n * Страница содержит главный компонент - форму изменения профиля.\r\n * @class SignupPageView\r\n */\n\nclass SignupPageView extends _basePageView_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  /**\r\n   * @param {HTMLElement} root\r\n   */\n  constructor(root) {\n    super(root);\n    this.formDiv = null;\n    this.changeFormTypeBtn = null;\n  }\n  /**\r\n    * Перерисовать главную страницу\r\n    */\n\n\n  render() {\n    super.render();\n    const bkgDiv = document.createElement('div');\n    bkgDiv.className = 'background-space';\n    const pageDiv = document.createElement('div');\n    pageDiv.className = 'page-space';\n    const contentDiv = document.createElement('div');\n    contentDiv.className = 'content-space';\n    const formDiv = document.createElement('div');\n    const logoDiv = document.createElement('a');\n    logoDiv.innerHTML = 'SaberNews';\n    logoDiv.className = 'header__title';\n    logoDiv.href = '/';\n    logoDiv.style.cssText = 'position: absolute;'; // //////////////////////////////////\n    // Элементы навигации\n\n    const changeFormTypeBtn = document.createElement('a');\n    changeFormTypeBtn.textContent = 'Создать аккаунт';\n    changeFormTypeBtn.dataset.router = 'ignore'; // форма\n\n    formDiv.appendChild(new _components_signupForm_signupForm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](false).render()); // //////////////////////////////////\n\n    this.formDiv = formDiv;\n    this.changeFormTypeBtn = changeFormTypeBtn; // //////////////////////////////////\n\n    contentDiv.appendChild(formDiv);\n    contentDiv.appendChild(changeFormTypeBtn);\n    pageDiv.appendChild(logoDiv);\n    pageDiv.appendChild(contentDiv);\n    bkgDiv.appendChild(pageDiv);\n    this.root.appendChild(bkgDiv);\n  }\n  /**\r\n   * Сменить форму логин / регистрация\r\n   * @param {bolean} showRegister true, чтобы отобразить форму регистрации\r\n   * flase - логина\r\n   */\n\n\n  switchFormType(showRegister) {\n    if (!this.formDiv || !this.changeFormTypeBtn) {\n      console.warn('[SignupPage] was not rendered yet');\n      return;\n    }\n\n    this.formDiv.innerHTML = '';\n    this.formDiv.appendChild(new _components_signupForm_signupForm_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"](showRegister).render());\n    this.changeFormTypeBtn.textContent = showRegister ? 'У меня уже есть аккаунт' : 'Создать аккаунт';\n  }\n\n}\n\n//# sourceURL=webpack://saber_project/./public/pages/signupPageView.js?");

/***/ }),

/***/ "./public/static/styles/style.scss":
/*!*****************************************!*\
  !*** ./public/static/styles/style.scss ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://saber_project/./public/static/styles/style.scss?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./public/main.js");
/******/ 	
/******/ })()
;