include categoryMixin
mixin tagMixin(content, color, cross=false)
  include tag.pug

.article-view
  .article-view__content
    .row
      a(data-section='back').article-view__back-btn Назад
      a(id='article-change-btn' style='display:none').article-view__back-btn Изменить
    .row
      +categoryMixin(category.content, category.color)
      .category
        .category__content
          if typeof author === "object"
            .article-view__author 
              a(href=`/user/${author.login}`)
                if (!author.firstName || !author.lastName)
                  | #{author.login}
                else
                  | #{author.firstName} #{author.lastName}
          else
            .article-view__author Ошибка
      .category
        .category__content #{datetime}
    .row
      .article-view__title #{title}
    .row
      .tags__row
        if Array.isArray(tags)
          each tag in tags.length ? tags : ['']
            +tagMixin(tag.content || tag, tag.color)
    .row
      .icon
        .icon__text #{likes || ''}
        .action-btns__likes-icon.icon__img
      .icon
        .icon__text #{comments || ''}
        .action-btns__comments-icon.icon__img
      .icon
        .action-btns__share-icon.icon__img
  //- .article-view__content
    .article-view__top
      a(id='article-change-btn' style='display:none').article-view__back-btn Изменить
      a(data-section='back').article-view__back-btn Назад
    .article-view__author-time
      +categoryMixin(category.content, category.color)
      if typeof author === "object"
        .article-view__author 
          a(href=`/user/${author.login}`)
            if (!author.firstName || !author.lastName)
              | #{author.login}
            else
              | #{author.firstName} #{author.lastName}
      else
        .article-view__author Ошибка
      .article-view__time #{datetime}
      //- .article-view__category
        +categoryMixin(category.content, category.color)
    .article-view__title #{title}
    .article-view__info
      .article-view__tags
        if Array.isArray(tags)
          each tag in tags.length ? tags : ['']
            a.article-view__tag #{tag}
      .action-btns
        .icon.action-btns_m-right
          .icon__text #{likes || ''}
          .action-btns__likes-icon.icon__img
        .icon.action-btns_m-right
          .icon__text #{comments || ''}
          .action-btns__comments-icon.icon__img
        .icon
          .action-btns__share-icon.icon__img
  img(src=`${previewUrl}`).article-view__main-picture
  .article-view__content
    .article-view__text #{text}
    include articleAddComment.pug
    .comments-show
        button.action-btns__arrow-icon.icon-small__img.comments-show__btn.rotate-180
        .comments-show__text Скрыть комментарии
    .comments(id='comments')
