const cacheName="SaberDevs-Project",APIPrefix="/api/v1/",cacheUrls=["/","./404.html","./favicon.ico","./index.html","./main.bandle.js","./main.css","./serviceWorker.js","./img/background-img.png","./img/background-space.png","./img/logo-for-sharing.png","./img/user_icon_loading.svg","./img/share/Daco_4064141.png","./img/share/odnoklassniki_PNG16.png","./img/share/Vk-icon.png","./img/share/VK.com-logo.svg","./img/icons/arrow.svg","./img/icons/comment.svg","./img/icons/comment_hover.svg","./img/icons/cross.svg","./img/icons/down.png","./img/icons/eye-closed.svg","./img/icons/eye-open.svg","./img/icons/key.svg","./img/icons/like.svg","./img/icons/like_hover.svg","./img/icons/mail.svg","./img/icons/menu.svg","./img/icons/search.svg","./img/icons/search_hover.svg","./img/icons/send.svg","./img/icons/share.svg","./img/icons/share_hover.svg","./img/icons/trash.svg","./img/icons/trash_hover.svg","./img/icons/up.png","./img/icons/username.svg","./fonts/Roboto-Light.ttf","./fonts/Roboto-Regular.ttf","./fonts/Roboto-Thin.ttf","./fonts/RussoOne-Regular.ttf","./fonts/Vollkorn-Italic-VariableFont_wght.ttf"];self.addEventListener("install",(e=>{e.waitUntil(caches.open(cacheName).then((e=>(console.log("[SW] on install: ",cacheName),e.addAll(cacheUrls)))).catch((e=>{console.error("smth went wrong with caches.open: ",e)})))})),self.addEventListener("fetch",(e=>{const s=e.request.url.toString();if(s.includes(APIPrefix)){const e=s.indexOf("img/");if(-1===e)return;if(""===s.substr(e+4))return}if(!0===navigator.onLine)return console.log("SW кеширует",s),fetch(e.request);e.respondWith(caches.match(e.request).then((s=>s||fetch(e.request))).catch((e=>{console.error("smth went wrong with caches.match: ",e)})))})),self.addEventListener("push",(e=>{console.warn("[PushManager]: push event");let s=e.data.title||"Это Ваш SaberNews!";const n={icon:"favicon.ico",image:"logo-for-sharing.png",lang:"ru-RU",vibrate:[200,300,200,300],body:"Народ умнеет, милорд"},i=e.data.data;switch(e.data.type){case 0:s="У Вашей статьи новый лайк!",n.body=`\n      ${i.articleTitle}\n      `;case 1:s="У Вашей статьи новый комментарий!",n.body=`\n      ${i.articleTitle}\n      ${i.firstName} ${i.lastName}:\n      ${i.commentText}\n      `;case 2:s="Ваш комментарий кто-то оценил!",n.body=`\n      ${i.commentText}\n      `;case 3:s="На Ваш комментарий поступил ответ!",n.body=`\n      ${i.commentText}\n      ${i.firstName} ${i.lastName}:\n      ${i.answerText}\n      `}e.waitUntil(self.registration.showNotification(s,n))}));